<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/tennis-report/favicon-32-thin.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/tennis-report/favicon-16.png">
  <link rel="icon" type="image/png" sizes="48x48" href="assets/tennis-report/favicon-48.png">
  <link rel="icon" type="image/x-icon" href="assets/tennis-report/favicon-32thin.ico">
  <link rel="shortcut icon" href="assets/tennis-report/favicon-32thin.ico">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals">
  <meta property="og:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge-1200x630.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Tournament report preview">
  <meta property="og:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge.svg">
  <meta property="og:image:type" content="image/svg+xml">
  <meta property="og:image:alt" content="Tournament report preview">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge-1200x630.png">
  <meta name="twitter:image:alt" content="Tournament report preview">
  <title>Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals, February 21 - 22, 2026, Redwood High School, Larkspur, CA</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      padding-top: 24px;
      background-color: #f5f5f5;
      border-top: 4px solid #4472C4;
    }

    .report-header {
      max-width: 1000px;
      margin: 12px auto 24px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      gap: 74px;
    }

    .report-header-logo-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 18px;
      padding: 4px;
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .report-header-logo-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(31, 45, 68, 0.18);
    }

    .report-header-logo-link:focus-visible {
      outline: 2px solid #4472C4;
      outline-offset: 4px;
    }

    .report-header-logo {
      width: 108px;
      height: 108px;
      display: block;
      object-fit: contain;
      flex-shrink: 0;
    }

    .report-header-text {
      text-align: center;
    }

    h1 {
      color: #2c3e50;
      text-align: center;
      margin: 0;
      font-size: 2.2em;
      font-weight: bold;
    }

    .tournament-dates-row {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      flex-wrap: wrap;
      margin: 8px 0 12px;
    }

    .tournament-dates {
      text-align: center;
      color: #2c3e50;
      font-size: 1.3em;
      font-weight: 600;
    }

    .deadline-badge {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 2px;
      padding: 6px 12px;
      border-radius: 12px;
      border: 1px solid #c9d6f5;
      background: #f3f6ff;
      font-size: 12px;
      line-height: 1.2;
      color: #2c3e50;
      white-space: nowrap;
    }

    .deadline-countdown {
      font-weight: 700;
      color: #2c5aa0;
    }

    .deadline-date {
      font-size: 11px;
      color: #5f6c7b;
    }

    .tournament-info {
      text-align: center;
      color: #7f8c8d;
      margin: 0 0 10px;
      font-size: 14px;
      line-height: 1.6;
    }

    .tournament-info a {
      color: inherit;
      text-decoration: underline;
    }

    .partner-jump {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    tr.partner-highlight td {
      background: #fff2cc !important;
    }

    tr.seeded-team td:first-child {
      border-left: 4px solid #cfe3ff;
    }

    .table-meta {
      max-width: 1000px;
      margin: 10px auto 6px;
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 12px;
    }

    /* Align section titles (e.g., Mixed Doubles Girls/Boys) with the table left edge */
    .table-section-title {
      max-width: 1000px;
      width: 100%;
      margin: 26px auto 12px;
      padding: 0;
      color: #2c3e50;
      font-size: 1.45em;
      font-weight: 700;
      text-align: left;
    }

    .key-stats {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-start;
      font-size: 12px;
      color: #2c3e50;
    }

    .key-stat {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 0;
      background: none;
      border: none;
      border-radius: 0;
    }

    .key-stat .key-value {
      font-weight: 700;
      color: #1f3b68;
    }

    .key-stat:not(:last-child)::after {
      content: "•";
      margin-left: 8px;
      color: #9aa9c0;
    }

    .link-legend {
      text-align: right;
      font-size: 11px;
      color: #666;
      white-space: nowrap;
    }

    .selection-callout {
      margin: 8px 0 12px;
      padding: 8px 10px;
      font-size: 12px;
      color: #2c3e50;
      background-color: #f3f6fb;
      border-left: 3px solid #4472C4;
      border-radius: 4px;
    }

    table {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      border-collapse: collapse;
      background-color: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    th {
      background-color: #4472C4;
      color: white;
      padding: 12px 10px;
      text-align: left;
      font-weight: bold;
      font-size: 13px;
      border-right: 1px solid white;
    }

    .players-table th {
      white-space: nowrap;
    }

    th:last-child {
      border-right: none;
    }

    /* Sortable column indicator */
    th.sortable {
      cursor: pointer;
    }

    th.sortable::after {
      content: ' ↕';
      font-size: 0.7em;
      opacity: 0.6;
      margin-left: 5px;
    }

    th.sortable[data-sort="asc"]::after {
      content: ' ↑';
      opacity: 0.9;
    }

    th.sortable[data-sort="desc"]::after {
      content: ' ↓';
      opacity: 0.9;
    }

    td {
      padding: 8px 10px;
      font-size: 13px;
      border-bottom: 1px solid #ddd;
    }

    /* Alternating row colors - exactly like the sample */
    tbody tr:nth-child(odd) {
      background-color: white;
    }

    tbody tr:nth-child(even) {
      background-color: #D9E2F3;
    }

    /* Hover effect */
    tbody tr:hover {
      background-color: #EAF2FB !important;
      cursor: pointer;
    }

    /* Highlighted player (Alexis) */
    tr.highlight-player {
      background-color: white !important;
    }

    tr.highlight-player:hover {
      background-color: white !important;
    }

    tr.highlight-player td {
      color: #222;
      font-weight: 600;
    }

    tr.highlight-player td.col-wtn {
      font-weight: normal;
    }

    tr.highlight-player td:nth-child(1) {
      border-left: 4px solid #f5c542;
    }

    tr.highlight-player td:nth-child(2) {
      background-color: #fff3cd;
    }

    tr.highlight-player td:nth-child(3) {
      background-color: #fff3cd;
    }

    tr.highlight-player:hover td:nth-child(2) {
      background-color: #fff3cd;
    }

    tr.highlight-player:hover td:nth-child(3) {
      background-color: #fff3cd;
    }

    /* Column alignment */
    .col-rank {
      text-align: center;
      width: 50px;
      font-weight: 600;
      color: #666;
    }

    .col-wtn {
      text-align: right;
      font-weight: normal;
    }

    .col-utr, .col-national {
      text-align: right;
      font-weight: 600;
    }

    .col-wtn, .col-utr {
      width: 70px;
    }

    .col-national {
      width: 85px;
    }

    tbody td:nth-child(3) {
      text-transform: capitalize;
    }

    td.col-wtn, td.col-utr, td.col-national {
      box-shadow: inset 0 0 0 9999px rgba(68, 114, 196, 0.06);
    }

    /* Links inside metric cells (keep visual style) */
    td.col-wtn a, td.col-utr a, td.col-national a {
      color: inherit;
      text-decoration: none;
      display: inline-block;
      width: 100%;
    }

    td.col-wtn a:hover, td.col-utr a:hover, td.col-national a:hover {
      text-decoration: underline;
    }

    /* Statistics section */
    .stats-section {
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .stats-section h3 {
      color: #2c3e50;
      margin-top: 0;
      border-bottom: 2px solid #4472C4;
      padding-bottom: 10px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-top: 15px;
    }

    .stat-box {
      padding: 15px;
      background-color: #f8f9fa;
      border-left: 4px solid #4472C4;
      border-radius: 4px;
    }

    .stat-label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #2c3e50;
    }

    .utr-histogram {
      max-width: 1000px;
      margin: 20px auto;
      padding: 16px 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
    }

    .utr-histogram h3 {
      color: #2c3e50;
      margin-top: 0;
      border-bottom: 2px solid #4472C4;
      padding-bottom: 8px;
    }

    .utr-subtitle {
      font-weight: normal;
      font-size: 12px;
      color: #5a6b7d;
    }

    .utr-histogram-chart {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .utr-bin {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 11px;
      color: #2c3e50;
    }

    .utr-bin-label {
      width: 90px;
      text-align: right;
      color: #5a6b7d;
    }

    .utr-bin-bar-wrap {
      flex: 1;
      height: 12px;
      background-color: #eef2f8;
      border-radius: 999px;
      overflow: hidden;
    }

    .utr-bin-bar {
      height: 100%;
      background-color: #4472C4;
      border-radius: 999px;
    }

    .utr-bin.is-highlight .utr-bin-bar {
      background-color: #f5c542;
    }

    .utr-bin-count {
      width: 28px;
      text-align: right;
      font-weight: 600;
      color: #2c3e50;
    }

    .utr-histogram-caption {
      font-size: 11px;
      color: #666;
      margin-top: 12px;
      padding-bottom: 4px;
      text-align: center;
    }

    /* Tournament Details Page */
    .tournament-details-page {
      max-width: 1000px;
      margin: 30px auto;
      padding: 30px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      page-break-before: always;
    }

    .tournament-details-page h2 {
      color: #2c3e50;
      border-bottom: 3px solid #4472C4;
      padding-bottom: 10px;
      margin-top: 0;
    }

    .tournament-details-page h3 {
      color: #4472C4;
      margin-top: 25px;
      margin-bottom: 10px;
    }

    .detail-row {
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .detail-label {
      font-weight: bold;
      color: #555;
      display: inline-block;
      width: 180px;
    }

    .detail-value {
      color: #2c3e50;
    }

    .important-note {
      background-color: #fff9e6;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin-top: 20px;
      border-radius: 4px;
    }

    /* Share button */
    .share-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #4472C4;
      color: white;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 1000;
      display: none;
      align-items: center;
      justify-content: center;
    }

    .share-button:hover {
      background-color: #2c5aa0;
      transform: scale(1.05);
    }

    .share-button:active {
      transform: scale(0.95);
    }

    /* Sticky header */
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 1px 6px rgba(0,0,0,0.12);
    }

    /* Click-to-call phone link */
    a[href^="tel"] {
      color: #4472C4;
      text-decoration: none;
      font-weight: 600;
    }

    a[href^="tel"]:hover {
      text-decoration: underline;
    }

    /* Dark Mode Support */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1a1a1a;
        color: #e0e0e0;
      }

      h1 {
        color: #ffffff;
      }

      .report-header-logo {
        filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.35));
      }

      .tournament-dates {
        color: #ffffff;
      }

      .tournament-info {
        color: #b0b0b0;
      }

      table {
        background-color: #2a2a2a;
        color: #e0e0e0;
      }

      th {
        background-color: #3a5a8a;
      }

      tbody tr:nth-child(odd) {
        background-color: #2a2a2a;
      }

      tbody tr:nth-child(even) {
        background-color: #333333;
      }

      tbody tr:hover {
        background-color: #404040 !important;
      }

      tr.highlight-player {
        background-color: #2a2a2a !important;
      }

      tr.highlight-player:hover {
        background-color: #2a2a2a !important;
      }

      tr.highlight-player td {
        color: #ffd700;
      }

      tr.highlight-player td:nth-child(2) {
        background-color: #3b2f1a;
      }

      tr.highlight-player td:nth-child(3) {
        background-color: #3b2f1a;
      }

      tr.highlight-player td:nth-child(1) {
        border-left-color: #d4a700;
      }

      td {
        border-bottom: 1px solid #404040;
      }

      .stats-section, .tournament-details-page, .utr-histogram {
        background-color: #2a2a2a;
        color: #e0e0e0;
      }

      .stats-section h3, .tournament-details-page h2, .tournament-details-page h3, .utr-histogram h3 {
        color: #ffffff;
        border-bottom-color: #3a5a8a;
      }

      .stat-box {
        background-color: #333333;
        border-left-color: #3a5a8a;
      }

      .stat-value, .stat-label {
        color: #e0e0e0;
      }

      .utr-subtitle {
        color: #9aa9c0;
      }

      .utr-bin {
        color: #e0e0e0;
      }

      .utr-bin-label {
        color: #9aa9c0;
      }

      .utr-bin-bar-wrap {
        background-color: #2f3644;
      }

      .utr-bin-bar {
        background-color: #6b9bd1;
      }

      .utr-bin.is-highlight .utr-bin-bar {
        background-color: #f5c542;
      }

      .utr-bin-count {
        color: #e0e0e0;
      }

      .utr-histogram-caption {
        color: #b0b0b0;
      }

      .detail-row {
        border-bottom: 1px solid #404040;
      }

      .detail-label {
        color: #b0b0b0;
      }

      .detail-value {
        color: #e0e0e0;
      }

      .key-stat {
        color: #e0e0e0;
        background-color: transparent;
        border: none;
      }

      .key-stat .key-value {
        color: #cfe0ff;
      }

      td.col-wtn, td.col-utr, td.col-national {
        box-shadow: inset 0 0 0 9999px rgba(120, 160, 220, 0.08);
      }

      .selection-callout {
        color: #e0e0e0;
        background-color: #2f3644;
        border-left-color: #6b9bd1;
      }

      .important-note {
        background-color: #3a3a1a;
        border-left-color: #d4a700;
        color: #e0e0e0;
      }

      a {
        color: #6b9bd1;
      }

      a:hover {
        color: #8bb3e0;
      }

      .share-button {
        background-color: #3a5a8a;
      }

      .share-button:hover {
        background-color: #4a6a9a;
      }
    }

    /* Mobile/Tablet Responsive Styles */
    @media screen and (max-width: 768px) {
      body {
        margin: 10px;
      }

      .report-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin: 8px auto 10px;
      }

      .report-header-logo {
        width: 96px;
        height: 96px;
        position: static;
        transform: none;
      }

      h1 {
        font-size: 1.8em;
      }

      .tournament-info {
        font-size: 12px;
        margin-bottom: 15px;
      }

      .table-meta {
        flex-direction: column;
        align-items: flex-start;
      }

      .link-legend {
        align-self: stretch;
        text-align: left;
      }

      /* Table container for horizontal scrolling */
      table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        font-size: 12px;
      }

      thead, tbody {
        display: table;
        width: 100%;
      }

      /* Larger tap targets for sortable headers */
      th.sortable {
        padding: 15px 8px;
        cursor: pointer;
        -webkit-tap-highlight-color: rgba(68, 114, 196, 0.3);
      }

      th, td {
        padding: 10px 6px;
      }

      /* Make row numbers and ratings more prominent */
      .col-rank {
        font-size: 13px;
        font-weight: bold;
      }

      .col-wtn, .col-utr {
        font-size: 13px;
      }

      /* Hide Location column on very small screens (under 480px) */
      @media screen and (max-width: 480px) {
        th:last-child,
        td:last-child {
          display: none;
        }
      }

      /* Stats section - stack on mobile */
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }

      .utr-histogram {
        padding: 15px;
        margin: 20px 0;
      }

      .utr-bin-label {
        width: 70px;
        font-size: 10px;
      }

      .utr-bin-count {
        width: 24px;
        font-size: 10px;
      }

      .stat-box {
        padding: 12px;
      }

      .stat-label {
        font-size: 10px;
      }

      .stat-value {
        font-size: 16px;
      }

      /* Tournament details - better mobile layout */
      .tournament-details-page {
        padding: 15px;
        margin: 15px 0;
      }

      .tournament-details-page h2 {
        font-size: 1.5em;
      }

      .tournament-details-page h3 {
        font-size: 1.2em;
        margin-top: 20px;
      }

      .detail-row {
        padding: 8px 0;
        font-size: 13px;
      }

      .detail-label {
        display: block;
        width: 100%;
        margin-bottom: 3px;
        font-size: 11px;
      }

      .detail-value {
        display: block;
        padding-left: 0;
      }

      /* Touch-friendly links */
      .detail-value a {
        display: inline-block;
        padding: 8px 0;
        line-height: 1.4;
        -webkit-tap-highlight-color: rgba(68, 114, 196, 0.2);
      }

      .important-note {
        padding: 12px;
        font-size: 13px;
      }

      /* Show share button on mobile */
      .share-button {
        display: flex;
      }
    }

    /* Print styles */
    @media print {
      /* Page setup */
      @page {
        size: letter;
        margin: 0.5in;
      }

      body {
        background-color: white;
        margin: 0;
        padding: 0;
      }

      /* Hide share button in print */
      .share-button {
        display: none !important;
      }

      /* Remove shadows and unnecessary decorations */
      table, .stats-section, .tournament-details-page, .utr-histogram {
        box-shadow: none;
        border: 1px solid #ddd;
      }

      /* Table optimizations */
      table {
        font-size: 10pt;
        page-break-inside: auto;
      }

      thead {
        display: table-header-group;
      }

      tr {
        page-break-inside: avoid;
        page-break-after: auto;
      }

      tbody tr:hover {
        background-color: inherit !important;
      }

      /* Keep alternating row colors for readability */
      tbody tr:nth-child(odd) {
        background-color: white !important;
      }

      tbody tr:nth-child(even) {
        background-color: #f0f0f0 !important;
      }

      /* Highlight Alexis in print */
      tr.highlight-player td {
        color: #000 !important;
        font-weight: bold !important;
        background-color: #ffffcc !important;
      }

      tr.highlight-player td.col-wtn {
        font-weight: normal !important;
      }

      /* Column widths for print */
      .col-rank {
        width: 30px;
      }

      th, td {
        padding: 6px 8px;
      }

      /* Stats section */
      .stats-section {
        page-break-before: auto;
        page-break-after: auto;
        page-break-inside: avoid;
        margin: 20px 0;
        padding: 15px;
      }

      .utr-histogram {
        page-break-inside: avoid;
        margin: 20px 0;
        padding: 15px;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
      }

      .stat-box {
        background-color: #f8f9fa !important;
        border: 1px solid #ddd;
      }

      /* Tournament details page */
      .tournament-details-page {
        page-break-before: always;
        margin: 0;
        padding: 20px;
      }

      .tournament-info {
        font-size: 11pt;
        margin-bottom: 20px;
      }

      h1 {
        font-size: 18pt;
        margin-bottom: 5px;
      }

      h2 {
        font-size: 16pt;
        margin-top: 15px;
      }

      h3 {
        font-size: 13pt;
        margin-top: 15px;
        margin-bottom: 8px;
      }

      /* Make links visible in print */
      a {
        color: #000;
        text-decoration: underline;
      }

      /* Important note styling */
      .important-note {
        background-color: #f9f9f9 !important;
        border: 2px solid #666;
        padding: 12px;
        margin-top: 15px;
      }

      .detail-row {
        padding: 6px 0;
        font-size: 11pt;
      }
    }

    /* ========================================
       MOBILE DARK THEME STYLES
       ======================================== */
    
    /* CSS Variables for Mobile */
    /* Mobile Theme Variables - Light Mode (Default) */
    :root {
      --mobile-bg: #f5f5f7;
      --mobile-surface: #ffffff;
      --mobile-surface-elevated: #f8f8f8;
      --mobile-border: #d1d1d6;
      --mobile-text-primary: #000000;
      --mobile-text-secondary: #6e6e73;
      --mobile-text-muted: #8e8e93;
      --mobile-accent: #ff9f0a;
      --mobile-accent-soft: rgba(255, 159, 10, 0.12);
      --mobile-green: #34c759;
      --mobile-green-soft: rgba(52, 199, 89, 0.12);
      --mobile-blue: #007aff;
      --mobile-blue-soft: rgba(0, 122, 255, 0.12);
      --mobile-purple: #af52de;
    }

    /* Mobile Theme Variables - Dark Mode */
    @media (prefers-color-scheme: dark) {
      :root {
        --mobile-bg: #0a0a0f;
        --mobile-surface: #16161e;
        --mobile-surface-elevated: #1e1e28;
        --mobile-border: #2a2a38;
        --mobile-text-primary: #f5f5f7;
        --mobile-text-secondary: #8e8e93;
        --mobile-text-muted: #636366;
        --mobile-accent: #ff9f0a;
        --mobile-accent-soft: rgba(255, 159, 10, 0.15);
        --mobile-green: #30d158;
        --mobile-green-soft: rgba(48, 209, 88, 0.15);
        --mobile-blue: #0a84ff;
        --mobile-blue-soft: rgba(10, 132, 255, 0.15);
        --mobile-purple: #bf5af2;
      }
    }

    /* Default: Hide mobile, show desktop */
    .mobile-view {
      display: none;
    }

    .desktop-view {
      display: block;
    }

    .desktop-view-toggle {
      display: none;
    }

    /* Mobile Layout Styles */
    .mobile-view {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: var(--mobile-bg);
      color: var(--mobile-text-primary);
      line-height: 1.5;
      max-width: 440px;
      margin: 0 auto;
      min-height: 100vh;
    }

    /* Mobile Header */
    .mobile-header {
      padding: 16px 20px;
      background: var(--mobile-surface);
      border-bottom: 1px solid var(--mobile-border);
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-height: 80px;
    }

    .mobile-header-top {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .mobile-header-logo-link {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 14px;
      padding: 2px;
      text-decoration: none;
    }

    .mobile-header-logo-link:focus-visible {
      outline: 2px solid var(--mobile-accent);
      outline-offset: 4px;
    }

    .mobile-header-logo {
      width: 56px;
      height: 56px;
      object-fit: contain;
      flex-shrink: 0;
      display: block;
    }

    .mobile-header-content {
      flex: 1;
      padding-left: 68px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .mobile-header-title {
      font-size: 17px;
      font-weight: 700;
      letter-spacing: 0.3px;
      margin: 0 0 4px 0;
      color: var(--mobile-accent);
      text-transform: uppercase;
      line-height: 1.2;
      text-align: center;
    }

    .mobile-header-meta {
      font-size: 13px;
      color: var(--mobile-text-secondary);
      line-height: 1.3;
      text-align: center;
    }

    .mobile-deadline-badge {
      margin-top: 6px;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      padding: 6px 10px;
      border-radius: 12px;
      border: 1px solid var(--mobile-border);
      background: var(--mobile-surface);
      font-size: 11px;
      line-height: 1.2;
      color: var(--mobile-text-secondary);
    }

    .mobile-deadline-countdown {
      font-weight: 700;
      color: var(--mobile-accent);
      font-size: 12px;
    }

    .mobile-deadline-date {
      font-size: 11px;
      color: var(--mobile-text-secondary);
    }

    /* Hero Stats Container */
    .mobile-hero-stats {
      padding: 16px 20px;
      margin: 16px 20px;
      background: var(--mobile-surface);
      border-radius: 14px;
      border: 1px solid var(--mobile-border);
    }

    /* Tournament Name Link (inside hero stats card) */
    .mobile-tournament-link {
      display: block;
      text-align: center;
      padding: 0 0 12px 0;
      margin-bottom: 12px;
      font-size: 13px;
      line-height: 1.5;
      color: var(--mobile-text-secondary);
      text-decoration: none;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-tournament-link:active {
      opacity: 0.6;
    }

    /* Stats Grid */
    .mobile-stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .mobile-stat-card {
      background: var(--mobile-surface-elevated);
      border-radius: 14px;
      padding: 14px 12px;
      text-align: center;
      border: 1px solid var(--mobile-border);
    }

    .mobile-stat-card.highlight {
      background: var(--mobile-accent-soft);
      border-color: rgba(255, 159, 10, 0.3);
    }

    .mobile-stat-value {
      font-size: 24px;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .mobile-stat-card.highlight .mobile-stat-value {
      color: var(--mobile-accent);
    }

    .mobile-stat-label {
      font-size: 11px;
      color: var(--mobile-text-secondary);
      margin-top: 2px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    /* Alexis Spotlight Card */
    .mobile-alexis-card {
      margin: 16px 20px;
      background: linear-gradient(135deg, rgba(255, 159, 10, 0.12) 0%, rgba(191, 90, 242, 0.08) 100%);
      border: 1px solid rgba(255, 159, 10, 0.25);
      border-radius: 16px;
      padding: 16px;
    }

    .mobile-alexis-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
    }

    .mobile-alexis-avatar {
      width: 44px;
      height: 44px;
      background: var(--mobile-accent);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      color: #000;
    }

    .mobile-alexis-name {
      flex: 1;
    }

    .mobile-alexis-name h3 {
      font-size: 17px;
      font-weight: 600;
      margin: 0;
    }

    .mobile-alexis-name span {
      font-size: 13px;
      color: var(--mobile-text-secondary);
    }

    .mobile-alexis-seed {
      background: var(--mobile-accent);
      color: #000;
      font-size: 13px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 8px;
    }

    .mobile-alexis-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }

    .mobile-alexis-stat {
      text-align: center;
      padding: 10px 4px;
      background: rgba(0, 0, 0, 0.25);
      border-radius: 10px;
    }

    .mobile-alexis-stat-value {
      font-size: 16px;
      font-weight: 700;
    }

    .mobile-alexis-stat-label {
      font-size: 10px;
      color: var(--mobile-text-secondary);
      margin-top: 2px;
      text-transform: uppercase;
    }

    /* Position Gauge */
    .mobile-position-gauge {
      margin: 16px 20px;
      background: var(--mobile-surface);
      border-radius: 14px;
      padding: 16px;
      border: 1px solid var(--mobile-border);
    }

    .mobile-gauge-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .mobile-gauge-title {
      font-size: 13px;
      color: var(--mobile-text-secondary);
    }

    .mobile-gauge-value {
      font-size: 15px;
      font-weight: 600;
      color: var(--mobile-green);
    }

    .mobile-gauge-bar {
      height: 8px;
      background: var(--mobile-surface-elevated);
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .mobile-gauge-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--mobile-green) 0%, var(--mobile-accent) 100%);
      border-radius: 4px;
      position: relative;
      transition: width 1s ease-out;
    }

    .mobile-gauge-marker {
      position: absolute;
      right: -1px;
      top: -4px;
      width: 3px;
      height: 16px;
      background: var(--mobile-text-primary);
      border-radius: 2px;
    }

    .mobile-gauge-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 11px;
      color: var(--mobile-text-muted);
    }

    .mobile-gauge-note {
      margin-top: 12px;
      padding: 10px 12px;
      background: var(--mobile-green-soft);
      border-radius: 8px;
      font-size: 12px;
      color: var(--mobile-green);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Section Headers */
    .mobile-section-header {
      padding: 20px 20px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .mobile-section-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .mobile-group-header {
      margin: 14px 0 8px;
      padding: 0 2px;
      font-size: 12px;
      font-weight: 700;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    .mobile-partner-jump {
      appearance: none;
      border: none;
      background: transparent;
      padding: 0;
      margin: 0;
      color: var(--mobile-accent);
      font: inherit;
      font-weight: 600;
      text-decoration: underline;
      text-underline-offset: 2px;
      cursor: pointer;
    }

    /* Sort Controls */
    .mobile-sort-controls {
      padding: 0 20px 12px;
      display: flex;
      gap: 8px;
    }

    .mobile-sort-btn {
      flex: 1;
      padding: 8px 12px;
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 10px;
      color: var(--mobile-text-secondary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-sort-btn.active {
      background: var(--mobile-accent-soft);
      border-color: rgba(255, 159, 10, 0.3);
      color: var(--mobile-accent);
      font-weight: 600;
    }

    /* Player Cards */
    .mobile-player-list {
      padding: 0 20px;
    }

    .mobile-player-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .mobile-player-card.top-seed {
      border-color: rgba(48, 209, 88, 0.3);
      background: linear-gradient(135deg, var(--mobile-surface) 0%, var(--mobile-green-soft) 100%);
    }

    .mobile-player-card.target-player {
      border: 1px solid rgba(255, 159, 10, 0.4);
      background: linear-gradient(135deg, rgba(255, 159, 10, 0.12) 0%, rgba(191, 90, 242, 0.08) 100%);
    }

    .mobile-player-rank {
      width: 28px;
      height: 28px;
      background: var(--mobile-surface-elevated);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      color: var(--mobile-text-secondary);
      flex-shrink: 0;
    }

    .mobile-player-card.top-seed .mobile-player-rank {
      background: var(--mobile-green);
      color: #000;
    }

    .mobile-player-card.target-player .mobile-player-rank {
      background: var(--mobile-accent);
      color: #000;
    }

    .mobile-player-info {
      flex: 1;
      min-width: 0;
    }

    .mobile-player-name {
      font-size: 15px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .mobile-player-location {
      font-size: 12px;
      color: var(--mobile-text-muted);
    }

    .mobile-player-ratings {
      display: flex;
      gap: 8px;
      flex-shrink: 0;
    }

    .mobile-rating-badge {
      padding: 6px 10px;
      border-radius: 8px;
      text-align: center;
      min-width: 52px;
      text-decoration: none;
      display: inline-block;
      transition: opacity 0.2s;
    }

    a.mobile-rating-badge:active {
      opacity: 0.6;
    }

    .mobile-rating-badge.utr {
      background: var(--mobile-blue-soft);
    }

    .mobile-rating-badge.nat {
      background: var(--mobile-surface-elevated);
    }

    .mobile-rating-value {
      font-size: 14px;
      font-weight: 700;
    }

    .mobile-rating-badge.utr .mobile-rating-value {
      color: var(--mobile-blue);
    }

    .mobile-rating-label {
      font-size: 9px;
      color: var(--mobile-text-muted);
      text-transform: uppercase;
      margin-top: 1px;
    }

    /* Player Card Expand Icon */
    .mobile-player-expand-icon {
      font-size: 10px;
      color: var(--mobile-text-muted);
      margin-left: 4px;
      transition: transform 0.2s;
      flex-shrink: 0;
    }

    .mobile-player-card.expanded .mobile-player-expand-icon {
      transform: rotate(180deg);
    }

    /* Player Details (Expandable) */
    .mobile-player-details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      margin: 0 20px;
      margin-top: -8px;
    }

    .mobile-player-details.expanded {
      max-height: 200px;
    }

    .mobile-player-details-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      padding: 12px;
      background: var(--mobile-surface-elevated);
      border: 1px solid var(--mobile-border);
      border-top: none;
      border-radius: 0 0 12px 12px;
    }

    .mobile-detail-item {
      text-align: center;
      padding: 8px 4px;
      background: var(--mobile-surface);
      border-radius: 8px;
    }

    .mobile-detail-label {
      font-size: 9px;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .mobile-detail-value {
      font-size: 14px;
      font-weight: 700;
      color: var(--mobile-text-primary);
    }

    /* Cutoff Divider */
    .mobile-cutoff-divider {
      margin: 8px 20px;
      padding: 8px 12px;
      background: var(--mobile-surface);
      border: 1px dashed var(--mobile-border);
      border-radius: 8px;
      font-size: 11px;
      color: var(--mobile-text-muted);
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Show More Button */
    .mobile-show-more {
      margin: 8px 20px 20px;
      padding: 14px;
      width: calc(100% - 40px);
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 12px;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      color: var(--mobile-blue);
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-show-more:hover {
      background: var(--mobile-surface-elevated);
    }

    /* Histogram */
    .mobile-chart-section {
      padding: 0 20px;
      margin-bottom: 16px;
    }

    .mobile-chart-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 14px;
      padding: 16px;
    }

    .mobile-histogram {
      display: flex;
      align-items: flex-end;
      gap: 4px;
      height: 80px;
      margin-bottom: 8px;
    }

    .mobile-histogram-bar {
      flex: 1;
      background: var(--mobile-blue-soft);
      border-radius: 4px 4px 0 0;
      position: relative;
      min-height: 4px;
      transition: height 0.6s ease-out;
    }

    .mobile-histogram-bar.alexis-range {
      background: var(--mobile-accent);
    }

    .mobile-histogram-labels {
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: var(--mobile-text-muted);
    }

    .mobile-chart-legend {
      display: flex;
      gap: 16px;
      margin-top: 12px;
      font-size: 11px;
      color: var(--mobile-text-secondary);
    }

    .mobile-legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .mobile-legend-dot {
      width: 8px;
      height: 8px;
      border-radius: 2px;
    }

    .mobile-legend-dot.blue {
      background: var(--mobile-blue);
    }

    .mobile-legend-dot.orange {
      background: var(--mobile-accent);
    }

    /* Tournament Info Cards */
    .mobile-info-section {
      padding: 0 20px 20px;
    }

    .mobile-info-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 14px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .mobile-info-card-header {
      padding: 14px 16px;
      background: var(--mobile-surface-elevated);
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-info-row {
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-info-row:last-child {
      border-bottom: none;
    }

    .mobile-info-label {
      font-size: 13px;
      color: var(--mobile-text-secondary);
      flex-shrink: 0;
    }

    .mobile-info-value {
      font-size: 13px;
      text-align: right;
      color: var(--mobile-text-primary);
    }

    .mobile-info-value a {
      color: var(--mobile-blue);
      text-decoration: none;
    }

    /* View Toggle */
    .mobile-view-toggle {
      padding: 20px;
      text-align: center;
    }

    .mobile-view-toggle a {
      color: var(--mobile-text-secondary);
      font-size: 14px;
      text-decoration: none;
    }

    /* Media Query: Show Mobile on Small Screens */
    @media (max-width: 600px) {
      body {
        margin: 0;
        padding: 0;
        background-color: var(--mobile-bg);
        border-top: none;
      }

      .mobile-view {
        display: block;
      }

      .desktop-view {
        display: none;
      }

      .desktop-view-toggle {
        display: block;
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .desktop-view-toggle a {
        display: inline-block;
        padding: 12px 20px;
        background: var(--mobile-surface);
        border: 1px solid var(--mobile-border);
        border-radius: 12px;
        color: var(--mobile-text-secondary);
        font-size: 14px;
        text-decoration: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }
    }

    /* Force View Classes (for manual toggle) */
    body.force-mobile {
      margin: 0;
      padding: 0;
      background-color: var(--mobile-bg);
      border-top: none;
    }

    body.force-mobile .mobile-view {
      display: block !important;
    }

    body.force-mobile .desktop-view {
      display: none !important;
    }

    body.force-desktop .mobile-view {
      display: none !important;
    }

    body.force-desktop .desktop-view {
      display: block !important;
    }
  </style>
</head>
<body>
  <div class="desktop-view">
  <div class="report-header">
    <a class="report-header-logo-link" href="index.html" aria-label="Back to tournament dashboard">
      <img class="report-header-logo" src="assets/tennis-report/favicon-256.png" alt="Tennis report logo">
    </a>
    <div class="report-header-text">
      <h1>Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals</h1>
      <div class="tournament-dates-row">
        <div class="tournament-dates">
          February 21 - 22, 2026
        </div>
        <div class="deadline-badge" id="registration-deadline-badge">
          <div class="deadline-countdown" id="registration-countdown">Closes in --</div>
          <div class="deadline-date" id="registration-deadline-date">--</div>
        </div>
      </div>
            <div class="tournament-info">
        <a href="https://playtennis.usta.com/competitions/hrtacademiadetenis/Tournaments/overview/B725D590-9D1A-4061-BAD6-DD7BD89100E0" target="_blank" rel="noopener noreferrer" title="Open tournament page">Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals</a><br>
        Redwood High School, Larkspur, CA • 43 Players
      </div>
    </div>
  </div>
    <div class="table-meta">
    <div class="key-stats">
      <div class="key-stat"><span class="key-label">Draw</span><span class="key-value">32</span></div>
      <div class="key-stat"><span class="key-label">Closes</span><span class="key-value">February 11, 2026 at 2:59 PM PST</span></div>
      <div class="key-stat"><span class="key-label">Registered</span><span class="key-value">43</span></div>
    </div>
    <div class="link-legend">Click on WTN or Nat Rank for USTA profile • on UTR for UTR profile</div>
  </div>

  
  <h3 class="table-section-title">Girls (Mixed Doubles)</h3>
  <table class="primary-table players-table">
    <thead class="sticky-header">
      <tr>
        <th class="col-rank">#</th>
        <th class="sortable">First Name</th>
        <th class="sortable">Last Name</th>
        <th class="col-wtn sortable">WTN</th>
        <th class="col-utr sortable">UTR</th>
        <th class="col-national sortable">Nat Rank</th>
        <th class="sortable">Combined NST</th>
        <th class="sortable">Location</th>
        <th>Partner</th>
      </tr>
    </thead>
    <tbody>
<tr data-player-key="ANGUS|CIENNA" class="seeded-team"><td class="col-rank">1</td><td>Cienna</td><td>Angus</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018649966" target="_blank" rel="noopener noreferrer">31.55</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2093810" target="_blank" rel="noopener noreferrer">5.59</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018649966" target="_blank" rel="noopener noreferrer">758</a></td><td class="col-combined">1224</td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="KIM|CONNOR">Kim, Connor</a></td></tr>
<tr data-player-key="CHEN|ANGELA" class="seeded-team"><td class="col-rank">2</td><td>Angela</td><td>Chen</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018617048" target="_blank" rel="noopener noreferrer">30.51</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3404514" target="_blank" rel="noopener noreferrer">6.14</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018617048" target="_blank" rel="noopener noreferrer">388</a></td><td class="col-combined">552</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="FAMULARCANO|ETHAN">Famularcano, Ethan</a></td></tr>
<tr data-player-key="COREY|HANNAH" class="seeded-team"><td class="col-rank">3</td><td>Hannah</td><td>Corey</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018785067" target="_blank" rel="noopener noreferrer">31.34</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3190946" target="_blank" rel="noopener noreferrer">6.03</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018785067" target="_blank" rel="noopener noreferrer">408</a></td><td class="col-combined">666</td><td>Menlo Park CA</td><td><a href="#" class="partner-jump" data-partner-key="VAN RUYMBEKE|VINCENT">van Ruymbeke, Vincent</a></td></tr>
<tr data-player-key="COULOMBE|ELOISE" class="seeded-team"><td class="col-rank">4</td><td>Eloise</td><td>Coulombe</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018790528" target="_blank" rel="noopener noreferrer">31.48</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4807461" target="_blank" rel="noopener noreferrer">5.73</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018790528" target="_blank" rel="noopener noreferrer">539</a></td><td class="col-combined">1413</td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="BAUER|NICOLAS">Bauer, Nicolas</a></td></tr>
<tr data-player-key="DUAN|ZHIYAN" class="seeded-team"><td class="col-rank">5</td><td>Zhiyan</td><td>Duan</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019107218" target="_blank" rel="noopener noreferrer">31.66</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4313318" target="_blank" rel="noopener noreferrer">5.25</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019107218" target="_blank" rel="noopener noreferrer">214</a></td><td class="col-combined">434</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="YU|JUNSANG">Yu, Junsang</a></td></tr>
<tr data-player-key="GADGIL|ZIVA" class="seeded-team"><td class="col-rank">6</td><td>Ziva</td><td>Gadgil</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018658341" target="_blank" rel="noopener noreferrer">30.24</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3415960" target="_blank" rel="noopener noreferrer">6.10</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018658341" target="_blank" rel="noopener noreferrer">85</a></td><td class="col-combined">284</td><td>San Mateo CA</td><td><a href="#" class="partner-jump" data-partner-key="SRINIVASAN|RITWIK">Srinivasan, Ritwik</a></td></tr>
<tr data-player-key="GADGIL|ZAIRA"><td class="col-rank">7</td><td>Zaira</td><td>Gadgil</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018667343" target="_blank" rel="noopener noreferrer">34.85</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3729362" target="_blank" rel="noopener noreferrer">3.39</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018667343" target="_blank" rel="noopener noreferrer">648</a></td><td class="col-combined">—</td><td>San Mateo CA</td><td></td></tr>
<tr data-player-key="GUO|SERENA" class="seeded-team"><td class="col-rank">8</td><td>Serena</td><td>Guo</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019277087" target="_blank" rel="noopener noreferrer">32.24</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3756943" target="_blank" rel="noopener noreferrer">5.44</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019277087" target="_blank" rel="noopener noreferrer">684</a></td><td class="col-combined">1415</td><td>Mountain View CA</td><td><a href="#" class="partner-jump" data-partner-key="LIU|ELVIN">Liu, Elvin</a></td></tr>
<tr data-player-key="INKABI|NELL"><td class="col-rank">9</td><td>Nell</td><td>Inkabi</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018822004" target="_blank" rel="noopener noreferrer">35.37</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3255224" target="_blank" rel="noopener noreferrer">3.60</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018822004" target="_blank" rel="noopener noreferrer">1674</a></td><td class="col-combined">—</td><td>Santa Rosa CA</td><td></td></tr>
<tr data-player-key="JUMBE|UNA'ONAI"><td class="col-rank">10</td><td>Una'Onai</td><td>Jumbe</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018131701" target="_blank" rel="noopener noreferrer">33.43</a></td><td class="col-utr"></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018131701" target="_blank" rel="noopener noreferrer">1010</a></td><td class="col-combined">3534</td><td>Mountain View CA</td><td><a href="#" class="partner-jump" data-partner-key="LIU|ANDREW">Liu, Andrew</a></td></tr>
<tr data-player-key="KUNKEL|CAMILLE" class="seeded-team"><td class="col-rank">11</td><td>Camille</td><td>Kunkel</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018867069" target="_blank" rel="noopener noreferrer">33.11</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3338600" target="_blank" rel="noopener noreferrer">5.04</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018867069" target="_blank" rel="noopener noreferrer">290</a></td><td class="col-combined">512</td><td>Fremont CA</td><td><a href="#" class="partner-jump" data-partner-key="COREY|OWEN">Corey, Owen</a></td></tr>
<tr data-player-key="LABRECQUE|ALEXI" class="seeded-team"><td class="col-rank">12</td><td>Alexi</td><td>Labrecque</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018998280" target="_blank" rel="noopener noreferrer">32.28</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3575442" target="_blank" rel="noopener noreferrer">5.60</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018998280" target="_blank" rel="noopener noreferrer">249</a></td><td class="col-combined">520</td><td>Mountain View CA</td><td><a href="#" class="partner-jump" data-partner-key="RACIC|PAVLE">Racic, Pavle</a></td></tr>
<tr data-player-key="LI|EMMA" class="seeded-team"><td class="col-rank">13</td><td>Emma</td><td>Li</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018930736" target="_blank" rel="noopener noreferrer">35.70</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5524070" target="_blank" rel="noopener noreferrer">3.52</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018930736" target="_blank" rel="noopener noreferrer">726</a></td><td class="col-combined">1145</td><td>Pleasanton CA</td><td><a href="#" class="partner-jump" data-partner-key="ZHANG|YILONG">Zhang, Yilong</a></td></tr>
<tr data-player-key="LIU|KATE"><td class="col-rank">14</td><td>Kate</td><td>Liu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018576628" target="_blank" rel="noopener noreferrer">29.41</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3282452" target="_blank" rel="noopener noreferrer">6.72</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018576628" target="_blank" rel="noopener noreferrer">122</a></td><td class="col-combined">—</td><td>Fremont CA</td><td></td></tr>
<tr data-player-key="MITTAL|SAHANA" class="seeded-team"><td class="col-rank">15</td><td>Sahana</td><td>Mittal</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018538359" target="_blank" rel="noopener noreferrer">29.70</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2629626" target="_blank" rel="noopener noreferrer">6.58</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018538359" target="_blank" rel="noopener noreferrer">270</a></td><td class="col-combined">750</td><td>Dublin CA</td><td><a href="#" class="partner-jump" data-partner-key="JIANG|MICHAEL">Jiang, Michael</a></td></tr>
<tr data-player-key="PARK|MELANIE" class="seeded-team"><td class="col-rank">16</td><td>Melanie</td><td>Park</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018545198" target="_blank" rel="noopener noreferrer">31.22</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2697461" target="_blank" rel="noopener noreferrer">6.17</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018545198" target="_blank" rel="noopener noreferrer">512</a></td><td class="col-combined">904</td><td>Palo Alto CA</td><td><a href="#" class="partner-jump" data-partner-key="NG|REECE">Ng, Reece</a></td></tr>
<tr data-player-key="SHANKAR|ANOUSHKA" class="seeded-team"><td class="col-rank">17</td><td>Anoushka</td><td>Shankar</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018667534" target="_blank" rel="noopener noreferrer">33.14</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3173874" target="_blank" rel="noopener noreferrer">5.04</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018667534" target="_blank" rel="noopener noreferrer">662</a></td><td class="col-combined">1052</td><td>Belvedere Tiburon CA</td><td><a href="#" class="partner-jump" data-partner-key="SMOLKO|MILES">Smolko, Miles</a></td></tr>
<tr data-player-key="SINGAMALA|NANDIKA"><td class="col-rank">18</td><td>Nandika</td><td>Singamala</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018544532" target="_blank" rel="noopener noreferrer">30.67</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2767338" target="_blank" rel="noopener noreferrer">6.37</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018544532" target="_blank" rel="noopener noreferrer">580</a></td><td class="col-combined">—</td><td>Fremont CA</td><td></td></tr>
<tr data-player-key="TONG|YSABEL"><td class="col-rank">19</td><td>Ysabel</td><td>Tong</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018668533" target="_blank" rel="noopener noreferrer">34.04</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2770522" target="_blank" rel="noopener noreferrer">4.16</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018668533" target="_blank" rel="noopener noreferrer">1369</a></td><td class="col-combined">3460</td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="KUO|HUDSON">Kuo, Hudson</a></td></tr>
<tr data-player-key="WANG|HARPER" class="seeded-team"><td class="col-rank">20</td><td>Harper</td><td>Wang</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018622907" target="_blank" rel="noopener noreferrer">31.79</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2774013" target="_blank" rel="noopener noreferrer">5.62</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018622907" target="_blank" rel="noopener noreferrer">112</a></td><td class="col-combined">293</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="YANG|ALEXANDER">Yang, Alexander</a></td></tr>
<tr data-player-key="WU|KENDRA" class="seeded-team"><td class="col-rank">21</td><td>Kendra</td><td>Wu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018931899" target="_blank" rel="noopener noreferrer">32.55</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3113178" target="_blank" rel="noopener noreferrer">5.32</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018931899" target="_blank" rel="noopener noreferrer">839</a></td><td class="col-combined">2010</td><td>Cupertino CA</td><td><a href="#" class="partner-jump" data-partner-key="SAWADA|SHODAI">Sawada, Shodai</a></td></tr>
<tr data-player-key="ZABALAGA|ADRIANA" class="seeded-team"><td class="col-rank">22</td><td>Adriana</td><td>Zabalaga</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018877328" target="_blank" rel="noopener noreferrer">32.17</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3749105" target="_blank" rel="noopener noreferrer">5.68</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018877328" target="_blank" rel="noopener noreferrer">650</a></td><td class="col-combined">989</td><td>San Rafael CA</td><td><a href="#" class="partner-jump" data-partner-key="WALLACE|ELLIOT">Wallace, Elliot</a></td></tr>
    </tbody>
  </table>

  <h3 class="table-section-title" style="margin-top: 32px;">Boys (Mixed Doubles)</h3>
  <table class="players-table">
    <thead class="sticky-header">
      <tr>
        <th class="col-rank">#</th>
        <th class="sortable">First Name</th>
        <th class="sortable">Last Name</th>
        <th class="col-wtn sortable">WTN</th>
        <th class="col-utr sortable">UTR</th>
        <th class="col-national sortable">Nat Rank</th>
        <th class="sortable">Combined NST</th>
        <th class="sortable">Location</th>
        <th>Partner</th>
      </tr>
    </thead>
    <tbody>
<tr data-player-key="BAUER|NICOLAS" class="seeded-team"><td class="col-rank">1</td><td>Nicolas</td><td>Bauer</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018778004" target="_blank" rel="noopener noreferrer">30.38</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3173878" target="_blank" rel="noopener noreferrer">7.37</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018778004" target="_blank" rel="noopener noreferrer">874</a></td><td class="col-combined">1413</td><td>Berkeley CA</td><td><a href="#" class="partner-jump" data-partner-key="COULOMBE|ELOISE">Coulombe, Eloise</a></td></tr>
<tr data-player-key="COREY|OWEN" class="seeded-team"><td class="col-rank">2</td><td>Owen</td><td>Corey</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018904776" target="_blank" rel="noopener noreferrer">31.33</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3465738" target="_blank" rel="noopener noreferrer">6.07</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018904776" target="_blank" rel="noopener noreferrer">222</a></td><td class="col-combined">512</td><td>Menlo Park CA</td><td><a href="#" class="partner-jump" data-partner-key="KUNKEL|CAMILLE">Kunkel, Camille</a></td></tr>
<tr data-player-key="FAMULARCANO|ETHAN" class="seeded-team"><td class="col-rank">3</td><td>Ethan</td><td>Famularcano</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2017323702" target="_blank" rel="noopener noreferrer">28.56</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2654875" target="_blank" rel="noopener noreferrer">8.33</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2017323702" target="_blank" rel="noopener noreferrer">164</a></td><td class="col-combined">552</td><td>Gilroy CA</td><td><a href="#" class="partner-jump" data-partner-key="CHEN|ANGELA">Chen, Angela</a></td></tr>
<tr data-player-key="HOSSAIN|LIAM"><td class="col-rank">4</td><td>Liam</td><td>Hossain</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019305887" target="_blank" rel="noopener noreferrer">33.30</a></td><td class="col-utr"></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019305887" target="_blank" rel="noopener noreferrer">1036</a></td><td class="col-combined">—</td><td>San Francisco CA</td><td></td></tr>
<tr data-player-key="JIANG|MICHAEL" class="seeded-team"><td class="col-rank">5</td><td>Michael</td><td>Jiang</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018412324" target="_blank" rel="noopener noreferrer">30.49</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2697494" target="_blank" rel="noopener noreferrer">7.49</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018412324" target="_blank" rel="noopener noreferrer">480</a></td><td class="col-combined">750</td><td>Dublin CA</td><td><a href="#" class="partner-jump" data-partner-key="MITTAL|SAHANA">Mittal, Sahana</a></td></tr>
<tr data-player-key="KIM|CONNOR" class="seeded-team"><td class="col-rank">6</td><td>Connor</td><td>Kim</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018508700" target="_blank" rel="noopener noreferrer">28.04</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3879306" target="_blank" rel="noopener noreferrer">8.17</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018508700" target="_blank" rel="noopener noreferrer">466</a></td><td class="col-combined">1224</td><td>Hillsborough CA</td><td><a href="#" class="partner-jump" data-partner-key="ANGUS|CIENNA">Angus, Cienna</a></td></tr>
<tr data-player-key="KUO|HUDSON"><td class="col-rank">7</td><td>Hudson</td><td>Kuo</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018433565" target="_blank" rel="noopener noreferrer">33.04</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2791902" target="_blank" rel="noopener noreferrer">5.63</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018433565" target="_blank" rel="noopener noreferrer">2091</a></td><td class="col-combined">3460</td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="TONG|YSABEL">Tong, Ysabel</a></td></tr>
<tr data-player-key="LIU|ELVIN" class="seeded-team"><td class="col-rank">8</td><td>Elvin</td><td>Liu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018605508" target="_blank" rel="noopener noreferrer">30.33</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3281854" target="_blank" rel="noopener noreferrer">7.03</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018605508" target="_blank" rel="noopener noreferrer">731</a></td><td class="col-combined">1415</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="GUO|SERENA">Guo, Serena</a></td></tr>
<tr data-player-key="LIU|ANDREW"><td class="col-rank">9</td><td>Andrew</td><td>Liu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018862271" target="_blank" rel="noopener noreferrer">32.54</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5710378" target="_blank" rel="noopener noreferrer">6.24</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018862271" target="_blank" rel="noopener noreferrer">2524</a></td><td class="col-combined">3534</td><td>Sunnyvale CA</td><td><a href="#" class="partner-jump" data-partner-key="JUMBE|UNA'ONAI">Jumbe, Una'Onai</a></td></tr>
<tr data-player-key="NG|REECE" class="seeded-team"><td class="col-rank">10</td><td>Reece</td><td>Ng</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018560791" target="_blank" rel="noopener noreferrer">29.02</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2559552" target="_blank" rel="noopener noreferrer">8.16</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018560791" target="_blank" rel="noopener noreferrer">392</a></td><td class="col-combined">904</td><td>Palo Alto CA</td><td><a href="#" class="partner-jump" data-partner-key="PARK|MELANIE">Park, Melanie</a></td></tr>
<tr data-player-key="RACIC|PAVLE" class="seeded-team"><td class="col-rank">11</td><td>Pavle</td><td>Racic</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018634193" target="_blank" rel="noopener noreferrer">31.50</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2888069" target="_blank" rel="noopener noreferrer">6.06</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018634193" target="_blank" rel="noopener noreferrer">271</a></td><td class="col-combined">520</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="LABRECQUE|ALEXI">Labrecque, Alexi</a></td></tr>
<tr data-player-key="SAWADA|SHODAI" class="seeded-team"><td class="col-rank">12</td><td>Shodai</td><td>Sawada</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018556332" target="_blank" rel="noopener noreferrer">30.39</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3420081" target="_blank" rel="noopener noreferrer">6.73</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018556332" target="_blank" rel="noopener noreferrer">1171</a></td><td class="col-combined">2010</td><td>San Jose CA</td><td><a href="#" class="partner-jump" data-partner-key="WU|KENDRA">Wu, Kendra</a></td></tr>
<tr data-player-key="SMOLKO|MILES" class="seeded-team"><td class="col-rank">13</td><td>Miles</td><td>Smolko</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018578072" target="_blank" rel="noopener noreferrer">28.69</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2759489" target="_blank" rel="noopener noreferrer">8.18</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018578072" target="_blank" rel="noopener noreferrer">390</a></td><td class="col-combined">1052</td><td>Piedmont CA</td><td><a href="#" class="partner-jump" data-partner-key="SHANKAR|ANOUSHKA">Shankar, Anoushka</a></td></tr>
<tr data-player-key="SRINIVASAN|RITWIK" class="seeded-team"><td class="col-rank">14</td><td>Ritwik</td><td>Srinivasan</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018692686" target="_blank" rel="noopener noreferrer">30.34</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3305221" target="_blank" rel="noopener noreferrer">6.74</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018692686" target="_blank" rel="noopener noreferrer">199</a></td><td class="col-combined">284</td><td>Cupertino CA</td><td><a href="#" class="partner-jump" data-partner-key="GADGIL|ZIVA">Gadgil, Ziva</a></td></tr>
<tr data-player-key="VAN RUYMBEKE|VINCENT" class="seeded-team"><td class="col-rank">15</td><td>Vincent</td><td>Van Ruymbeke</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018547891" target="_blank" rel="noopener noreferrer">28.94</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2732969" target="_blank" rel="noopener noreferrer">8.11</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018547891" target="_blank" rel="noopener noreferrer">258</a></td><td class="col-combined">666</td><td>Menlo Park CA</td><td><a href="#" class="partner-jump" data-partner-key="COREY|HANNAH">Corey, Hannah</a></td></tr>
<tr data-player-key="WALLACE|ELLIOT" class="seeded-team"><td class="col-rank">16</td><td>Elliot</td><td>Wallace</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018425679" target="_blank" rel="noopener noreferrer">25.69</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3023626" target="_blank" rel="noopener noreferrer">9.12</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018425679" target="_blank" rel="noopener noreferrer">339</a></td><td class="col-combined">989</td><td>San Rafael CA</td><td><a href="#" class="partner-jump" data-partner-key="ZABALAGA|ADRIANA">Zabalaga, Adriana</a></td></tr>
<tr data-player-key="WANG|JASON"><td class="col-rank">17</td><td>Jason</td><td>Wang</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018642826" target="_blank" rel="noopener noreferrer">30.57</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/890478" target="_blank" rel="noopener noreferrer">7.09</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018642826" target="_blank" rel="noopener noreferrer">1489</a></td><td class="col-combined">—</td><td>Fremont CA</td><td></td></tr>
<tr data-player-key="XU|DEXTER"><td class="col-rank">18</td><td>Dexter</td><td>Xu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018499589" target="_blank" rel="noopener noreferrer">32.88</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2689341" target="_blank" rel="noopener noreferrer">5.75</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018499589" target="_blank" rel="noopener noreferrer">332</a></td><td class="col-combined">—</td><td>Belmont CA</td><td></td></tr>
<tr data-player-key="YANG|ALEXANDER" class="seeded-team"><td class="col-rank">19</td><td>Alexander</td><td>Yang</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019267792" target="_blank" rel="noopener noreferrer">30.31</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5616694" target="_blank" rel="noopener noreferrer">9.54</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019267792" target="_blank" rel="noopener noreferrer">181</a></td><td class="col-combined">293</td><td>Cupertino CA</td><td><a href="#" class="partner-jump" data-partner-key="WANG|HARPER">Wang, Harper</a></td></tr>
<tr data-player-key="YU|JUNSANG" class="seeded-team"><td class="col-rank">20</td><td>Junsang</td><td>Yu</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019006069" target="_blank" rel="noopener noreferrer">30.65</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3590157" target="_blank" rel="noopener noreferrer">6.46</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019006069" target="_blank" rel="noopener noreferrer">220</a></td><td class="col-combined">434</td><td>Cupertino CA</td><td><a href="#" class="partner-jump" data-partner-key="DUAN|ZHIYAN">Duan, Zhiyan</a></td></tr>
<tr data-player-key="ZHANG|YILONG" class="seeded-team"><td class="col-rank">21</td><td>Yilong</td><td>Zhang</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018909122" target="_blank" rel="noopener noreferrer">31.66</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3617606" target="_blank" rel="noopener noreferrer">5.65</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018909122" target="_blank" rel="noopener noreferrer">419</a></td><td class="col-combined">1145</td><td>San Ramon CA</td><td><a href="#" class="partner-jump" data-partner-key="LI|EMMA">Li, Emma</a></td></tr>
    </tbody>
  </table>


  <div class="utr-histogram">
    <h3>UTR Distribution <span class="utr-subtitle">(0.5-point bins)</span></h3>
    <div id="utr-histogram-chart" class="utr-histogram-chart"></div>
    <div class="utr-histogram-caption" id="utr-histogram-caption">Based on UTR values from the player list.</div>
  </div>

                          <div class="stats-section">
    <h3>Tournament Statistics</h3>
    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-label">Total Players</div>
        <div class="stat-value">43</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">WTN Range</div>
        <div class="stat-value">25.69 - 35.70</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg WTN</div>
        <div class="stat-value">31.33</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg UTR (known)</div>
        <div class="stat-value">6.27</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Draw Size</div>
        <div class="stat-value">32</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registered</div>
        <div class="stat-value">43</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registration Closes</div>
        <div class="stat-value">February 11, 2026 at 2:59 PM PST</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Best Nat Rank</div>
        <div class="stat-value">85</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Top UTR</div>
        <div class="stat-value">9.54</div>
      </div>
    </div>
  </div>
<div class="tournament-details-page">
    <h2>Tournament Information & Details</h2>

    <h3>Draw & Registration</h3>
    <div class="selection-callout">Details are based on the current USTA PlayTennis entry list.</div>
    <div class="detail-row">
      <span class="detail-label">Draw Size:</span>
      <span class="detail-value">32</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Registered:</span>
      <span class="detail-value">43</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Registration Closes:</span>
      <span class="detail-value">February 11, 2026 at 2:59 PM PST</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Selection / Seeding:</span>
      <span class="detail-value">See USTA tournament page</span>
    </div>

    <h3>Format & Scoring</h3>
    <div class="detail-row">
      <span class="detail-label">Match Format:</span>
      <span class="detail-value">See USTA tournament page</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Tiebreaks:</span>
      <span class="detail-value">See USTA tournament page</span>
    </div>

    <h3>Venue Information</h3>
    <div class="detail-row">
      <span class="detail-label">Site:</span>
      <span class="detail-value"><a href="https://www.google.com/maps/search/?api=1&query=Redwood+High+School+Larkspur+CA" target="_blank" style="color: #4472C4; text-decoration: none;">Redwood High School, Larkspur, CA</a></span>
    </div>

    <h3>Tournament Location</h3>
    <div class="detail-row">
      <span class="detail-label">Tournament Location:</span>
      <span class="detail-value">Redwood High School, Larkspur, CA</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Tournament Dates:</span>
      <span class="detail-value">February 21 - 22, 2026</span>
    </div>

    <h3>Tournament Contact</h3>
    <div class="detail-row">
      <span class="detail-label">Tournament Director:</span>
      <span class="detail-value">N/A</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Email:</span>
      <span class="detail-value">N/A</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Phone:</span>
      <span class="detail-value">N/A</span>
    </div>

    <div class="important-note">
      <strong>Note:</strong> Registration status and roster are updated daily from USTA PlayTennis.
    </div>
  </div>

  <div class="desktop-view-toggle">
    <a href="#" id="desktop-toggle-mobile">View Mobile Version</a>
  </div>
  </div><!-- end desktop-view -->

  <!-- Mobile View Container -->
  <div class="mobile-view">
    <!-- Mobile Header -->
    <header class="mobile-header">
      <div class="mobile-header-top">
        <a class="mobile-header-logo-link" href="index.html" aria-label="Back to tournament dashboard">
          <img src="assets/tennis-report/favicon-256.png" alt="Logo" class="mobile-header-logo">
        </a>
        <div class="mobile-header-content">
          <h1 class="mobile-header-title" id="mobile-title"></h1>
          <div class="mobile-header-meta" id="mobile-meta"></div>
          <div class="mobile-deadline-badge" id="mobile-deadline-badge">
            <div class="mobile-deadline-countdown" id="mobile-registration-countdown">Closes in --</div>
            <div class="mobile-deadline-date" id="mobile-registration-date">--</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero Stats -->
    <div class="mobile-hero-stats">
      <!-- Tournament Name Link (inside card) -->
      <a href="https://playtennis.usta.com/Competitions/fourdirectionstennis/Tournaments/Overview/AADD3F01-D779-44EB-8F33-3CD79A3018F1" target="_blank" rel="noopener noreferrer" class="mobile-tournament-link">
        Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals
      </a>

      <!-- Stats Grid -->
      <div class="mobile-stats-grid">
        <div class="mobile-stat-card">
          <div class="mobile-stat-value" id="mobile-draw-size"></div>
          <div class="mobile-stat-label">Draw Size</div>
        </div>
        <div class="mobile-stat-card highlight">
          <div class="mobile-stat-value" id="mobile-seed"></div>
          <div class="mobile-stat-label">Closes</div>
        </div>
        <div class="mobile-stat-card">
          <div class="mobile-stat-value" id="mobile-registered"></div>
          <div class="mobile-stat-label">Registered</div>
        </div>
      </div>
    </div>

    <!-- Alexis Spotlight Card -->
    <div class="mobile-alexis-card" id="mobile-alexis-card"></div>

    <!-- Position Gauge -->
    <div class="mobile-position-gauge" id="mobile-position-gauge"></div>

    <!-- UTR Distribution -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">UTR Distribution</span>
    </div>
    <div class="mobile-chart-section">
      <div class="mobile-chart-card" id="mobile-histogram"></div>
    </div>

    <!-- Player List -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">All Players (<span id="mobile-player-count"></span>)</span>
    </div>
    <div class="mobile-sort-controls">
      <button class="mobile-sort-btn" data-sort="utr">UTR</button>
      <button class="mobile-sort-btn active" data-sort="natRank">Nat Rank</button>
      <button class="mobile-sort-btn" data-sort="wtn">WTN</button>
    </div>
    <div class="mobile-player-list" id="mobile-player-list"></div>
    <button class="mobile-show-more" id="mobile-show-more">Show all players ↓</button>

    <!-- Tournament Details -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">Tournament Details</span>
    </div>
    <div class="mobile-info-section" id="mobile-info-section"></div>

    <!-- View Toggle -->
    <div class="mobile-view-toggle">
      <a href="#" id="mobile-toggle-desktop">View Desktop Version</a>
    </div>
  </div><!-- end mobile-view -->

  <!-- Mobile View JavaScript -->
  <script>
    // ========================================
    // MOBILE VIEW IMPLEMENTATION
    // ========================================

    let currentSort = 'natRank';
    let isExpanded = false;
    let allPlayers = [];
    let isMixedEvent = false;
    let mixedGroups = null;
    let playerByKey = {};
    let targetPlayer = null;

    // Section ranks are sourced directly from the hidden table column.
    const SECTION_RANKS = {};

    // USTA UAID mapping from rankings_results_v1.csv
    // USTA profile links - will be populated from desktop version's playerProfileUrlByName
    const PLAYER_USTA_URLS = {};

    // ========================================
    // DATA PARSING FUNCTIONS
    // ========================================

    function detectMixedEvent() {
      const tables = document.querySelectorAll('.desktop-view table');
      if (tables.length < 2) return false;
      const hasPartnerHeader = Array.from(document.querySelectorAll('.desktop-view th')).some(
        (th) => (th.textContent || '').trim().toLowerCase() === 'partner'
      );
      return hasPartnerHeader;
    }

    function makePlayerKey(firstName, lastName) {
      const first = (firstName || '').trim().toUpperCase();
      const last = (lastName || '').trim().toUpperCase();
      return `${last}|${first}`;
    }

    function partnerKeyFromText(text) {
      const raw = (text || '').trim();
      if (!raw) return '';
      // Expected format: "Last, First"
      if (raw.includes(',')) {
        const parts = raw.split(',');
        const last = (parts[0] || '').trim();
        const first = (parts.slice(1).join(',') || '').trim();
        return makePlayerKey(first, last);
      }
      // Fallback: "First Last"
      const parts = raw.split(/\s+/).filter(Boolean);
      if (parts.length === 1) return makePlayerKey(parts[0], '');
      return makePlayerKey(parts[0], parts.slice(1).join(' '));
    }

    function parsePlayersFromTable(table, groupLabel) {
      const players = [];
      const headers = Array.from(table.querySelectorAll('thead th')).map((th) =>
        (th.textContent || '').trim().toLowerCase()
      );
      const partnerColIdx = headers.findIndex((h) => h === 'partner');
      const hasPartner = partnerColIdx !== -1;

      const rows = table.querySelectorAll('tbody tr');
      rows.forEach((row) => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 7) return;

        const rank = parseInt((cells[0].textContent || '').trim(), 10);
        const firstName = (cells[1].textContent || '').trim();
        const lastName = (cells[2].textContent || '').trim();
        const fullName = `${firstName} ${lastName}`.trim();

        const wtnCell = cells[3];
        const wtn = (wtnCell.textContent || '').trim();
        const ustaLink = wtnCell ? wtnCell.querySelector('a') : null;
        const ustaUrl = ustaLink ? ustaLink.href : null;

        const utrCell = cells[4];
        const utrLink = utrCell ? utrCell.querySelector('a') : null;
        const utrText = (utrLink ? utrLink.textContent : utrCell.textContent) || '';
        const utr = parseFloat(utrText.trim());
        const utrUrl = utrLink ? utrLink.href : null;

        const natCell = cells[5];
        const natRank = parseInt((natCell.textContent || '').trim(), 10);

        const location = (cells[6].textContent || '').trim();
        const isTarget = row.classList.contains('highlight-player');

        let partner = '';
        let partnerKey = '';
        if (hasPartner && cells[partnerColIdx]) {
          const partnerCell = cells[partnerColIdx];
          const partnerLink = partnerCell.querySelector('.partner-jump');
          partner = (partnerCell.textContent || '').trim();
          partnerKey = partnerLink ? (partnerLink.getAttribute('data-partner-key') || '').trim() : partnerKeyFromText(partner);
        }

        // Extract UAID from USTA URL if available
        let uaid = null;
        if (ustaUrl) {
          const uaidMatch = ustaUrl.match(/uaid=(\d+)/);
          if (uaidMatch) uaid = uaidMatch[1];
        }

        const playerKey = (row.getAttribute('data-player-key') || '').trim() || makePlayerKey(firstName, lastName);
        const id = (groupLabel ? groupLabel[0].toUpperCase() + '-' : '') + playerKey.replace(/[^A-Z0-9]+/g, '-');

        // Section ranks exist only for singles reports (hidden last column).
        const sectionCell = !hasPartner ? cells[7] : null;
        const sectionRank = sectionCell ? parseInt((sectionCell.textContent || '').trim(), 10) || null : null;

        players.push({
          id,
          group: groupLabel || '',
          playerKey,
          partner,
          partnerKey,
          rank,
          firstName,
          lastName,
          fullName,
          wtn,
          utr,
          utrUrl,
          natRank,
          sectionRank,
          uaid,
          location,
          isTarget
        });
      });

      return players;
    }

    function parsePlayerData() {
      isMixedEvent = detectMixedEvent();
      mixedGroups = null;

      const tables = Array.from(document.querySelectorAll('.desktop-view table'));
      if (!tables.length) return [];

      if (isMixedEvent) {
        const girls = [];
        const boys = [];

        tables.forEach((table) => {
          const titleEl = table.previousElementSibling;
          const titleText = titleEl ? (titleEl.textContent || '').trim().toLowerCase() : '';
          const group = titleText.includes('boys') ? 'Boys' : titleText.includes('girls') ? 'Girls' : '';
          const parsed = parsePlayersFromTable(table, group);
          if (group === 'Boys') boys.push(...parsed);
          else girls.push(...parsed);
        });

        mixedGroups = { girls, boys };
        return [...girls, ...boys];
      }

      // Singles: only first table.
      const single = parsePlayersFromTable(tables[0], '');
      return single;
    }

    function parseKeyStats() {
      const stats = {
        drawSize: 32,
        seed: 20,
        registered: 39,
        percentAbove: 31
      };
      
      const keyStats = document.querySelectorAll('.desktop-view .key-stat');
      keyStats.forEach(stat => {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) return;
        
        const labelText = label.textContent.trim();
        const valueText = value.textContent.trim();
        
        if (labelText === 'Draw') {
          stats.drawSize = parseInt(valueText);
        } else if (labelText === 'Alexis Seed') {
          const parts = valueText.split('/');
          if (parts.length === 2) {
            stats.seed = parseInt(parts[0].trim());
            stats.registered = parseInt(parts[1].trim());
          }
        } else if (labelText === '% Above Alexis (UTR)') {
          stats.percentAbove = parseInt(valueText);
        }
      });
      
      return stats;
    }

    function parseTournamentInfo() {
      const info = {
        title: '',
        dates: '',
        location: '',
        format: {},
        venues: [],
        contact: {}
      };
      
      // Parse header info
      const h1 = document.querySelector('.desktop-view h1');
      if (h1) info.title = h1.textContent.trim();
      
      const datesEl = document.querySelector('.desktop-view .tournament-dates');
      if (datesEl) info.dates = datesEl.textContent.trim();
      
      const tournamentInfo = document.querySelector('.desktop-view .tournament-info');
      if (tournamentInfo) {
        const text = tournamentInfo.textContent.trim();
        const lines = text.split('\n').map(l => l.trim()).filter(l => l);
        if (lines.length > 1) {
          const fullLocation = lines[1].replace(/•.*$/, '').trim();
          // Extract just "City, State" from full venue addresses
          // Example: "Willow Glen MS/HS & Piedmont Hills HS, San Jose, CA" -> "San Jose, CA"
          const cityStateMatch = fullLocation.match(/([^,]+,\s*[A-Z]{2})$/);
          info.location = cityStateMatch ? cityStateMatch[1].trim() : fullLocation;
        }
      }
      
      // Parse tournament details
      const detailsPage = document.querySelector('.desktop-view .tournament-details-page');
      if (detailsPage) {
        const detailRows = detailsPage.querySelectorAll('.detail-row');
        detailRows.forEach(row => {
          const label = row.querySelector('.detail-label');
          const value = row.querySelector('.detail-value');
          if (!label || !value) return;
          
          const labelText = label.textContent.trim().replace(':', '');
          const valueText = value.textContent.trim();
          
          // Format & Scoring
          if (labelText === 'Match Format') info.format.matchFormat = valueText;
          if (labelText === 'Set Tiebreak') info.format.setTiebreak = valueText;
          if (labelText === 'Match Tiebreak') info.format.matchTiebreak = valueText;
          
          // Venues
          if (labelText.startsWith('Site')) {
            const link = value.querySelector('a');
            info.venues.push({
              name: valueText.split(',')[0].trim(),
              url: link ? link.href : null
            });
          }
          
          // Contact
          if (labelText === 'Tournament Director') info.contact.director = valueText;
          if (labelText === 'Email') {
            const link = value.querySelector('a');
            info.contact.email = link ? link.href.replace('mailto:', '') : valueText;
          }
          if (labelText === 'Phone') {
            const link = value.querySelector('a');
            info.contact.phone = link ? link.textContent.trim() : valueText;
            info.contact.phoneUrl = link ? link.href : null;
          }
        });
      }
      
      return info;
    }

    // ========================================
    // RENDERING FUNCTIONS
    // ========================================

    function buildAlexisCard(player) {
      if (!player) return '';
      
      const initials = `${player.firstName[0]}${player.lastName[0]}`;
      const sectionRank = 54; // Alexis's sectional rank from MEMORY_BANK.md
      
      return `
        <div class="mobile-alexis-header">
          <div class="mobile-alexis-avatar">${initials}</div>
          <div class="mobile-alexis-name">
            <h3>${player.fullName}</h3>
            <span>${player.location}</span>
          </div>
          <div class="mobile-alexis-seed">#${player.rank} Seed</div>
        </div>
        <div class="mobile-alexis-stats">
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${player.wtn}</div>
            <div class="mobile-alexis-stat-label">WTN</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${player.utr}</div>
            <div class="mobile-alexis-stat-label">UTR</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${player.natRank}</div>
            <div class="mobile-alexis-stat-label">Nat Rank</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${sectionRank}</div>
            <div class="mobile-alexis-stat-label">Section</div>
          </div>
        </div>
      `;
    }

    function buildPositionGauge(players, targetPlayer) {
      if (!targetPlayer || players.length === 0) return '';
      
      const targetIndex = players.findIndex(p => p.isTarget);
      const percentage = ((targetIndex / (players.length - 1)) * 100).toFixed(0);
      const percentAbove = Math.round((targetIndex / players.length) * 100);
      const firstPlayer = players[0];
      const lastPlayer = players[players.length - 1];
      const stats = parseKeyStats();
      const cushion = stats.drawSize - targetPlayer.rank;
      
      return `
        <div class="mobile-gauge-header">
          <span class="mobile-gauge-title">Position in Draw</span>
          <span class="mobile-gauge-value">${percentAbove}% above her</span>
        </div>
        <div class="mobile-gauge-bar">
          <div class="mobile-gauge-fill" id="gauge-fill" style="width: 0%;" data-width="${percentage}%">
            <div class="mobile-gauge-marker"></div>
          </div>
        </div>
        <div class="mobile-gauge-labels">
          <span>#1 ${firstPlayer.firstName} ${firstPlayer.lastName[0]}.</span>
          <span>#${targetPlayer.rank} ${targetPlayer.firstName}</span>
          <span>#${players.length}</span>
        </div>
        ${cushion > 0 ? `
        <div class="mobile-gauge-note">
          <span>✓</span>
          ${cushion}-player cushion above cutoff — safe entry
        </div>
        ` : ''}
      `;
    }

    function buildUtrHistogramMobile() {
      // Find existing histogram data from desktop view
      const desktopHistogram = document.querySelector('.desktop-view .utr-histogram-chart');
      if (!desktopHistogram) return '';
      
      const bins = desktopHistogram.querySelectorAll('.utr-bin');
      if (bins.length === 0) return '';
      
      let maxCount = 0;
      const binData = [];
      
      bins.forEach(bin => {
        const countEl = bin.querySelector('.utr-bin-count');
        const count = parseInt(countEl.textContent.trim());
        const isHighlight = bin.classList.contains('is-highlight');
        binData.push({ count, isHighlight });
        maxCount = Math.max(maxCount, count);
      });
      
      // Build histogram bars
      const bars = binData.map((bin, i) => {
        const height = (bin.count / maxCount) * 100;
        const className = bin.isHighlight ? 'mobile-histogram-bar alexis-range' : 'mobile-histogram-bar';
        return `<div class="${className}" style="height: ${height}%;"></div>`;
      }).join('');
      
      return `
        <div class="mobile-histogram">
          ${bars}
        </div>
        <div class="mobile-histogram-labels">
          <span>2.0</span>
          <span>3.0</span>
          <span>4.0</span>
          <span>5.0</span>
          <span>6.0</span>
        </div>
        <div class="mobile-chart-legend">
          <div class="mobile-legend-item">
            <div class="mobile-legend-dot blue"></div>
            <span>Other players</span>
          </div>
          <div class="mobile-legend-item">
            <div class="mobile-legend-dot orange"></div>
            <span>Alexis's range</span>
          </div>
        </div>
      `;
    }

    function sortPlayers(players, sortBy) {
      const sorted = [...players];
      
      if (sortBy === 'rank') {
        sorted.sort((a, b) => a.rank - b.rank);
      } else if (sortBy === 'utr') {
        sorted.sort((a, b) => b.utr - a.utr); // Descending (higher is better)
      } else if (sortBy === 'natRank') {
        sorted.sort((a, b) => a.natRank - b.natRank); // Ascending (lower is better)
      } else if (sortBy === 'wtn') {
        sorted.sort((a, b) => {
          const aWtn = parseFloat(a.wtn) || 999;
          const bWtn = parseFloat(b.wtn) || 999;
          return aWtn - bWtn; // Ascending (lower is better)
        });
      }
      
      return sorted;
    }

    function buildPlayerCards(players, sortBy, limit = null) {
      const sorted = sortPlayers(players, sortBy);
      const displayPlayers = limit ? sorted.slice(0, limit) : sorted;
      const stats = parseKeyStats();
      const showCutoff = sortBy === 'rank'; // Only show cutoff when sorted by seed
      
      let html = '';
      let cutoffAdded = false;
      
      displayPlayers.forEach((player, index) => {
        // Add cutoff divider after player #32 (only in seed order)
        if (showCutoff && !cutoffAdded && player.rank === stats.drawSize && index < displayPlayers.length - 1) {
          html += '<div class="mobile-cutoff-divider">✂️ Draw cutoff after player #' + stats.drawSize + '</div>';
          cutoffAdded = true;
        }
        
        const isTopSeed = player.rank <= 8;
        const cardClass = ['mobile-player-card'];
        if (isTopSeed) cardClass.push('top-seed');
        if (player.isTarget) cardClass.push('target-player');
        
        html += `
          <div class="${cardClass.join(' ')}" data-player-id="${player.id}">
            <div class="mobile-player-rank">${player.rank}</div>
            <div class="mobile-player-info">
              <div class="mobile-player-name">${player.fullName}</div>
              <div class="mobile-player-location">${player.location}</div>
            </div>
            <div class="mobile-player-ratings">
              ${player.utrUrl ? `
                <a href="${player.utrUrl}" target="_blank" rel="noopener noreferrer" class="mobile-rating-badge utr" onclick="event.stopPropagation()">
                  <div class="mobile-rating-value">${player.utr}</div>
                  <div class="mobile-rating-label">UTR</div>
                </a>
              ` : `
                <div class="mobile-rating-badge utr">
                  <div class="mobile-rating-value">${player.utr}</div>
                  <div class="mobile-rating-label">UTR</div>
                </div>
              `}
              ${player.uaid ? `
                <a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=${player.uaid}" target="_blank" rel="noopener noreferrer" class="mobile-rating-badge nat" onclick="event.stopPropagation()">
                  <div class="mobile-rating-value">${player.natRank}</div>
                  <div class="mobile-rating-label">Nat</div>
                </a>
              ` : `
                <div class="mobile-rating-badge nat">
                  <div class="mobile-rating-value">${player.natRank}</div>
                  <div class="mobile-rating-label">Nat</div>
                </div>
              `}
            </div>
            <div class="mobile-player-expand-icon">▼</div>
          </div>
          <div class="mobile-player-details" data-player-id="${player.id}">
            <div class="mobile-player-details-grid">
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">WTN</div>
                <div class="mobile-detail-value">${player.wtn}</div>
              </div>
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Sec Rank</div>
                <div class="mobile-detail-value">${player.sectionRank || 'N/A'}</div>
              </div>
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Seed</div>
                <div class="mobile-detail-value">#${player.rank}</div>
              </div>
              ${player.partner ? `
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Partner</div>
                <div class="mobile-detail-value">
                  ${player.partnerKey ? `
                    <button class="mobile-partner-jump" data-partner-key="${player.partnerKey}" onclick="event.stopPropagation()">${player.partner}</button>
                  ` : player.partner}
                </div>
              </div>
              ` : ''}
            </div>
          </div>
        `;
      });
      
      return html;
    }

    function buildInfoCards(info) {
      let html = '';
      
      // Format & Scoring Card
      if (info.format.matchFormat) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">🎾</span>
              Format & Scoring
            </div>
            ${info.format.matchFormat ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Match Format</span>
              <span class="mobile-info-value">${info.format.matchFormat}</span>
            </div>` : ''}
            ${info.format.setTiebreak ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Set Tiebreak</span>
              <span class="mobile-info-value">${info.format.setTiebreak}</span>
            </div>` : ''}
            ${info.format.matchTiebreak ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">3rd Set</span>
              <span class="mobile-info-value">${info.format.matchTiebreak}</span>
            </div>` : ''}
          </div>
        `;
      }
      
      // Venues Card
      if (info.venues.length > 0) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">📍</span>
              Venues
            </div>
        `;
        info.venues.forEach((venue, i) => {
          html += `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Site ${i + 1}</span>
              <span class="mobile-info-value">
                ${venue.url ? `<a href="${venue.url}" target="_blank">${venue.name} →</a>` : venue.name}
              </span>
            </div>
          `;
        });
        html += '</div>';
      }
      
      // Contact Card
      if (info.contact.director || info.contact.email || info.contact.phone) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">📞</span>
              Contact
            </div>
            ${info.contact.director ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Director</span>
              <span class="mobile-info-value">${info.contact.director}</span>
            </div>` : ''}
            ${info.contact.email ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Email</span>
              <span class="mobile-info-value"><a href="mailto:${info.contact.email}">${info.contact.email}</a></span>
            </div>` : ''}
            ${info.contact.phone ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Phone</span>
              <span class="mobile-info-value">
                ${info.contact.phoneUrl ? `<a href="${info.contact.phoneUrl}">${info.contact.phone}</a>` : info.contact.phone}
              </span>
            </div>` : ''}
          </div>
        `;
      }
      
      return html;
    }

    // ========================================
    // MAIN RENDER FUNCTION
    // ========================================

    function renderMobileView() {
      // Parse all data
      allPlayers = parsePlayerData();
      playerByKey = {};
      allPlayers.forEach(p => {
        if (p && p.playerKey) playerByKey[p.playerKey] = p;
      });
      targetPlayer = allPlayers.find(p => p.isTarget);
      const stats = parseKeyStats();
      const info = parseTournamentInfo();
      
      // Render header
      // Use title as-is (already contains "Open Level 5 Championship Singles - Girls' 12 Singles")
      const titleText = info.title || "Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals";
      document.getElementById('mobile-title').textContent = titleText;
      
      // Format: "Jan 10-18, 2026 • San Jose, CA"
      document.getElementById('mobile-meta').textContent = `${info.dates} • ${info.location}`;
      
      // Render hero stats
      document.getElementById('mobile-draw-size').textContent = stats.drawSize;
      document.getElementById('mobile-seed').textContent = stats.seed;
      document.getElementById('mobile-registered').textContent = stats.registered;
      
      // Render Alexis card
      if (targetPlayer) {
        document.getElementById('mobile-alexis-card').innerHTML = buildAlexisCard(targetPlayer);
      }
      
      // Render position gauge
      if (targetPlayer && allPlayers.length > 0) {
        document.getElementById('mobile-position-gauge').innerHTML = buildPositionGauge(allPlayers, targetPlayer);
        // Animate gauge after render
        setTimeout(() => {
          const fill = document.getElementById('gauge-fill');
          if (fill) {
            fill.style.width = fill.getAttribute('data-width');
          }
        }, 100);
      }
      
      // Render UTR histogram
      document.getElementById('mobile-histogram').innerHTML = buildUtrHistogramMobile();
      
      // Render player count
      document.getElementById('mobile-player-count').textContent = allPlayers.length;
      
      // Render player list (initially show top 8)
      renderPlayerList(currentSort, 8);
      
      // Render tournament info
      document.getElementById('mobile-info-section').innerHTML = buildInfoCards(info);
    }

    function renderPlayerList(sortBy, limit = null) {
      if (isMixedEvent && mixedGroups) {
        const groupLimit = limit === null ? null : 8;
        const girlsHtml = buildPlayerCards(mixedGroups.girls, sortBy, groupLimit);
        const boysHtml = buildPlayerCards(mixedGroups.boys, sortBy, groupLimit);
        const html = `
          <div class="mobile-group-header">Girls</div>
          ${girlsHtml}
          <div class="mobile-group-header">Boys</div>
          ${boysHtml}
        `;
        document.getElementById('mobile-player-list').innerHTML = html;
      } else {
        const html = buildPlayerCards(allPlayers, sortBy, limit);
        document.getElementById('mobile-player-list').innerHTML = html;
      }
      
      // Update show more button
      const showMoreBtn = document.getElementById('mobile-show-more');
      if (limit && limit < allPlayers.length) {
        showMoreBtn.style.display = 'block';
        showMoreBtn.textContent = `Show all ${allPlayers.length} players ↓`;
        isExpanded = false;
      } else if (limit === null) {
        showMoreBtn.style.display = 'block';
        showMoreBtn.textContent = `Show less ↑`;
        isExpanded = true;
      } else {
        showMoreBtn.style.display = 'none';
      }
    }

    // ========================================
    // EVENT HANDLERS
    // ========================================

    function handleSort(sortBy) {
      currentSort = sortBy;
      
      // Update active button
      document.querySelectorAll('.mobile-sort-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-sort') === sortBy) {
          btn.classList.add('active');
        }
      });
      
      // Re-render with current expansion state
      const limit = isExpanded ? null : 8;
      renderPlayerList(sortBy, limit);
    }

    function handleShowMore() {
      if (isExpanded) {
        renderPlayerList(currentSort, 8);
      } else {
        renderPlayerList(currentSort, null);
      }
    }

    // ========================================
    // VIEW TOGGLE
    // ========================================

    function getUserViewPreference() {
      return localStorage.getItem('tennisReportViewPref');
    }

    function setUserViewPreference(view) {
      localStorage.setItem('tennisReportViewPref', view);
    }

    function detectMobileDevice() {
      return window.innerWidth <= 600;
    }

    function toggleView(targetView) {
      setUserViewPreference(targetView);
      
      if (targetView === 'mobile') {
        document.body.classList.add('force-mobile');
        document.body.classList.remove('force-desktop');
      } else {
        document.body.classList.add('force-desktop');
        document.body.classList.remove('force-mobile');
      }
    }

    function applyViewPreference() {
      const pref = getUserViewPreference();
      const isMobile = detectMobileDevice();
      
      // On desktop (>600px), always show desktop regardless of preference
      if (!isMobile) {
        document.body.classList.remove('force-mobile', 'force-desktop');
        return;
      }
      
      // On mobile (≤600px), apply preference if set
      if (pref === 'desktop') {
        document.body.classList.add('force-desktop');
        document.body.classList.remove('force-mobile');
      } else if (pref === 'mobile') {
        document.body.classList.add('force-mobile');
        document.body.classList.remove('force-desktop');
      }
      // If no preference, let CSS media query handle it
    }

    // ========================================
    // PLAYER CARD INTERACTION
    // ========================================

    function togglePlayerDetails(playerId) {
      const card = document.querySelector(`.mobile-player-card[data-player-id="${playerId}"]`);
      const details = document.querySelector(`.mobile-player-details[data-player-id="${playerId}"]`);
      
      if (!card || !details) return;
      
      const isExpanded = card.classList.contains('expanded');
      
      // Close all other expanded cards
      document.querySelectorAll('.mobile-player-card.expanded').forEach(c => {
        c.classList.remove('expanded');
      });
      document.querySelectorAll('.mobile-player-details.expanded').forEach(d => {
        d.classList.remove('expanded');
      });
      
      // Toggle current card
      if (!isExpanded) {
        card.classList.add('expanded');
        details.classList.add('expanded');
      }
    }

    // ========================================
    // INITIALIZATION
    // ========================================

    function initMobileView() {
      // Apply view preference
      applyViewPreference();
      
      // Render mobile view
      renderMobileView();
      
      // Setup event listeners
      
      // Player card click handlers
      document.addEventListener('click', (e) => {
        const partnerBtn = e.target.closest('.mobile-partner-jump');
        if (partnerBtn) {
          e.preventDefault();
          e.stopPropagation();
          const key = (partnerBtn.getAttribute('data-partner-key') || '').trim();
          if (!key) return;
          const partner = playerByKey[key];
          if (!partner) return;
          const card = document.querySelector(`.mobile-player-card[data-player-id="${partner.id}"]`);
          if (card) {
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
            togglePlayerDetails(partner.id);
          }
          return;
        }

        const card = e.target.closest('.mobile-player-card');
        if (card) {
          const playerId = card.getAttribute('data-player-id');
          if (playerId) {
            togglePlayerDetails(playerId);
          }
        }
      });
      
      // Sort buttons
      document.querySelectorAll('.mobile-sort-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          handleSort(btn.getAttribute('data-sort'));
        });
      });
      
      // Show more/less button
      document.getElementById('mobile-show-more').addEventListener('click', handleShowMore);
      
      // View toggle links
      document.getElementById('mobile-toggle-desktop').addEventListener('click', (e) => {
        e.preventDefault();
        toggleView('desktop');
      });
      
      document.getElementById('desktop-toggle-mobile').addEventListener('click', (e) => {
        e.preventDefault();
        toggleView('mobile');
      });
      
      // Handle window resize
      window.addEventListener('resize', () => {
        applyViewPreference();
      });
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initMobileView);
    } else {
      initMobileView();
    }
  </script>

  <!-- Share Button -->
  <script>
    // Player profile links keyed by "FIRST|LAST" (uppercase)
    // Made global so mobile view can access it
    window.playerProfileUrlByName = {
      "VALENTINA|KUKEEVA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018899502",
      "KENDRA|WU": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018931899",
      "EILEEN|LI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018605732",
      "ANNABEL|HU": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018637000",
      "ANGELA|LIU": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018981779",
      "MARGARET|DORAN": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019941530",
      "ALEXIS|MALAKHOVA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018710796",
      "GRACE|LI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018857955",
      "EMMA|LI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018930736",
      "SHARANYA|PRASAD": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018706747",
      "MEGAN|LAI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019656678",
      "AMY|LI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019389340",
      "AVALINE|WANG": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019122088",
      "MISHA|KATARIA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019420835",
      "RUOYU|SUN": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018989144",
      "AKSHAYA|ASHOK": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018948492",
    };

    function decorateMetricCellWithProfileLink(cell, url) {
      if (!cell || !url) return;
      if (cell.querySelector('a')) return;
      const text = cell.textContent.trim();
      const a = document.createElement('a');
      a.href = url;
      a.target = '_blank';
      a.rel = 'noopener noreferrer';
      a.textContent = text;
      a.title = 'Open player profile';
      cell.textContent = '';
      cell.appendChild(a);
    }

    function decoratePlayerLinks() {
      const tbody = document.querySelector('.primary-table tbody');
      if (!tbody) return;
      const rows = Array.from(tbody.querySelectorAll('tr'));
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 7) return;
        const first = cells[1].textContent.trim().toUpperCase();
        const last = cells[2].textContent.trim().toUpperCase();
        const key = `${first}|${last}`;
        const url = window.playerProfileUrlByName[key];
        if (!url) return;
        // WTN (col 3) and Nat Rank (col 5)
        decorateMetricCellWithProfileLink(cells[3], url);
        decorateMetricCellWithProfileLink(cells[5], url);
      });
    }

    function toTitleCase(value) {
      return value
        .toLowerCase()
        .replace(/\b\w/g, letter => letter.toUpperCase());
    }

    function normalizeLastNames() {
      const tbody = document.querySelector('.primary-table tbody');
      if (!tbody) return;
      const rows = Array.from(tbody.querySelectorAll('tr'));
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 3) return;
        const lastCell = cells[2];
        const text = lastCell.textContent.trim();
        if (!text) return;
        lastCell.textContent = toTitleCase(text);
      });
    }

    function normalizeLocations() {
      const tbody = document.querySelector('.primary-table tbody');
      if (!tbody) return;
      const rows = Array.from(tbody.querySelectorAll('tr'));
      rows.forEach(row => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 7) return;
        const locationCell = cells[6];
        const text = locationCell.textContent.trim();
        if (!text) return;
        if (text.includes(',')) return;
        const parts = text.split(/\s+/);
        if (parts.length < 2) return;
        const state = parts.pop();
        const city = parts.join(' ');
        locationCell.textContent = `${city}, ${state}`;
      });
    }

    function formatUtrRangeLabel(start, binSize) {
      const end = start + binSize - 0.01;
      return `${start.toFixed(1)}-${end.toFixed(2)}`;
    }

    function getDrawSizeFromKeyStats() {
      const stats = Array.from(document.querySelectorAll('.key-stat'));
      for (const stat of stats) {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase() === 'draw') {
          const size = parseInt(value.textContent.trim(), 10);
          if (Number.isFinite(size)) return size;
        }
      }
      return null;
    }

    function buildUtrHistogram() {
      const container = document.getElementById('utr-histogram-chart');
      if (!container) return;
      const rows = Array.from(document.querySelectorAll('.primary-table tbody tr'));
      if (!rows.length) return;

      const players = rows.map(row => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 6) return null;
        const utr = parseFloat(cells[4].textContent.trim());
        const natRank = parseInt(cells[5].textContent.trim(), 10);
        if (!Number.isFinite(natRank)) return null;
        return {
          utr: Number.isFinite(utr) ? utr : null,
          natRank,
          highlight: row.classList.contains('highlight-player'),
        };
      }).filter(Boolean);

      if (!players.length) return;

      players.sort((a, b) => a.natRank - b.natRank);
      const drawSize = getDrawSizeFromKeyStats() || players.length;
      const drawPlayers = players.slice(0, drawSize);
      const values = drawPlayers
        .map(player => player.utr)
        .filter(value => Number.isFinite(value));

      if (!values.length) return;

      const highlightPlayer = drawPlayers.find(
        player => player.highlight && Number.isFinite(player.utr)
      );
      const highlightUtr = highlightPlayer ? highlightPlayer.utr : null;

      const binSize = 0.5;
      const min = Math.min(...values);
      const max = Math.max(...values);
      const startBin = Math.floor(min / binSize) * binSize;
      const endBin = Math.floor(max / binSize) * binSize;
      const binCount = Math.round((endBin - startBin) / binSize) + 1;
      const bins = new Array(binCount).fill(0);

      values.forEach(value => {
        const idx = Math.floor((value - startBin) / binSize);
        if (idx >= 0 && idx < bins.length) {
          bins[idx] += 1;
        }
      });

      const maxCount = Math.max(...bins, 1);
      container.innerHTML = '';

      const highlightIndex =
        highlightUtr !== null ? Math.floor((highlightUtr - startBin) / binSize) : null;

      bins.forEach((count, index) => {
        if (count === 0) return;
        const start = startBin + index * binSize;
        const row = document.createElement('div');
        row.className = 'utr-bin';

        if (highlightIndex !== null && highlightIndex === index) {
          row.classList.add('is-highlight');
        }

        const label = document.createElement('div');
        label.className = 'utr-bin-label';
        label.textContent = formatUtrRangeLabel(start, binSize);

        const barWrap = document.createElement('div');
        barWrap.className = 'utr-bin-bar-wrap';

        const bar = document.createElement('div');
        bar.className = 'utr-bin-bar';
        bar.style.width = `${(count / maxCount) * 100}%`;
        barWrap.appendChild(bar);

        const countEl = document.createElement('div');
        countEl.className = 'utr-bin-count';
        countEl.textContent = String(count);

        row.appendChild(label);
        row.appendChild(barWrap);
        row.appendChild(countEl);

        container.appendChild(row);
      });

      const captionEl = document.getElementById('utr-histogram-caption');
      if (captionEl) {
        let caption = `Based on ${values.length} of ${drawPlayers.length} draw players with UTR ratings.`;
        if (highlightUtr !== null) {
          caption += ' Alexis bin highlighted.';
        }
        captionEl.textContent = caption;
      }
    }

    // Sorting: support 1+ tables (e.g., mixed doubles has Girls + Boys tables).
    function initSortableTable(table) {
      const headers = Array.from(table.querySelectorAll('th'));
      const tbody = table.querySelector('tbody');
      if (!tbody || headers.length < 7) return;

      const sortableColumns = new Set([1, 2, 3, 4, 5, 6, 7]);
      const numericColumns = new Set();
      headers.forEach((header, idx) => {
        const label = (header.textContent || '').trim().toLowerCase();
        if (['wtn', 'utr', 'nat rank', 'combined nst'].includes(label)) {
          numericColumns.add(idx);
        }
      });
      const sortableHeaders = headers.filter((header, columnIndex) =>
        sortableColumns.has(columnIndex) && header.classList.contains('sortable')
      );

      function updateRowNumbers() {
        const rows = tbody.querySelectorAll('tr');
        rows.forEach((row, index) => {
          if (row.cells && row.cells[0]) row.cells[0].textContent = index + 1;
        });
      }

      function applySort(columnIndex, direction, activeHeader, updateHeaderStyle) {
        const rows = Array.from(tbody.querySelectorAll('tr'));

        rows.sort((a, b) => {
          const aText = a.cells[columnIndex]?.textContent.trim() || '';
          const bText = b.cells[columnIndex]?.textContent.trim() || '';
          const isNumeric = numericColumns.has(columnIndex);
          if (isNumeric) {
            const aVal = parseFloat(aText);
            const bVal = parseFloat(bText);
            if (Number.isNaN(aVal) && Number.isNaN(bVal)) return 0;
            if (Number.isNaN(aVal)) return 1;
            if (Number.isNaN(bVal)) return -1;
            return direction === 'asc' ? aVal - bVal : bVal - aVal;
          }
          const cmp = aText.localeCompare(bText, undefined, { sensitivity: 'base' });
          return direction === 'asc' ? cmp : -cmp;
        });

        tbody.innerHTML = '';
        rows.forEach(row => tbody.appendChild(row));
        updateRowNumbers();

        if (updateHeaderStyle) {
          headers.forEach(h => (h.style.backgroundColor = '#4472C4'));
          if (activeHeader) activeHeader.style.backgroundColor = '#2c5aa0';
        }
      }

      sortableHeaders.forEach(header => {
        if (!header.dataset.sort) header.dataset.sort = 'none';
        if (!header.title) header.title = 'Click to sort';
      });

      const natIdx = headers.findIndex(h => h.classList.contains('col-national'));
      const defaultIdx = natIdx >= 0 ? natIdx : 5;
      const defaultHeader = headers[defaultIdx];
      if (defaultHeader && sortableHeaders.includes(defaultHeader)) {
        sortableHeaders.forEach(h => {
          if (h !== defaultHeader) h.dataset.sort = 'none';
        });
        defaultHeader.dataset.sort = 'asc';
        applySort(defaultIdx, 'asc', defaultHeader, true);
      } else {
        updateRowNumbers();
      }

      headers.forEach((header, columnIndex) => {
        if (!sortableHeaders.includes(header)) return;
        header.addEventListener('click', () => {
          const currentSort = header.dataset.sort || 'none';
          const newSort = currentSort === 'asc' ? 'desc' : 'asc';
          sortableHeaders.forEach(h => {
            if (h !== header) h.dataset.sort = 'none';
          });
          header.dataset.sort = newSort;
          applySort(columnIndex, newSort, header, true);
        });
      });
    }

    document.querySelectorAll('.desktop-view table').forEach(initSortableTable);

    // Partner jump (mixed doubles): click partner name to scroll to their row.
    document.addEventListener('click', (e) => {
      const link = e.target.closest('.partner-jump');
      if (!link) return;
      e.preventDefault();
      const partnerKey = (link.getAttribute('data-partner-key') || '').trim();
      if (!partnerKey) return;
      const esc = (s) =>
        window.CSS && CSS.escape ? CSS.escape(s) : s.replace(/[^a-zA-Z0-9_-]/g, '\\\\$&');
      const row = document.querySelector(`.desktop-view tr[data-player-key="${esc(partnerKey)}"]`);
      if (!row) return;
      row.scrollIntoView({ behavior: 'smooth', block: 'center' });
      row.classList.add('partner-highlight');
      window.setTimeout(() => row.classList.remove('partner-highlight'), 1600);
    });
    decoratePlayerLinks();
    normalizeLastNames();
    normalizeLocations();
    buildUtrHistogram();
    updateRegistrationCountdown();
    setInterval(updateRegistrationCountdown, 60 * 1000);

    function getRegistrationCloseText() {
      const keyStats = document.querySelectorAll('.desktop-view .key-stat');
      for (const stat of keyStats) {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase() === 'closes') {
          return value.textContent.trim();
        }
      }

      const detailRows = document.querySelectorAll('.desktop-view .detail-row');
      for (const row of detailRows) {
        const label = row.querySelector('.detail-label');
        const value = row.querySelector('.detail-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase().startsWith('registration closes')) {
          return value.textContent.trim();
        }
      }

      return null;
    }

    function parseCloseDate(text) {
      if (!text) return null;
      const match = text.match(/([A-Za-z]+)\s+(\d{1,2}),\s*(\d{4})\s+at\s+(\d{1,2}):(\d{2})\s+([AP]M)\s+([A-Z]{2,4})/);
      if (!match) return null;

      const monthName = match[1];
      const day = parseInt(match[2], 10);
      const year = parseInt(match[3], 10);
      let hour = parseInt(match[4], 10);
      const minute = parseInt(match[5], 10);
      const ampm = match[6];
      const tz = match[7];

      const months = {
        January: 0, February: 1, March: 2, April: 3, May: 4, June: 5,
        July: 6, August: 7, September: 8, October: 9, November: 10, December: 11
      };
      const month = months[monthName];
      if (month === undefined) return null;

      hour = hour % 12 + (ampm === 'PM' ? 12 : 0);

      const offsets = {
        PST: -8, PDT: -7, PT: -8,
        MST: -7, MDT: -6,
        CST: -6, CDT: -5,
        EST: -5, EDT: -4
      };
      const offset = offsets[tz] ?? 0;
      const utcHour = hour - offset;
      const utcMs = Date.UTC(year, month, day, utcHour, minute, 0);
      return new Date(utcMs);
    }

    function updateRegistrationCountdown() {
      const badge = document.getElementById('registration-deadline-badge');
      const countdownEl = document.getElementById('registration-countdown');
      const dateEl = document.getElementById('registration-deadline-date');
      const mobileBadge = document.getElementById('mobile-deadline-badge');
      const mobileCountdown = document.getElementById('mobile-registration-countdown');
      const mobileDate = document.getElementById('mobile-registration-date');

      const closeText = getRegistrationCloseText();
      if (!closeText) {
        if (badge) badge.style.display = 'none';
        if (mobileBadge) mobileBadge.style.display = 'none';
        return;
      }

      const closeDate = parseCloseDate(closeText);
      if (!closeDate) {
        if (badge) badge.style.display = 'none';
        if (mobileBadge) mobileBadge.style.display = 'none';
        return;
      }

      const diffMs = closeDate.getTime() - Date.now();
      const timeText =
        diffMs <= 0
          ? 'Registration closed'
          : (() => {
              const days = Math.floor(diffMs / (24 * 60 * 60 * 1000));
              const hours = Math.floor((diffMs % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
              return `Closes in ${days}d ${hours}h`;
            })();

      if (badge && countdownEl && dateEl) {
        countdownEl.textContent = timeText;
        dateEl.textContent = closeText;
      }

      if (mobileBadge && mobileCountdown && mobileDate) {
        mobileCountdown.textContent = timeText;
        mobileDate.textContent = closeText;
      }
    }

    // Share button functionality
    const shareButton = document.createElement('button');
    shareButton.className = 'share-button';
    shareButton.innerHTML = '↗';
    shareButton.title = 'Share this report';
    shareButton.setAttribute('aria-label', 'Share tournament report');

    shareButton.addEventListener('click', async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: "Level 3 Closed: HRT Level 3 Junior 12s & 14s Mixed Doubles Sectionals",
            text: 'Tournament Report - February 21 - 22, 2026',
            url: window.location.href
          });
        } catch (err) {
          if (err.name !== 'AbortError') {
            console.error('Share failed:', err);
          }
        }
      } else {
        // Fallback: Copy link to clipboard
        navigator.clipboard.writeText(window.location.href).then(() => {
          shareButton.innerHTML = '✓';
          setTimeout(() => {
            shareButton.innerHTML = '↗';
          }, 2000);
        });
      }
    });

    document.body.appendChild(shareButton);
  </script>
</body>
</html>
