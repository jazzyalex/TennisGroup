<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/tennis-report/favicon-32-thin.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/tennis-report/favicon-16.png">
  <link rel="icon" type="image/png" sizes="48x48" href="assets/tennis-report/favicon-48.png">
  <link rel="icon" type="image/x-icon" href="assets/tennis-report/favicon-32thin.ico">
  <link rel="shortcut icon" href="assets/tennis-report/favicon-32thin.ico">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Open Level 5 Championship — Fair Oaks (G12/G14 Singles)">
  <meta property="og:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge-1200x630.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Tournament report preview">
  <meta property="og:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge.svg">
  <meta property="og:image:type" content="image/svg+xml">
  <meta property="og:image:alt" content="Tournament report preview">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://jazzyalex.github.io/TennisGroup/assets/tennis-report/og-image-edge-1200x630.png">
  <meta name="twitter:image:alt" content="Tournament report preview">
  <title>Open Level 5 Championship — Fair Oaks (G12/G14 Singles), February 14 - 16, 2026, Rollingwood YMCA, Fair Oaks, CA</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      padding-top: 24px;
      background-color: #f5f5f5;
      border-top: 4px solid #4472C4;
    }

    .report-header {
      max-width: 1000px;
      margin: 12px auto 24px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      gap: 74px;
    }

    .report-header-logo-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 18px;
      padding: 4px;
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .report-header-logo-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(31, 45, 68, 0.18);
    }

    .report-header-logo-link:focus-visible {
      outline: 2px solid #4472C4;
      outline-offset: 4px;
    }

    .report-header-logo {
      width: 108px;
      height: 108px;
      display: block;
      object-fit: contain;
      flex-shrink: 0;
    }

    .report-header-text {
      text-align: center;
    }

    h1 {
      color: #2c3e50;
      text-align: center;
      margin: 0;
      font-size: 2.2em;
      font-weight: bold;
    }

    .tournament-dates-row {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      flex-wrap: wrap;
      margin: 8px 0 12px;
    }

    .tournament-dates {
      text-align: center;
      color: #2c3e50;
      font-size: 1.3em;
      font-weight: 600;
    }

    .deadline-badge {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 2px;
      padding: 6px 12px;
      border-radius: 12px;
      border: 1px solid #c9d6f5;
      background: #f3f6ff;
      font-size: 12px;
      line-height: 1.2;
      color: #2c3e50;
      white-space: nowrap;
    }

    .deadline-countdown {
      font-weight: 700;
      color: #2c5aa0;
    }

    .deadline-date {
      font-size: 11px;
      color: #5f6c7b;
    }

    .tournament-info {
      text-align: center;
      color: #7f8c8d;
      margin: 0 0 10px;
      font-size: 14px;
      line-height: 1.6;
    }

    .tournament-info a {
      color: inherit;
      text-decoration: underline;
    }

    .partner-jump {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    tr.partner-highlight td {
      background: #fff2cc !important;
    }

    tr.seeded-team td:first-child {
      border-left: 4px solid #cfe3ff;
    }

    .table-meta {
      max-width: 1000px;
      margin: 10px auto 6px;
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 12px;
    }

    /* Align section titles (e.g., Mixed Doubles Girls/Boys) with the table left edge */
    .table-section-title {
      max-width: 1000px;
      width: 100%;
      margin: 26px auto 12px;
      padding: 0;
      color: #2c3e50;
      font-size: 1.45em;
      font-weight: 700;
      text-align: left;
    }

    .key-stats {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-start;
      font-size: 12px;
      color: #2c3e50;
    }

    .key-stat {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 0;
      background: none;
      border: none;
      border-radius: 0;
    }

    .key-stat .key-value {
      font-weight: 700;
      color: #1f3b68;
    }

    .key-stat:not(:last-child)::after {
      content: "•";
      margin-left: 8px;
      color: #9aa9c0;
    }

    .link-legend {
      text-align: right;
      font-size: 11px;
      color: #666;
      white-space: nowrap;
    }

    .selection-callout {
      margin: 8px 0 12px;
      padding: 8px 10px;
      font-size: 12px;
      color: #2c3e50;
      background-color: #f3f6fb;
      border-left: 3px solid #4472C4;
      border-radius: 4px;
    }

    table {
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      border-collapse: collapse;
      background-color: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    th {
      background-color: #4472C4;
      color: white;
      padding: 12px 10px;
      text-align: left;
      font-weight: bold;
      font-size: 13px;
      border-right: 1px solid white;
    }

    .players-table th {
      white-space: nowrap;
    }

    th:last-child {
      border-right: none;
    }

    /* Sortable column indicator */
    th.sortable {
      cursor: pointer;
    }

    th.sortable::after {
      content: ' ↕';
      font-size: 0.7em;
      opacity: 0.6;
      margin-left: 5px;
    }

    th.sortable[data-sort="asc"]::after {
      content: ' ↑';
      opacity: 0.9;
    }

    th.sortable[data-sort="desc"]::after {
      content: ' ↓';
      opacity: 0.9;
    }

    td {
      padding: 8px 10px;
      font-size: 13px;
      border-bottom: 1px solid #ddd;
    }

    /* Alternating row colors - exactly like the sample */
    tbody tr:nth-child(odd) {
      background-color: white;
    }

    tbody tr:nth-child(even) {
      background-color: #D9E2F3;
    }

    /* Hover effect */
    tbody tr:hover {
      background-color: #EAF2FB !important;
      cursor: pointer;
    }

    /* Highlighted player (Alexis) */
    tr.highlight-player {
      background-color: white !important;
    }

    tr.highlight-player:hover {
      background-color: white !important;
    }

    tr.highlight-player td {
      color: #222;
      font-weight: 600;
    }

    tr.highlight-player td.col-wtn {
      font-weight: normal;
    }

    tr.highlight-player td:nth-child(1) {
      border-left: 4px solid #f5c542;
    }

    tr.highlight-player td:nth-child(2) {
      background-color: #fff3cd;
    }

    tr.highlight-player td:nth-child(3) {
      background-color: #fff3cd;
    }

    tr.highlight-player:hover td:nth-child(2) {
      background-color: #fff3cd;
    }

    tr.highlight-player:hover td:nth-child(3) {
      background-color: #fff3cd;
    }

    /* Column alignment */
    .col-rank {
      text-align: center;
      width: 50px;
      font-weight: 600;
      color: #666;
    }

    .col-wtn {
      text-align: right;
      font-weight: normal;
    }

    .col-utr, .col-national {
      text-align: right;
      font-weight: 600;
    }

    .col-wtn, .col-utr {
      width: 70px;
    }

    .col-national {
      width: 85px;
    }

    tbody td:nth-child(3) {
      text-transform: capitalize;
    }

    td.col-wtn, td.col-utr, td.col-national {
      box-shadow: inset 0 0 0 9999px rgba(68, 114, 196, 0.06);
    }

    /* Links inside metric cells (keep visual style) */
    td.col-wtn a, td.col-utr a, td.col-national a {
      color: inherit;
      text-decoration: none;
      display: inline-block;
      width: 100%;
    }

    td.col-wtn a:hover, td.col-utr a:hover, td.col-national a:hover {
      text-decoration: underline;
    }

    /* Statistics section */
    .stats-section {
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .stats-section h2 {
      color: #2c3e50;
      margin-top: 0;
      border-bottom: 2px solid #4472C4;
      padding-bottom: 10px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-top: 15px;
    }

    .stat-box {
      padding: 15px;
      background-color: #f8f9fa;
      border-left: 4px solid #4472C4;
      border-radius: 4px;
    }

    .stat-label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      margin-bottom: 5px;
    }

    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #2c3e50;
    }

    .utr-histogram {
      max-width: 1000px;
      margin: 20px auto;
      padding: 16px 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
    }

    .utr-histogram h2,
    .utr-histogram h3 {
      color: #2c3e50;
      margin-top: 0;
      border-bottom: 2px solid #4472C4;
      padding-bottom: 8px;
    }

    .utr-subtitle {
      font-weight: normal;
      font-size: 12px;
      color: #5a6b7d;
    }

    .utr-histogram-chart {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .utr-bin {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 11px;
      color: #2c3e50;
    }

    .utr-bin-label {
      width: 90px;
      text-align: right;
      color: #5a6b7d;
    }

    .utr-bin-bar-wrap {
      flex: 1;
      height: 12px;
      background-color: #eef2f8;
      border-radius: 999px;
      overflow: hidden;
    }

    .utr-bin-bar {
      height: 100%;
      background-color: #4472C4;
      border-radius: 999px;
    }

    .utr-bin.is-highlight .utr-bin-bar {
      background-color: #f5c542;
    }

    .utr-bin-count {
      width: 28px;
      text-align: right;
      font-weight: 600;
      color: #2c3e50;
    }

    .utr-histogram-caption {
      font-size: 11px;
      color: #666;
      margin-top: 12px;
      padding-bottom: 4px;
      text-align: center;
    }

    /* Tournament Details Page */
    .tournament-details-page {
      max-width: 1000px;
      margin: 30px auto;
      padding: 30px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      page-break-before: always;
    }

    .tournament-details-page h2 {
      color: #2c3e50;
      border-bottom: 3px solid #4472C4;
      padding-bottom: 10px;
      margin-top: 0;
    }

    .tournament-details-page h3 {
      color: #4472C4;
      margin-top: 25px;
      margin-bottom: 10px;
    }

    .detail-row {
      display: grid;
      grid-template-columns: minmax(140px, 180px) minmax(0, 1fr);
      column-gap: 12px;
      align-items: start;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }

    .detail-label {
      font-weight: bold;
      color: #555;
      display: block;
    }

    .detail-value {
      color: #2c3e50;
      min-width: 0;
      overflow-wrap: anywhere;
    }

    .important-note {
      background-color: #fff9e6;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin-top: 20px;
      border-radius: 4px;
    }

    /* Share button */
    .share-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #4472C4;
      color: white;
      border: none;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 1000;
      display: none;
      align-items: center;
      justify-content: center;
    }

    .share-button:hover {
      background-color: #2c5aa0;
      transform: scale(1.05);
    }

    .share-button:active {
      transform: scale(0.95);
    }

    /* Sticky header */
    .sticky-header {
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 1px 6px rgba(0,0,0,0.12);
    }

    /* Click-to-call phone link */
    a[href^="tel"] {
      color: #4472C4;
      text-decoration: none;
      font-weight: 600;
    }

    a[href^="tel"]:hover {
      text-decoration: underline;
    }

    /* Dark Mode Support */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1a1a1a;
        color: #e0e0e0;
      }

      h1 {
        color: #ffffff;
      }

      .report-header-logo {
        filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.35));
      }

      .tournament-dates {
        color: #ffffff;
      }

      .tournament-info {
        color: #b0b0b0;
      }

      .link-legend {
        color: #b0b0b0;
      }

      table {
        background-color: #2a2a2a;
        color: #e0e0e0;
      }

      th {
        background-color: #3a5a8a;
      }

      tbody tr:nth-child(odd) {
        background-color: #2a2a2a;
      }

      tbody tr:nth-child(even) {
        background-color: #333333;
      }

      tbody tr:hover {
        background-color: #404040 !important;
      }

      tr.highlight-player {
        background-color: #2a2a2a !important;
      }

      tr.highlight-player:hover {
        background-color: #2a2a2a !important;
      }

      tr.highlight-player td {
        color: #ffd700;
      }

      tr.highlight-player td:nth-child(2) {
        background-color: #3b2f1a;
      }

      tr.highlight-player td:nth-child(3) {
        background-color: #3b2f1a;
      }

      tr.highlight-player td:nth-child(1) {
        border-left-color: #d4a700;
      }

      td {
        border-bottom: 1px solid #404040;
      }

      .stats-section, .tournament-details-page, .utr-histogram {
        background-color: #2a2a2a;
        color: #e0e0e0;
      }

      .stats-section h2, .tournament-details-page h2, .tournament-details-page h3, .utr-histogram h2, .utr-histogram h3 {
        color: #ffffff;
        border-bottom-color: #3a5a8a;
      }

      .stat-box {
        background-color: #333333;
        border-left-color: #3a5a8a;
      }

      .stat-value, .stat-label {
        color: #e0e0e0;
      }

      .utr-subtitle {
        color: #9aa9c0;
      }

      .utr-bin {
        color: #e0e0e0;
      }

      .utr-bin-label {
        color: #9aa9c0;
      }

      .utr-bin-bar-wrap {
        background-color: #2f3644;
      }

      .utr-bin-bar {
        background-color: #6b9bd1;
      }

      .utr-bin.is-highlight .utr-bin-bar {
        background-color: #f5c542;
      }

      .utr-bin-count {
        color: #e0e0e0;
      }

      .utr-histogram-caption {
        color: #b0b0b0;
      }

      .detail-row {
        border-bottom: 1px solid #404040;
      }

      .detail-label {
        color: #b0b0b0;
      }

      .detail-value {
        color: #e0e0e0;
      }

      .key-stat {
        color: #e0e0e0;
        background-color: transparent;
        border: none;
      }

      .key-stat .key-value {
        color: #cfe0ff;
      }

      td.col-wtn, td.col-utr, td.col-national {
        box-shadow: inset 0 0 0 9999px rgba(120, 160, 220, 0.08);
      }

      .selection-callout {
        color: #e0e0e0;
        background-color: #2f3644;
        border-left-color: #6b9bd1;
      }

      .important-note {
        background-color: #3a3a1a;
        border-left-color: #d4a700;
        color: #e0e0e0;
      }

      a {
        color: #6b9bd1;
      }

      a:hover {
        color: #8bb3e0;
      }

      .share-button {
        background-color: #3a5a8a;
      }

      .share-button:hover {
        background-color: #4a6a9a;
      }
    }

    /* Mobile/Tablet Responsive Styles */
    @media screen and (max-width: 768px) {
      body {
        margin: 10px;
      }

      .report-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin: 8px auto 10px;
      }

      .report-header-logo {
        width: 96px;
        height: 96px;
        position: static;
        transform: none;
      }

      h1 {
        font-size: 1.8em;
      }

      .tournament-info {
        font-size: 12px;
        margin-bottom: 15px;
      }

      .table-meta {
        flex-direction: column;
        align-items: flex-start;
      }

      .link-legend {
        align-self: stretch;
        text-align: left;
      }

      /* Table container for horizontal scrolling */
      table {
        display: block;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        font-size: 12px;
      }

      thead, tbody {
        display: table;
        width: 100%;
      }

      /* Larger tap targets for sortable headers */
      th.sortable {
        padding: 15px 8px;
        cursor: pointer;
        -webkit-tap-highlight-color: rgba(68, 114, 196, 0.3);
      }

      th, td {
        padding: 10px 6px;
      }

      /* Make row numbers and ratings more prominent */
      .col-rank {
        font-size: 13px;
        font-weight: bold;
      }

      .col-wtn, .col-utr {
        font-size: 13px;
      }

      /* Hide Location column on very small screens (under 480px) */
      @media screen and (max-width: 480px) {
        th:last-child,
        td:last-child {
          display: none;
        }
      }

      /* Stats section - stack on mobile */
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }

      .utr-histogram {
        padding: 15px;
        margin: 20px 0;
      }

      .utr-bin-label {
        width: 70px;
        font-size: 10px;
      }

      .utr-bin-count {
        width: 24px;
        font-size: 10px;
      }

      .stat-box {
        padding: 12px;
      }

      .stat-label {
        font-size: 10px;
      }

      .stat-value {
        font-size: 16px;
      }

      /* Tournament details - better mobile layout */
      .tournament-details-page {
        padding: 15px;
        margin: 15px 0;
      }

      .tournament-details-page h2 {
        font-size: 1.5em;
      }

      .tournament-details-page h3 {
        font-size: 1.2em;
        margin-top: 20px;
      }

	      .detail-row {
	        grid-template-columns: 1fr;
	        row-gap: 4px;
	        column-gap: 0;
	        padding: 8px 0;
	        font-size: 13px;
	      }

      .detail-label {
        display: block;
        width: 100%;
        margin-bottom: 3px;
        font-size: 11px;
      }

      .detail-value {
        display: block;
        padding-left: 0;
      }

      /* Touch-friendly links */
      .detail-value a {
        display: inline-block;
        padding: 8px 0;
        line-height: 1.4;
        -webkit-tap-highlight-color: rgba(68, 114, 196, 0.2);
      }

      .important-note {
        padding: 12px;
        font-size: 13px;
      }

      /* Show share button on mobile */
      .share-button {
        display: flex;
      }
    }

    /* Print styles */
    @media print {
      /* Page setup */
      @page {
        size: letter;
        margin: 0.5in;
      }

      body {
        background-color: white;
        margin: 0;
        padding: 0;
      }

      /* Hide share button in print */
      .share-button {
        display: none !important;
      }

      /* Remove shadows and unnecessary decorations */
      table, .stats-section, .tournament-details-page, .utr-histogram {
        box-shadow: none;
        border: 1px solid #ddd;
      }

      /* Table optimizations */
      table {
        font-size: 10pt;
        page-break-inside: auto;
      }

      thead {
        display: table-header-group;
      }

      tr {
        page-break-inside: avoid;
        page-break-after: auto;
      }

      tbody tr:hover {
        background-color: inherit !important;
      }

      /* Keep alternating row colors for readability */
      tbody tr:nth-child(odd) {
        background-color: white !important;
      }

      tbody tr:nth-child(even) {
        background-color: #f0f0f0 !important;
      }

      /* Highlight Alexis in print */
      tr.highlight-player td {
        color: #000 !important;
        font-weight: bold !important;
        background-color: #ffffcc !important;
      }

      tr.highlight-player td.col-wtn {
        font-weight: normal !important;
      }

      /* Column widths for print */
      .col-rank {
        width: 30px;
      }

      th, td {
        padding: 6px 8px;
      }

      /* Stats section */
      .stats-section {
        page-break-before: auto;
        page-break-after: auto;
        page-break-inside: avoid;
        margin: 20px 0;
        padding: 15px;
      }

      .utr-histogram {
        page-break-inside: avoid;
        margin: 20px 0;
        padding: 15px;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
      }

      .stat-box {
        background-color: #f8f9fa !important;
        border: 1px solid #ddd;
      }

      /* Tournament details page */
      .tournament-details-page {
        page-break-before: always;
        margin: 0;
        padding: 20px;
      }

      .tournament-info {
        font-size: 11pt;
        margin-bottom: 20px;
      }

      h1 {
        font-size: 18pt;
        margin-bottom: 5px;
      }

      h2 {
        font-size: 16pt;
        margin-top: 15px;
      }

      h3 {
        font-size: 13pt;
        margin-top: 15px;
        margin-bottom: 8px;
      }

      /* Make links visible in print */
      a {
        color: #000;
        text-decoration: underline;
      }

      /* Important note styling */
      .important-note {
        background-color: #f9f9f9 !important;
        border: 2px solid #666;
        padding: 12px;
        margin-top: 15px;
      }

      .detail-row {
        padding: 6px 0;
        font-size: 11pt;
      }
    }

    /* ========================================
       MOBILE DARK THEME STYLES
       ======================================== */
    
    /* CSS Variables for Mobile */
    /* Mobile Theme Variables - Light Mode (Default) */
    :root {
      --mobile-bg: #f5f5f7;
      --mobile-surface: #ffffff;
      --mobile-surface-elevated: #f8f8f8;
      --mobile-border: #d1d1d6;
      --mobile-text-primary: #000000;
      --mobile-text-secondary: #6e6e73;
      --mobile-text-muted: #8e8e93;
      --mobile-accent: #ff9f0a;
      --mobile-accent-soft: rgba(255, 159, 10, 0.12);
      --mobile-green: #34c759;
      --mobile-green-soft: rgba(52, 199, 89, 0.12);
      --mobile-blue: #007aff;
      --mobile-blue-soft: rgba(0, 122, 255, 0.12);
      --mobile-purple: #af52de;
    }

    /* Mobile Theme Variables - Dark Mode */
    @media (prefers-color-scheme: dark) {
      :root {
        --mobile-bg: #0a0a0f;
        --mobile-surface: #16161e;
        --mobile-surface-elevated: #1e1e28;
        --mobile-border: #2a2a38;
        --mobile-text-primary: #f5f5f7;
        --mobile-text-secondary: #c7c7cc;
        --mobile-text-muted: #9a9aa0;
        --mobile-accent: #ff9f0a;
        --mobile-accent-soft: rgba(255, 159, 10, 0.15);
        --mobile-green: #30d158;
        --mobile-green-soft: rgba(48, 209, 88, 0.15);
        --mobile-blue: #0a84ff;
        --mobile-blue-soft: rgba(10, 132, 255, 0.15);
        --mobile-purple: #bf5af2;
      }
    }

    /* Default: Hide mobile, show desktop */
    .mobile-view {
      display: none;
    }

    .desktop-view {
      display: block;
    }

    .desktop-view-toggle {
      display: none;
    }

    /* Mobile Layout Styles */
    .mobile-view {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: var(--mobile-bg);
      color: var(--mobile-text-primary);
      line-height: 1.5;
      max-width: 440px;
      margin: 0 auto;
      min-height: 100vh;
    }

    /* Mobile Header */
    .mobile-header {
      padding: 16px 20px;
      background: var(--mobile-surface);
      border-bottom: 1px solid var(--mobile-border);
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-height: 80px;
    }

    .mobile-header-top {
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
    }

    .mobile-header-logo-link {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 14px;
      padding: 2px;
      text-decoration: none;
    }

    .mobile-header-logo-link:focus-visible {
      outline: 2px solid var(--mobile-accent);
      outline-offset: 4px;
    }

    .mobile-header-logo {
      width: 56px;
      height: 56px;
      object-fit: contain;
      flex-shrink: 0;
      display: block;
    }

    .mobile-header-content {
      flex: 1;
      padding-left: 68px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .mobile-header-title {
      font-size: 17px;
      font-weight: 700;
      letter-spacing: 0.3px;
      margin: 0 0 4px 0;
      color: var(--mobile-accent);
      text-transform: uppercase;
      line-height: 1.2;
      text-align: center;
    }

    .mobile-header-meta {
      font-size: 13px;
      color: var(--mobile-text-secondary);
      line-height: 1.3;
      text-align: center;
    }

    .mobile-header-meta a {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 2px;
    }

    .mobile-deadline-badge {
      margin-top: 6px;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      padding: 6px 10px;
      border-radius: 12px;
      border: 1px solid var(--mobile-border);
      background: var(--mobile-surface);
      font-size: 11px;
      line-height: 1.2;
      color: var(--mobile-text-secondary);
    }

    .mobile-deadline-countdown {
      font-weight: 700;
      color: var(--mobile-accent);
      font-size: 12px;
    }

    .mobile-deadline-date {
      font-size: 11px;
      color: var(--mobile-text-secondary);
    }

    /* Hero Stats Container */
    .mobile-hero-stats {
      padding: 16px 20px;
      margin: 16px 20px;
      background: var(--mobile-surface);
      border-radius: 14px;
      border: 1px solid var(--mobile-border);
    }

    /* Tournament Name Link (inside hero stats card) */
    .mobile-tournament-link {
      display: block;
      text-align: center;
      padding: 0 0 12px 0;
      margin-bottom: 12px;
      font-size: 13px;
      line-height: 1.5;
      color: var(--mobile-text-secondary);
      text-decoration: none;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-tournament-link:active {
      opacity: 0.6;
    }

    /* Stats Grid */
    .mobile-stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    .mobile-stat-card {
      background: var(--mobile-surface-elevated);
      border-radius: 14px;
      padding: 14px 12px;
      text-align: center;
      border: 1px solid var(--mobile-border);
    }

    .mobile-stat-card.highlight {
      background: var(--mobile-accent-soft);
      border-color: rgba(255, 159, 10, 0.3);
    }

    .mobile-stat-value {
      font-size: 24px;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    /* "Closes" can be text (e.g., 'Registration closed') so allow wrapping. */
    #mobile-seed {
      font-size: 14px;
      line-height: 1.15;
      white-space: normal;
      word-break: break-word;
    }

    .mobile-stat-card.highlight .mobile-stat-value {
      color: var(--mobile-accent);
    }

    .mobile-stat-label {
      font-size: 11px;
      color: var(--mobile-text-secondary);
      margin-top: 2px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    /* Alexis Spotlight Card */
    .mobile-alexis-card {
      margin: 16px 20px;
      background: linear-gradient(135deg, rgba(255, 159, 10, 0.12) 0%, rgba(191, 90, 242, 0.08) 100%);
      border: 1px solid rgba(255, 159, 10, 0.25);
      border-radius: 16px;
      padding: 16px;
    }

    .mobile-alexis-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
    }

    .mobile-alexis-avatar {
      width: 44px;
      height: 44px;
      background: var(--mobile-accent);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      color: #000;
    }

    .mobile-alexis-name {
      flex: 1;
    }

    .mobile-alexis-name h3 {
      font-size: 17px;
      font-weight: 600;
      margin: 0;
    }

    .mobile-alexis-name span {
      font-size: 13px;
      color: var(--mobile-text-secondary);
    }

    .mobile-alexis-seed {
      background: var(--mobile-accent);
      color: #000;
      font-size: 13px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 8px;
    }

    .mobile-alexis-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }

    .mobile-alexis-stat {
      text-align: center;
      padding: 10px 4px;
      background: rgba(0, 0, 0, 0.25);
      border-radius: 10px;
    }

    .mobile-alexis-stat-value {
      font-size: 16px;
      font-weight: 700;
    }

    .mobile-alexis-stat-label {
      font-size: 10px;
      color: var(--mobile-text-secondary);
      margin-top: 2px;
      text-transform: uppercase;
    }

    /* Position Gauge */
    .mobile-position-gauge {
      margin: 16px 20px;
      background: var(--mobile-surface);
      border-radius: 14px;
      padding: 16px;
      border: 1px solid var(--mobile-border);
    }

    .mobile-gauge-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .mobile-gauge-title {
      font-size: 13px;
      color: var(--mobile-text-secondary);
    }

    .mobile-gauge-value {
      font-size: 15px;
      font-weight: 600;
      color: var(--mobile-green);
    }

    .mobile-gauge-bar {
      height: 8px;
      background: var(--mobile-surface-elevated);
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .mobile-gauge-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--mobile-green) 0%, var(--mobile-accent) 100%);
      border-radius: 4px;
      position: relative;
      transition: width 1s ease-out;
    }

    .mobile-gauge-marker {
      position: absolute;
      right: -1px;
      top: -4px;
      width: 3px;
      height: 16px;
      background: var(--mobile-text-primary);
      border-radius: 2px;
    }

    .mobile-gauge-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      font-size: 11px;
      color: var(--mobile-text-muted);
    }

    .mobile-gauge-note {
      margin-top: 12px;
      padding: 10px 12px;
      background: var(--mobile-green-soft);
      border-radius: 8px;
      font-size: 12px;
      color: var(--mobile-green);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Section Headers */
    .mobile-section-header {
      padding: 20px 20px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .mobile-section-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .mobile-group-header {
      margin: 14px 0 8px;
      padding: 0 2px;
      font-size: 12px;
      font-weight: 700;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    .mobile-partner-jump {
      appearance: none;
      border: none;
      background: transparent;
      padding: 0;
      margin: 0;
      color: var(--mobile-accent);
      font: inherit;
      font-weight: 600;
      text-decoration: underline;
      text-underline-offset: 2px;
      cursor: pointer;
    }

    /* Sort Controls */
    .mobile-sort-controls {
      padding: 0 20px 12px;
      display: flex;
      gap: 8px;
    }

    .mobile-sort-btn {
      flex: 1;
      padding: 8px 12px;
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 10px;
      color: var(--mobile-text-secondary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-sort-btn.active {
      background: var(--mobile-accent-soft);
      border-color: rgba(255, 159, 10, 0.3);
      color: var(--mobile-accent);
      font-weight: 600;
    }

    /* Player Cards */
    .mobile-player-list {
      padding: 0 20px;
    }

    .mobile-player-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .mobile-player-card.top-seed {
      border-color: rgba(48, 209, 88, 0.3);
      background: linear-gradient(135deg, var(--mobile-surface) 0%, var(--mobile-green-soft) 100%);
    }

    .mobile-player-card.target-player {
      border: 1px solid rgba(255, 159, 10, 0.4);
      background: linear-gradient(135deg, rgba(255, 159, 10, 0.12) 0%, rgba(191, 90, 242, 0.08) 100%);
    }

    .mobile-player-rank {
      width: 28px;
      height: 28px;
      background: var(--mobile-surface-elevated);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      color: var(--mobile-text-secondary);
      flex-shrink: 0;
    }

    .mobile-player-card.top-seed .mobile-player-rank {
      background: var(--mobile-green);
      color: #000;
    }

    .mobile-player-card.target-player .mobile-player-rank {
      background: var(--mobile-accent);
      color: #000;
    }

    .mobile-player-info {
      flex: 1;
      min-width: 0;
    }

    .mobile-player-name {
      font-size: 15px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .mobile-player-location {
      font-size: 12px;
      color: var(--mobile-text-muted);
    }

    .mobile-player-ratings {
      display: flex;
      gap: 8px;
      flex-shrink: 0;
    }

    .mobile-rating-badge {
      padding: 6px 10px;
      border-radius: 8px;
      text-align: center;
      min-width: 52px;
      text-decoration: none;
      display: inline-block;
      transition: opacity 0.2s;
    }

    a.mobile-rating-badge:active {
      opacity: 0.6;
    }

    .mobile-rating-badge.utr {
      background: var(--mobile-blue-soft);
    }

    .mobile-rating-badge.nat {
      background: var(--mobile-surface-elevated);
    }

    .mobile-rating-value {
      font-size: 14px;
      font-weight: 700;
    }

    .mobile-rating-badge.utr .mobile-rating-value {
      color: var(--mobile-blue);
    }

    .mobile-rating-label {
      font-size: 9px;
      color: var(--mobile-text-muted);
      text-transform: uppercase;
      margin-top: 1px;
    }

    /* Player Card Expand Icon */
    .mobile-player-expand-icon {
      font-size: 10px;
      color: var(--mobile-text-muted);
      margin-left: 4px;
      transition: transform 0.2s;
      flex-shrink: 0;
    }

    .mobile-player-card.expanded .mobile-player-expand-icon {
      transform: rotate(180deg);
    }

    /* Player Details (Expandable) */
    .mobile-player-details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
      margin: 0 20px;
      margin-top: -8px;
    }

    .mobile-player-details.expanded {
      max-height: 200px;
    }

    .mobile-player-details-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      padding: 12px;
      background: var(--mobile-surface-elevated);
      border: 1px solid var(--mobile-border);
      border-top: none;
      border-radius: 0 0 12px 12px;
    }

    .mobile-detail-item {
      text-align: center;
      padding: 8px 4px;
      background: var(--mobile-surface);
      border-radius: 8px;
    }

    .mobile-detail-label {
      font-size: 9px;
      color: var(--mobile-text-secondary);
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .mobile-detail-value {
      font-size: 14px;
      font-weight: 700;
      color: var(--mobile-text-primary);
    }

    /* Cutoff Divider */
    .mobile-cutoff-divider {
      margin: 8px 20px;
      padding: 8px 12px;
      background: var(--mobile-surface);
      border: 1px dashed var(--mobile-border);
      border-radius: 8px;
      font-size: 11px;
      color: var(--mobile-text-muted);
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Show More Button */
    .mobile-show-more {
      margin: 8px 20px 20px;
      padding: 14px;
      width: calc(100% - 40px);
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 12px;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      color: var(--mobile-blue);
      cursor: pointer;
      transition: all 0.2s;
    }

    .mobile-show-more:hover {
      background: var(--mobile-surface-elevated);
    }

    /* Histogram */
    .mobile-chart-section {
      padding: 0 20px;
      margin-bottom: 16px;
    }

    .mobile-chart-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 14px;
      padding: 16px;
    }

    .mobile-histogram {
      display: flex;
      align-items: flex-end;
      gap: 4px;
      height: 80px;
      margin-bottom: 8px;
    }

    .mobile-histogram-bar {
      flex: 1;
      background: var(--mobile-blue-soft);
      border-radius: 4px 4px 0 0;
      position: relative;
      min-height: 4px;
      transition: height 0.6s ease-out;
    }

    .mobile-histogram-bar.alexis-range {
      background: var(--mobile-accent);
    }

    .mobile-histogram-labels {
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: var(--mobile-text-muted);
    }

    .mobile-chart-legend {
      display: flex;
      gap: 16px;
      margin-top: 12px;
      font-size: 11px;
      color: var(--mobile-text-secondary);
    }

    .mobile-legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .mobile-legend-dot {
      width: 8px;
      height: 8px;
      border-radius: 2px;
    }

    .mobile-legend-dot.blue {
      background: var(--mobile-blue);
    }

    .mobile-legend-dot.orange {
      background: var(--mobile-accent);
    }

    /* Tournament Info Cards */
    .mobile-info-section {
      padding: 0 20px 20px;
    }

    .mobile-info-card {
      background: var(--mobile-surface);
      border: 1px solid var(--mobile-border);
      border-radius: 14px;
      overflow: hidden;
      margin-bottom: 12px;
    }

    .mobile-info-card-header {
      padding: 14px 16px;
      background: var(--mobile-surface-elevated);
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-info-row {
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border-bottom: 1px solid var(--mobile-border);
    }

    .mobile-info-row.is-stacked {
      flex-direction: column;
      gap: 6px;
    }

    .mobile-info-row:last-child {
      border-bottom: none;
    }

    .mobile-info-label {
      font-size: 13px;
      color: var(--mobile-text-secondary);
      flex-shrink: 0;
    }

    .mobile-info-value {
      font-size: 13px;
      text-align: right;
      color: var(--mobile-text-primary);
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .mobile-info-row.is-stacked .mobile-info-value {
      width: 100%;
      text-align: left;
    }

    .mobile-info-value a {
      color: var(--mobile-blue);
      text-decoration: none;
    }

    /* View Toggle */
    .mobile-view-toggle {
      padding: 20px;
      text-align: center;
    }

    .mobile-view-toggle a {
      color: var(--mobile-text-secondary);
      font-size: 14px;
      text-decoration: none;
    }

    /* Media Query: Show Mobile on Small Screens */
    @media (max-width: 600px) {
      body {
        margin: 0;
        padding: 0;
        background-color: var(--mobile-bg);
        border-top: none;
      }

      .mobile-view {
        display: block;
      }

      .desktop-view {
        display: none;
      }

      .desktop-view-toggle {
        display: block;
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
      }

      .desktop-view-toggle a {
        display: inline-block;
        padding: 12px 20px;
        background: var(--mobile-surface);
        border: 1px solid var(--mobile-border);
        border-radius: 12px;
        color: var(--mobile-text-secondary);
        font-size: 14px;
        text-decoration: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }
    }

    /* Force View Classes (for manual toggle) */
    body.force-mobile {
      margin: 0;
      padding: 0;
      background-color: var(--mobile-bg);
      border-top: none;
    }

    body.force-mobile .mobile-view {
      display: block !important;
    }

    body.force-mobile .desktop-view {
      display: none !important;
    }

    body.force-desktop .mobile-view {
      display: none !important;
    }

    body.force-desktop .desktop-view {
      display: block !important;
    }
  </style>
  <style id="report-updated-badge-style">
    .report-updated-badge {
      position: static;
      max-width: 1000px;
      margin: 0 auto 6px;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      user-select: none;
      pointer-events: none;
      text-align: right;
    }

    .report-updated-badge__pill {
      display: inline-flex;
      align-items: center;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, 0.10);
      background: rgba(255, 255, 255, 0.92);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      font-size: 11px;
      line-height: 1.2;
      color: #5f6c7b;
    }

    @media (max-width: 600px) {
      .report-updated-badge {
        max-width: none;
        margin: 10px 16px 6px;
      }
    }

    @media (prefers-color-scheme: dark) {
      .report-updated-badge__pill {
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(28, 28, 30, 0.72);
        color: rgba(255, 255, 255, 0.72);
        box-shadow: 0 2px 14px rgba(0, 0, 0, 0.35);
      }
    }

    @media print {
      .report-updated-badge {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <div id="report-updated-badge" class="report-updated-badge" data-updated-iso="2026-02-08T12:15:50-08:00" title="2026-02-08T12:15:50-08:00">
    <span class="report-updated-badge__pill">Updated Feb 8, 2026 12:15 PM PST</span>
  </div>
  <div class="desktop-view">
  <div class="report-header">
    <a class="report-header-logo-link" href="index.html" aria-label="Back to tournament dashboard">
      <img class="report-header-logo" src="assets/tennis-report/favicon-256.png" alt="Tennis report logo">
    </a>
    <div class="report-header-text">
      <h1>Open Level 5 Championship — Fair Oaks (G12/G14 Singles)</h1>
      <div class="tournament-dates-row">
        <div class="tournament-dates">
          February 14 - 16, 2026
        </div>
        <div class="deadline-badge" id="registration-deadline-badge">
          <div class="deadline-countdown" id="registration-countdown">Closes in --</div>
          <div class="deadline-date" id="registration-deadline-date">--</div>
        </div>
      </div>
            <div class="tournament-info">
        <a href="https://playtennis.usta.com/competitions/rollingwoodymca/Tournaments/overview/832420EF-F6CC-48A4-AC06-1C54E9C8533D" target="_blank" rel="noopener noreferrer" title="Open tournament page">Open Level 5 Championship — Fair Oaks (G12/G14 Singles)</a><br>
        Rollingwood YMCA, Fair Oaks, CA • 26 Players
      </div>
    </div>
  </div>
    <div class="table-meta">
    <div class="key-stats">
      <div class="key-stat"><span class="key-label">Draw</span><span class="key-value">32</span></div>
      <div class="key-stat"><span class="key-label">Closes</span><span class="key-value">Registration closed</span></div>
      <div class="key-stat"><span class="key-label">Registered</span><span class="key-value">26</span></div>
    </div>
    <div class="link-legend">Click on WTN or Nat Rank for USTA profile • on UTR for UTR profile</div>
  </div>

  <h3 class="table-section-title">Girls&#x27; 12 &amp; under Singles</h3>

  <table id="players-table-g12" class="primary-table players-table">
    <thead class="sticky-header">
      <tr>
        <th class="col-rank">#</th>
        <th class="sortable">First Name</th>
        <th class="sortable">Last Name</th>
        <th class="col-wtn sortable">WTN</th>
        <th class="col-utr sortable">UTR</th>
        <th class="col-national sortable">Nat Rank</th>
        <th class="sortable">Location</th>
        <th>Partner</th>
        <th style="display: none;">Section Rank</th>
      </tr>
    </thead>
    <tbody>
      <tr data-player-key="HOSKINS|EMMA" data-section-rank="34"><td class="col-rank">1</td><td>Emma</td><td>Hoskins</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019094846" target="_blank" rel="noopener noreferrer">33.41</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4138333" target="_blank" rel="noopener noreferrer">4.52</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019094846" target="_blank" rel="noopener noreferrer">780</a></td><td>El Dorado Hills CA</td><td><a href="#" class="partner-jump" data-partner-key="BURGER|ADISON">Burger, Adison</a></td><td style="display: none;">34</td></tr>
      <tr data-player-key="YI|ISABELLA" data-section-rank="24"><td class="col-rank">2</td><td>Isabella</td><td>Yi</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019298468" target="_blank" rel="noopener noreferrer">32.91</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4228861" target="_blank" rel="noopener noreferrer">4.54</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019298468" target="_blank" rel="noopener noreferrer">427</a></td><td>Folsom CA</td><td>N/A</td><td style="display: none;">24</td></tr>
      <tr data-player-key="BURGER|ADISON" data-section-rank="22"><td class="col-rank">3</td><td>Adison</td><td>Burger</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2017287559" target="_blank" rel="noopener noreferrer">35.04</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2674832" target="_blank" rel="noopener noreferrer">3.86</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2017287559" target="_blank" rel="noopener noreferrer">572</a></td><td>Davis CA</td><td><a href="#" class="partner-jump" data-partner-key="HOSKINS|EMMA">Hoskins, Emma</a></td><td style="display: none;">22</td></tr>
      <tr data-player-key="WATANABE|SARAH" data-section-rank="171"><td class="col-rank">4</td><td>Sarah</td><td>Watanabe</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019209088" target="_blank" rel="noopener noreferrer">36.23</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4603873" target="_blank" rel="noopener noreferrer">1.98</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019209088" target="_blank" rel="noopener noreferrer">2970</a></td><td>Folsom CA</td><td>N/A</td><td style="display: none;">171</td></tr>
      <tr data-player-key="DE VALENCIA|SIMONE" data-section-rank="180"><td class="col-rank">5</td><td>Simone</td><td>De Valencia</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2020079645" target="_blank" rel="noopener noreferrer">34.38</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4152562" target="_blank" rel="noopener noreferrer">2.91</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2020079645" target="_blank" rel="noopener noreferrer">3122</a></td><td>Sacramento CA</td><td>N/A</td><td style="display: none;">180</td></tr>
      <tr data-player-key="SMITH|LEOLA" data-section-rank="865"><td class="col-rank">6</td><td>Leola</td><td>Smith</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661704" target="_blank" rel="noopener noreferrer">38.42</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3947291" target="_blank" rel="noopener noreferrer">1.05</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661704" target="_blank" rel="noopener noreferrer">4841</a></td><td>Folsom CA</td><td>N/A</td><td style="display: none;">865</td></tr>
      <tr data-player-key="KATARIA|MISHA" data-section-rank="57"><td class="col-rank">7</td><td>Misha</td><td>Kataria</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019420835" target="_blank" rel="noopener noreferrer">33.30</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4426031" target="_blank" rel="noopener noreferrer">4.33</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019420835" target="_blank" rel="noopener noreferrer">955</a></td><td>Fremont CA</td><td>N/A</td><td style="display: none;">57</td></tr>
      <tr class="highlight-player" data-player-key="MALAKHOVA|ALEXIS" data-section-rank="34"><td class="col-rank">8</td><td>Alexis</td><td>Malakhova</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018710796" target="_blank" rel="noopener noreferrer">33.81</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3610257" target="_blank" rel="noopener noreferrer">4.07</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018710796" target="_blank" rel="noopener noreferrer">589</a></td><td>Mountain View CA</td><td>N/A</td><td style="display: none;">34</td></tr>
      <tr data-h2h="1" data-h2h-anchor="h2h-9e074e2db92730b1f7ad" data-h2h-matches="1" data-player-key="CHOI|ELLINOR" data-section-rank="60"><td class="col-rank">9</td><td><a class="h2h-jump" href="#h2h-9e074e2db92730b1f7ad">Ellinor</a></td><td><a class="h2h-jump" href="#h2h-9e074e2db92730b1f7ad">Choi</a></td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019003273" target="_blank" rel="noopener noreferrer">33.86</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5414803" target="_blank" rel="noopener noreferrer">4.50</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019003273" target="_blank" rel="noopener noreferrer">1439</a></td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="TONG|YSABEL">Tong, Ysabel</a></td><td style="display: none;">60</td></tr>
    </tbody>
  </table>

  <div class="utr-histogram">
    <h2>UTR Distribution <span class="utr-subtitle">(0.5-point bins)</span> <span class="utr-subtitle">— Girls&#x27; 12 &amp; under Singles</span></h2>
    <div class="utr-histogram-chart" data-utr-table="#players-table-g12"></div>
    <div class="utr-histogram-caption">Based on UTR values from the player list.</div>
  </div>

  <div class="stats-section">
    <h2>Event Statistics — Girls&#x27; 12 &amp; under Singles</h2>
    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-label">Total Players</div>
        <div class="stat-value">9</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">WTN Range</div>
        <div class="stat-value">32.91 - 38.42</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg WTN</div>
        <div class="stat-value">34.60</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg UTR (known)</div>
        <div class="stat-value">3.53</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Draw Size</div>
        <div class="stat-value">32</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registered</div>
        <div class="stat-value">9</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registration Closes</div>
        <div class="stat-value">Registration closed</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Best Nat Rank</div>
        <div class="stat-value">427</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Top UTR</div>
        <div class="stat-value">4.54</div>
      </div>
    </div>
  </div>

  <h3 class="table-section-title" style="margin-top: 32px;">Girls&#x27; 14 &amp; under Singles</h3>

  <table id="players-table-g14" class="players-table">
    <thead class="sticky-header">
      <tr>
        <th class="col-rank">#</th>
        <th class="sortable">First Name</th>
        <th class="sortable">Last Name</th>
        <th class="col-wtn sortable">WTN</th>
        <th class="col-utr sortable">UTR</th>
        <th class="col-national sortable">Nat Rank</th>
        <th class="sortable">Location</th>
        <th>Partner</th>
        <th style="display: none;">Section Rank</th>
      </tr>
    </thead>
    <tbody>
      <tr data-player-key="CHEN|ANGELA" data-section-rank="17"><td class="col-rank">1</td><td>Angela</td><td>Chen</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018617048" target="_blank" rel="noopener noreferrer">30.45</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3404514" target="_blank" rel="noopener noreferrer">6.14</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018617048" target="_blank" rel="noopener noreferrer">340</a></td><td>San Jose CA</td><td>N/A</td><td style="display: none;">17</td></tr>
      <tr data-player-key="YAN|LUJIA" data-section-rank="35"><td class="col-rank">2</td><td>Lujia</td><td>Yan</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018557493" target="_blank" rel="noopener noreferrer">31.20</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2718759" target="_blank" rel="noopener noreferrer">6.04</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018557493" target="_blank" rel="noopener noreferrer">664</a></td><td>Davis CA</td><td><a href="#" class="partner-jump" data-partner-key="ANGUS|CIENNA">Angus, Cienna</a></td><td style="display: none;">35</td></tr>
      <tr data-player-key="COULOMBE|ELOISE" data-section-rank="19"><td class="col-rank">3</td><td>Eloise</td><td>Coulombe</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018790528" target="_blank" rel="noopener noreferrer">30.67</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4807461" target="_blank" rel="noopener noreferrer">5.87</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018790528" target="_blank" rel="noopener noreferrer">381</a></td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="GUO|SERENA">Guo, Serena</a></td><td style="display: none;">19</td></tr>
      <tr data-player-key="SYME|OLIVIA" data-section-rank="22"><td class="col-rank">4</td><td>Olivia</td><td>Syme</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019085203" target="_blank" rel="noopener noreferrer">30.61</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3936957" target="_blank" rel="noopener noreferrer">5.90</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019085203" target="_blank" rel="noopener noreferrer">420</a></td><td>Sacramento CA</td><td>N/A</td><td style="display: none;">22</td></tr>
      <tr data-player-key="GUO|SERENA" data-section-rank="24"><td class="col-rank">5</td><td>Serena</td><td>Guo</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019277087" target="_blank" rel="noopener noreferrer">32.56</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3756943" target="_blank" rel="noopener noreferrer">5.45</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019277087" target="_blank" rel="noopener noreferrer">570</a></td><td>Mountain View CA</td><td><a href="#" class="partner-jump" data-partner-key="COULOMBE|ELOISE">Coulombe, Eloise</a></td><td style="display: none;">24</td></tr>
      <tr data-player-key="ANGUS|CIENNA" data-section-rank="54"><td class="col-rank">6</td><td>Cienna</td><td>Angus</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018649966" target="_blank" rel="noopener noreferrer">31.44</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2093810" target="_blank" rel="noopener noreferrer">5.60</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018649966" target="_blank" rel="noopener noreferrer">1147</a></td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="YAN|LUJIA">Yan, Lujia</a></td><td style="display: none;">54</td></tr>
      <tr data-player-key="TONG|YSABEL" data-section-rank="59"><td class="col-rank">7</td><td>Ysabel</td><td>Tong</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018668533" target="_blank" rel="noopener noreferrer">34.45</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2770522" target="_blank" rel="noopener noreferrer">4.26</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018668533" target="_blank" rel="noopener noreferrer">1426</a></td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="CHOI|ELLINOR">Choi, Ellinor</a></td><td style="display: none;">59</td></tr>
      <tr data-h2h="1" data-h2h-anchor="h2h-9e074e2db92730b1f7ad" data-h2h-matches="1" data-player-key="CHOI|ELLINOR" data-section-rank="60"><td class="col-rank">8</td><td><a class="h2h-jump" href="#h2h-9e074e2db92730b1f7ad">Ellinor</a></td><td><a class="h2h-jump" href="#h2h-9e074e2db92730b1f7ad">Choi</a></td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019003273" target="_blank" rel="noopener noreferrer">33.86</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5414803" target="_blank" rel="noopener noreferrer">4.50</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019003273" target="_blank" rel="noopener noreferrer">1439</a></td><td>San Francisco CA</td><td><a href="#" class="partner-jump" data-partner-key="TONG|YSABEL">Tong, Ysabel</a></td><td style="display: none;">60</td></tr>
      <tr data-player-key="DIVEKAR|RIYA" data-section-rank="64"><td class="col-rank">9</td><td>Riya</td><td>Divekar</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018612405" target="_blank" rel="noopener noreferrer">33.96</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5639487" target="_blank" rel="noopener noreferrer">4.80</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018612405" target="_blank" rel="noopener noreferrer">1472</a></td><td>Union City CA</td><td>N/A</td><td style="display: none;">64</td></tr>
      <tr data-player-key="DOUGHERTY|EVIE" data-section-rank="81"><td class="col-rank">10</td><td>Evie</td><td>Dougherty</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019278717" target="_blank" rel="noopener noreferrer">36.29</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/5709395" target="_blank" rel="noopener noreferrer">2.97</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019278717" target="_blank" rel="noopener noreferrer">1570</a></td><td>Woodland CA</td><td>N/A</td><td style="display: none;">81</td></tr>
      <tr data-h2h="1" data-h2h-anchor="h2h-1ab6762f7d608b629d84" data-h2h-matches="2" data-player-key="KUNKEL|CAMILLE" data-section-rank="84"><td class="col-rank">11</td><td><a class="h2h-jump" href="#h2h-1ab6762f7d608b629d84">Camille</a></td><td><a class="h2h-jump" href="#h2h-1ab6762f7d608b629d84">Kunkel</a></td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018867069" target="_blank" rel="noopener noreferrer">33.02</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3338600" target="_blank" rel="noopener noreferrer">5.09</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018867069" target="_blank" rel="noopener noreferrer">1595</a></td><td>Fremont CA</td><td>N/A</td><td style="display: none;">84</td></tr>
      <tr data-h2h="1" data-h2h-anchor="h2h-1afe3ed3c436d45a9251" data-h2h-matches="1" data-player-key="SAXENA|ASHNA" data-section-rank="128"><td class="col-rank">12</td><td><a class="h2h-jump" href="#h2h-1afe3ed3c436d45a9251">Ashna</a></td><td><a class="h2h-jump" href="#h2h-1afe3ed3c436d45a9251">Saxena</a></td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018597670" target="_blank" rel="noopener noreferrer">35.70</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2808978" target="_blank" rel="noopener noreferrer">3.83</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018597670" target="_blank" rel="noopener noreferrer">2479</a></td><td>Foster City CA</td><td>N/A</td><td style="display: none;">128</td></tr>
      <tr data-player-key="SMITH|GISELE" data-section-rank="1113"><td class="col-rank">13</td><td>Gisele</td><td>Smith</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661703" target="_blank" rel="noopener noreferrer">32.88</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3947292" target="_blank" rel="noopener noreferrer">2.39</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661703" target="_blank" rel="noopener noreferrer">6635</a></td><td>Folsom CA</td><td>N/A</td><td style="display: none;">1113</td></tr>
      <tr data-player-key="HAREL|LEAH" data-section-rank="353"><td class="col-rank">14</td><td>Leah</td><td>Harel</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019581512" target="_blank" rel="noopener noreferrer">36.65</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/4149923" target="_blank" rel="noopener noreferrer">2.89</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019581512" target="_blank" rel="noopener noreferrer">6700</a></td><td>Sacramento CA</td><td>N/A</td><td style="display: none;">353</td></tr>
      <tr data-player-key="OSEN|ALEXA" data-section-rank="43"><td class="col-rank">15</td><td>Alexa</td><td>Osen</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019108120" target="_blank" rel="noopener noreferrer">32.77</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/2836633" target="_blank" rel="noopener noreferrer">5.06</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019108120" target="_blank" rel="noopener noreferrer">733</a></td><td>El Dorado Hills CA</td><td>N/A</td><td style="display: none;">43</td></tr>
      <tr data-h2h="1" data-h2h-anchor="h2h-7ff3e6df8174744f2eb7" data-h2h-matches="1" data-player-key="INKABI|NELL" data-section-rank="131"><td class="col-rank">16</td><td><a class="h2h-jump" href="#h2h-7ff3e6df8174744f2eb7">Nell</a></td><td><a class="h2h-jump" href="#h2h-7ff3e6df8174744f2eb7">Inkabi</a></td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018822004" target="_blank" rel="noopener noreferrer">35.77</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3255224" target="_blank" rel="noopener noreferrer">3.59</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018822004" target="_blank" rel="noopener noreferrer">3541</a></td><td>Santa Rosa CA</td><td>N/A</td><td style="display: none;">131</td></tr>
      <tr data-player-key="MOURET-LAFAGE|GABRIELLA" data-section-rank="38"><td class="col-rank">17</td><td>Gabriella</td><td>Mouret-Lafage</td><td class="col-wtn"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018746611" target="_blank" rel="noopener noreferrer">33.68</a></td><td class="col-utr"><a href="https://app.utrsports.net/profiles/3664739" target="_blank" rel="noopener noreferrer">4.70</a></td><td class="col-national"><a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018746611" target="_blank" rel="noopener noreferrer">692</a></td><td>Mill Valley CA</td><td>N/A</td><td style="display: none;">38</td></tr>
    </tbody>
  </table>

  <div class="utr-histogram">
    <h2>UTR Distribution <span class="utr-subtitle">(0.5-point bins)</span> <span class="utr-subtitle">— Girls&#x27; 14 &amp; under Singles</span></h2>
    <div class="utr-histogram-chart" data-utr-table="#players-table-g14"></div>
    <div class="utr-histogram-caption">Based on UTR values from the player list.</div>
  </div>

  <div class="stats-section">
    <h2>Event Statistics — Girls&#x27; 14 &amp; under Singles</h2>
    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-label">Total Players</div>
        <div class="stat-value">17</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">WTN Range</div>
        <div class="stat-value">30.45 - 36.65</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg WTN</div>
        <div class="stat-value">33.29</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Avg UTR (known)</div>
        <div class="stat-value">4.65</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Draw Size</div>
        <div class="stat-value">32</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registered</div>
        <div class="stat-value">17</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Registration Closes</div>
        <div class="stat-value">Registration closed</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Best Nat Rank</div>
        <div class="stat-value">340</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Top UTR</div>
        <div class="stat-value">6.14</div>
      </div>
    </div>
  </div>

<div class="tournament-details-page">
    <h2>Tournament Information & Details</h2>

    <h3>Draw & Registration</h3>
    <div class="selection-callout">Details are based on the current USTA PlayTennis entry list.</div>
    <div class="detail-row">
      <span class="detail-label">Draw Size:</span>
      <span class="detail-value">32</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Registered:</span>
      <span class="detail-value">26</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Registration Closes:</span>
      <span class="detail-value">Registration closed</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Selection / Seeding:</span>
      <span class="detail-value">Players are selected and seeded by the most recently published National Standings List of the division.</span>
    </div>

    <h3>Format & Scoring</h3>
    <div class="detail-row">
      <span class="detail-label">Match Format:</span>
      <span class="detail-value">All matches regular scoring. Singles Main Draw- best of 3 sets with 10pt break. Singles Back Draw- best of 3 short sets with 7pt breaker for third. Doubles - Best of 3 short sets</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Tiebreaks:</span>
      <span class="detail-value">Set and match tiebreak procedures follow USTA NorCal junior tournament regulations.</span>
    </div>

    <h3>Venue Information</h3>
    <div class="detail-row">
      <span class="detail-label">Site:</span>
      <span class="detail-value"><a href="https://www.google.com/maps/search/?api=1&query=Rollingwood YMCA Fair Oaks CA" target="_blank" style="color: #4472C4; text-decoration: none;">Rollingwood YMCA, Fair Oaks, CA</a></span>
    </div>

    <h3>Tournament Location</h3>
    <div class="detail-row">
      <span class="detail-label">Tournament Location:</span>
      <span class="detail-value">Rollingwood YMCA, Fair Oaks, CA</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Tournament Dates:</span>
      <span class="detail-value">February 14 - 16, 2026</span>
    </div>

    <h3>Tournament Contact</h3>
    <div class="detail-row">
      <span class="detail-label">Tournament Director:</span>
      <span class="detail-value">Matt Brunner</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Email:</span>
      <span class="detail-value">brunner.matt@gmail.com</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Phone:</span>
      <span class="detail-value">916-995-7126</span>
    </div>

	  </div>

    <!-- Alexis vs roster match-history (desktop slot) -->
    <div id="alexis-h2h-slot-desktop"></div>

	  <div class="desktop-view-toggle">
	    <a href="#" id="desktop-toggle-mobile">View Mobile Version</a>
	  </div>
	  </div><!-- end desktop-view -->

  <!-- Mobile View Container -->
  <div class="mobile-view">
    <!-- Mobile Header -->
    <header class="mobile-header">
      <div class="mobile-header-top">
        <a class="mobile-header-logo-link" href="index.html" aria-label="Back to tournament dashboard">
          <img src="assets/tennis-report/favicon-256.png" alt="Logo" class="mobile-header-logo">
        </a>
        <div class="mobile-header-content">
          <h1 class="mobile-header-title" id="mobile-title"></h1>
          <div class="mobile-header-meta" id="mobile-meta"></div>
          <div class="mobile-deadline-badge" id="mobile-deadline-badge">
            <div class="mobile-deadline-countdown" id="mobile-registration-countdown">Closes in --</div>
            <div class="mobile-deadline-date" id="mobile-registration-date">--</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero Stats -->
    <div class="mobile-hero-stats">
      <!-- Tournament Name Link (inside card) -->
      <a href="https://playtennis.usta.com/competitions/rollingwoodymca/Tournaments/overview/832420EF-F6CC-48A4-AC06-1C54E9C8533D" target="_blank" rel="noopener noreferrer" class="mobile-tournament-link">
        Open Level 5 Championship — Fair Oaks (G12/G14 Singles)
      </a>

      <!-- Stats Grid -->
      <div class="mobile-stats-grid">
        <div class="mobile-stat-card">
          <div class="mobile-stat-value" id="mobile-draw-size"></div>
          <div class="mobile-stat-label">Draw Size</div>
        </div>
        <div class="mobile-stat-card highlight">
          <div class="mobile-stat-value" id="mobile-seed"></div>
          <div class="mobile-stat-label">Closes</div>
        </div>
        <div class="mobile-stat-card">
          <div class="mobile-stat-value" id="mobile-registered"></div>
          <div class="mobile-stat-label">Registered</div>
        </div>
      </div>
    </div>

    <!-- Alexis Spotlight Card -->
    <div class="mobile-alexis-card" id="mobile-alexis-card"></div>

    <!-- Position Gauge -->
    <div class="mobile-position-gauge" id="mobile-position-gauge"></div>

    <!-- UTR Distribution -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">UTR Distribution</span>
    </div>
    <div class="mobile-chart-section">
      <div class="mobile-chart-card" id="mobile-histogram"></div>
    </div>

    <!-- Player List -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">All Players (<span id="mobile-player-count"></span>)</span>
    </div>
    <div class="mobile-sort-controls">
      <button class="mobile-sort-btn" data-sort="utr">UTR</button>
      <button class="mobile-sort-btn active" data-sort="natRank">Nat Rank</button>
      <button class="mobile-sort-btn" data-sort="wtn">WTN</button>
    </div>
    <div class="mobile-player-list" id="mobile-player-list"></div>
    <button class="mobile-show-more" id="mobile-show-more">Show all players ↓</button>

    <!-- Tournament Details -->
    <div class="mobile-section-header">
      <span class="mobile-section-title">Tournament Details</span>
	    </div>
	    <div class="mobile-info-section" id="mobile-info-section"></div>

	    <!-- Alexis vs roster match-history (mobile slot) -->
	    <div id="alexis-h2h-slot-mobile"></div>

	    <!-- View Toggle -->
	    <div class="mobile-view-toggle">
	      <a href="#" id="mobile-toggle-desktop">View Desktop Version</a>
	    </div>
  </div><!-- end mobile-view -->
<!-- ALEXIS_ROSTER_H2H_START -->
<div id="alexis-roster-h2h-wrapper">
<style id="alexis-roster-h2h-style">
  .h2h-block { max-width: 1000px; margin: 28px auto; padding: 18px 16px; border: 1px solid rgba(0,0,0,0.08); border-radius: 14px; background: rgba(255,255,255,0.84); color: inherit; }
  .h2h-block h2 { margin: 0 0 10px 0; font-size: 20px; }
  .h2h-block .h2h-note { margin: 0 0 14px 0; opacity: 0.85; }
  .h2h-summary { margin: 0 0 14px 0; padding: 0; list-style: none; }
  .h2h-summary li { margin: 6px 0; }
  .h2h-jump { color: inherit; text-decoration: underline; text-decoration-style: dotted; text-underline-offset: 2px; }
  .h2h-player { margin-top: 18px; }
  .h2h-player h3 { margin: 0 0 8px 0; font-size: 16px; }
  .h2h-player .h2h-meta { opacity: 0.8; font-weight: 400; font-size: 13px; margin-left: 8px; }
  .h2h-mini { margin: 6px 0 0 0; padding: 10px 12px; border-radius: 12px; background: rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.06); }
  .h2h-mini-head { display: flex; flex-wrap: wrap; gap: 10px; align-items: baseline; margin-bottom: 8px; }
  .h2h-mini-head .h2h-record { font-weight: 800; }
  .h2h-mini-head .h2h-record span { font-weight: 700; opacity: 0.8; }
  .h2h-mini-head .h2h-updated { font-size: 12px; opacity: 0.75; }
  .h2h-mini-list { margin: 0; padding-left: 18px; }
  .h2h-mini-list li { margin: 6px 0; }
  .h2h-mini-line { display: inline; }
  .h2h-mini-date { font-weight: 700; }
  .h2h-mini-res { display: inline-block; min-width: 18px; text-align: center; font-weight: 800; }
  .h2h-mini-score { font-variant-numeric: tabular-nums; }
  .h2h-mini-event { opacity: 0.88; }
  .h2h-mini-loc { opacity: 0.75; }
  .h2h-mini a { color: inherit; text-decoration: underline; text-decoration-style: dotted; text-underline-offset: 2px; }

  details.h2h-more { margin-top: 10px; }
  details.h2h-more summary { cursor: pointer; font-weight: 700; opacity: 0.9; }

  .h2h-table-wrap { overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .h2h-table { width: 100%; min-width: 760px; margin: 0; max-width: none; border-collapse: collapse; font-size: 13px; box-shadow: none; background: transparent; }
  .h2h-table th, .h2h-table td { padding: 7px 8px; border-bottom: 1px solid rgba(0,0,0,0.08); vertical-align: top; }
  /* Override global table styles in the report template (zebra stripes + header fill). */
  .h2h-table th { text-align: left; opacity: 0.9; font-weight: 700; font-size: 12px; letter-spacing: 0.2px; white-space: nowrap; background: rgba(0,0,0,0.04) !important; }
  .h2h-table td { white-space: nowrap; }
  .h2h-table td:nth-child(2) { white-space: normal; min-width: 280px; }
  .h2h-table tbody tr:nth-child(odd) { background: rgba(0,0,0,0.018) !important; }
  .h2h-table tbody tr:nth-child(even) { background: transparent !important; }
  .h2h-table tbody tr:hover { background: rgba(68,114,196,0.10) !important; }
  .h2h-event-main { font-weight: 700; }
  .h2h-event-sub { font-size: 12px; opacity: 0.8; margin-top: 1px; }
  tr[data-h2h="1"] td:nth-child(3)::after { content: " *"; color: #C58A00; font-weight: 800; }

  @media (prefers-color-scheme: dark) {
    .h2h-block { background: rgba(42, 42, 42, 0.96); border-color: rgba(255,255,255,0.14); }
    .h2h-block h2, .h2h-block h3 { color: #ffffff; }
    .h2h-block .h2h-note { color: rgba(255,255,255,0.86); }
    .h2h-mini { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.12); }
    .h2h-table th, .h2h-table td { border-bottom-color: rgba(255,255,255,0.12); }
    .h2h-table th { background: rgba(255,255,255,0.08) !important; }
    .h2h-table tbody tr:nth-child(odd) { background: rgba(255,255,255,0.03) !important; }
    .h2h-table tbody tr:nth-child(even) { background: transparent !important; }
    .h2h-table tbody tr:hover { background: rgba(107,155,209,0.16) !important; }
    .h2h-event-sub { opacity: 0.78; }
  }

  @media (max-width: 640px) {
    .h2h-block { padding: 14px 12px; }
    .h2h-table { min-width: 680px; }
  }
</style>
<section class="h2h-block" id="alexis-roster-h2h">
  <h2>Alexis Malakhova vs This Roster</h2>
  <p class="h2h-note">Mini report: Alexis Malakhova match history vs players on this roster. Data comes from the internal DB (UTR/USTA). Generated Feb 8, 2026 1:29 PM PST.</p>
  <div class="selection-callout">Asterisk (*) in the roster table means Alexis Malakhova has prior match history with that player.</div>
  <ul class="h2h-summary"><li><a class="h2h-jump" href="#h2h-1ab6762f7d608b629d84">Camille Kunkel</a> <span class="h2h-meta">Fremont CA</span> — H2H 1-1 <span class="h2h-meta">(latest Jan 10th, 2026)</span></li><li><a class="h2h-jump" href="#h2h-9e074e2db92730b1f7ad">Ellinor Choi</a> <span class="h2h-meta">San Francisco CA</span> — H2H 1-0 <span class="h2h-meta">(latest May 17th, 2025)</span></li><li><a class="h2h-jump" href="#h2h-7ff3e6df8174744f2eb7">Nell Inkabi</a> <span class="h2h-meta">Santa Rosa CA</span> — H2H 1-0 <span class="h2h-meta">(latest May 3rd, 2025)</span></li><li><a class="h2h-jump" href="#h2h-1afe3ed3c436d45a9251">Ashna Saxena</a> <span class="h2h-meta">Foster City CA</span> — H2H 1-0 <span class="h2h-meta">(latest Apr 26th, 2025)</span></li></ul>
  <div class="h2h-player" id="h2h-1ab6762f7d608b629d84" data-h2h-player-id="player:1ab6762f7d608b629d84">
    <h3>Camille Kunkel <span class="h2h-meta">Fremont CA</span></h3>
    <div class="selection-callout">Click the player name in the roster table to jump here.</div>
    <div class="h2h-mini">
      <div class="h2h-mini-head">
        <div class="h2h-record"><span>Record:</span> H2H 1-1</div>
        <div class="h2h-updated">Latest Jan 10th, 2026</div>
      </div>
      <ol class="h2h-mini-list">
        <li><span class="h2h-mini-line"><span class="h2h-mini-date">Jan 10th, 2026</span> <span class="h2h-mini-res">W</span> <span class="h2h-mini-score">Score unavailable</span> <span class="h2h-mini-event">FDT Level 4 Junior 12s &amp; 14s Singles Excellence JAN 10 - 18</span> <span class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</span> <span class="h2h-mini-loc">(— • vs)</span></span></li><li><span class="h2h-mini-line"><span class="h2h-mini-date">Mar 8th, 2025</span> <span class="h2h-mini-res">L</span> <span class="h2h-mini-score">2-6 3-6</span> <span class="h2h-mini-event">Johnson Ranch Level 5 Junior 18s, 14s and 12s Super Series MAR 8 - 9</span> <span class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</span> <span class="h2h-mini-loc">(Johnson Ranch • vs)</span></span></li>
      </ol>
      <details class="h2h-more">
        <summary>Show all matches (2)</summary>
        <div class="h2h-table-wrap">
          <table class="h2h-table">
            <thead>
              <tr>
                <th>Date</th><th>Tournament</th><th>Location</th><th>Rel</th><th>Res</th><th>Score</th><th>Round</th><th>Src</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Jan 10th, 2026</td><td><div class="h2h-event-main">FDT Level 4 Junior 12s &amp; 14s Singles Excellence JAN 10 - 18</div><div class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</div></td><td>—</td><td>vs</td><td>W</td><td>Score unavailable</td><td>—</td><td>utr</td></tr><tr><td>Mar 8th, 2025</td><td><div class="h2h-event-main">Johnson Ranch Level 5 Junior 18s, 14s and 12s Super Series MAR 8 - 9</div><div class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</div></td><td>Johnson Ranch</td><td>vs</td><td>L</td><td>2-6 3-6</td><td>E-QF</td><td>utr</td></tr>
            </tbody>
          </table>
        </div>
      </details>
    </div>
  </div><div class="h2h-player" id="h2h-9e074e2db92730b1f7ad" data-h2h-player-id="player:9e074e2db92730b1f7ad">
    <h3>Ellinor Choi <span class="h2h-meta">San Francisco CA</span></h3>
    <div class="selection-callout">Click the player name in the roster table to jump here.</div>
    <div class="h2h-mini">
      <div class="h2h-mini-head">
        <div class="h2h-record"><span>Record:</span> H2H 1-0</div>
        <div class="h2h-updated">Latest May 17th, 2025</div>
      </div>
      <ol class="h2h-mini-list">
        <li><span class="h2h-mini-line"><span class="h2h-mini-date">May 17th, 2025</span> <span class="h2h-mini-res">W</span> <span class="h2h-mini-score">6-2 6-0</span> <span class="h2h-mini-event">Santa Cruz Level 5 Junior 14s &amp; 12s Championships @ La Madrona Athletic Club MAY 17 - 18</span> <span class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</span> <span class="h2h-mini-loc">(Santa Cruz • vs)</span></span></li>
      </ol>
      <details class="h2h-more">
        <summary>Show all matches (1)</summary>
        <div class="h2h-table-wrap">
          <table class="h2h-table">
            <thead>
              <tr>
                <th>Date</th><th>Tournament</th><th>Location</th><th>Rel</th><th>Res</th><th>Score</th><th>Round</th><th>Src</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>May 17th, 2025</td><td><div class="h2h-event-main">Santa Cruz Level 5 Junior 14s &amp; 12s Championships @ La Madrona Athletic Club MAY 17 - 18</div><div class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</div></td><td>Santa Cruz</td><td>vs</td><td>W</td><td>6-2 6-0</td><td>Round of 16</td><td>utr</td></tr>
            </tbody>
          </table>
        </div>
      </details>
    </div>
  </div><div class="h2h-player" id="h2h-7ff3e6df8174744f2eb7" data-h2h-player-id="player:7ff3e6df8174744f2eb7">
    <h3>Nell Inkabi <span class="h2h-meta">Santa Rosa CA</span></h3>
    <div class="selection-callout">Click the player name in the roster table to jump here.</div>
    <div class="h2h-mini">
      <div class="h2h-mini-head">
        <div class="h2h-record"><span>Record:</span> H2H 1-0</div>
        <div class="h2h-updated">Latest May 3rd, 2025</div>
      </div>
      <ol class="h2h-mini-list">
        <li><span class="h2h-mini-line"><span class="h2h-mini-date">May 3rd, 2025</span> <span class="h2h-mini-res">W</span> <span class="h2h-mini-score">6-2 6-0</span> <span class="h2h-mini-event">Rio Del Oro Level 5 Junior 14s and 12s Super Series MAY 3 - 4</span> <span class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</span> <span class="h2h-mini-loc">(Rio Del Oro • vs)</span></span></li>
      </ol>
      <details class="h2h-more">
        <summary>Show all matches (1)</summary>
        <div class="h2h-table-wrap">
          <table class="h2h-table">
            <thead>
              <tr>
                <th>Date</th><th>Tournament</th><th>Location</th><th>Rel</th><th>Res</th><th>Score</th><th>Round</th><th>Src</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>May 3rd, 2025</td><td><div class="h2h-event-main">Rio Del Oro Level 5 Junior 14s and 12s Super Series MAY 3 - 4</div><div class="h2h-event-sub">Girls&#x27; 12 &amp; under singles</div></td><td>Rio Del Oro</td><td>vs</td><td>W</td><td>6-2 6-0</td><td>—</td><td>utr</td></tr>
            </tbody>
          </table>
        </div>
      </details>
    </div>
  </div><div class="h2h-player" id="h2h-1afe3ed3c436d45a9251" data-h2h-player-id="player:1afe3ed3c436d45a9251">
    <h3>Ashna Saxena <span class="h2h-meta">Foster City CA</span></h3>
    <div class="selection-callout">Click the player name in the roster table to jump here.</div>
    <div class="h2h-mini">
      <div class="h2h-mini-head">
        <div class="h2h-record"><span>Record:</span> H2H 1-0</div>
        <div class="h2h-updated">Latest Apr 26th, 2025</div>
      </div>
      <ol class="h2h-mini-list">
        <li><span class="h2h-mini-line"><span class="h2h-mini-date">Apr 26th, 2025</span> <span class="h2h-mini-res">W</span> <span class="h2h-mini-score">7-5 6-2</span> <span class="h2h-mini-event">NPT Level 6 Junior Open APR 26 - 27</span> <span class="h2h-event-sub">Girls&#x27; 14 &amp; under singles</span> <span class="h2h-mini-loc">(— • vs)</span></span></li>
      </ol>
      <details class="h2h-more">
        <summary>Show all matches (1)</summary>
        <div class="h2h-table-wrap">
          <table class="h2h-table">
            <thead>
              <tr>
                <th>Date</th><th>Tournament</th><th>Location</th><th>Rel</th><th>Res</th><th>Score</th><th>Round</th><th>Src</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>Apr 26th, 2025</td><td><div class="h2h-event-main">NPT Level 6 Junior Open APR 26 - 27</div><div class="h2h-event-sub">Girls&#x27; 14 &amp; under singles</div></td><td>—</td><td>vs</td><td>W</td><td>7-5 6-2</td><td>Semifinals</td><td>utr</td></tr>
            </tbody>
          </table>
        </div>
      </details>
    </div>
  </div>
</section>
</div>
<!-- ALEXIS_ROSTER_H2H_END -->
<!-- Mobile View JavaScript -->
  <script>
    // ========================================
    // MOBILE VIEW IMPLEMENTATION
    // ========================================

    let currentSort = 'natRank';
	    let isExpanded = false;
	    let allPlayers = [];
	    let isMixedEvent = false;
	    let mixedGroups = null;
	    let multiGroups = null;
	    let playerByKey = {};
	    let targetPlayer = null;

    // Section ranks are sourced directly from the hidden table column.
    const SECTION_RANKS = {};

    // USTA UAID mapping from rankings_results_v1.csv
    // USTA profile links - will be populated from desktop version's playerProfileUrlByName
    const PLAYER_USTA_URLS = {};

    // ========================================
    // DATA PARSING FUNCTIONS
    // ========================================

    function detectMixedEvent() {
      const tables = document.querySelectorAll('.desktop-view table.players-table');
      if (tables.length < 2) return false;
      const headers = Array.from(document.querySelectorAll('.desktop-view table.players-table thead th')).map((th) =>
        (th.textContent || '').trim().toLowerCase()
      );
      // Mixed doubles reports include a partner column AND a Team/Combined NST column.
      // Singles reports may also include a Partner column (doubles partner mapping).
      return headers.includes('team nst') || headers.includes('combined nst');
    }

    function makePlayerKey(firstName, lastName) {
      const first = (firstName || '').trim().toUpperCase();
      const last = (lastName || '').trim().toUpperCase();
      return `${last}|${first}`;
    }

    function partnerKeyFromText(text) {
      const raw = (text || '').trim();
      if (!raw) return '';
      // Expected format: "Last, First"
      if (raw.includes(',')) {
        const parts = raw.split(',');
        const last = (parts[0] || '').trim();
        const first = (parts.slice(1).join(',') || '').trim();
        return makePlayerKey(first, last);
      }
      // Fallback: "First Last"
      const parts = raw.split(/\s+/).filter(Boolean);
      if (parts.length === 1) return makePlayerKey(parts[0], '');
      return makePlayerKey(parts[0], parts.slice(1).join(' '));
    }

    function parsePlayersFromTable(table, groupLabel) {
      const players = [];
      const headers = Array.from(table.querySelectorAll('thead th')).map((th) =>
        (th.textContent || '').trim().toLowerCase()
      );

      const col = (name, fallback) => {
        const idx = headers.findIndex((h) => h === name);
        return idx !== -1 ? idx : fallback;
      };

      // Column indices (fallbacks match the single-table report layout).
      const colRank = 0;
      const colFirst = col('first name', 1);
      const colLast = col('last name', 2);
      const colWtn = col('wtn', 3);
      const colUtr = col('utr', 4);
      const colNat = col('nat rank', 5);
      const colLocation = col('location', 6);

      const partnerColIdx = headers.findIndex((h) => h === 'partner');
      const hasPartner = partnerColIdx !== -1;
      const sectionColIdx = headers.findIndex((h) => h === 'section rank');
      const combinedColIdx = (() => {
        const teamIdx = headers.findIndex((h) => h === 'team nst');
        if (teamIdx !== -1) return teamIdx;
        return headers.findIndex((h) => h === 'combined nst');
      })();

      const requiredCols = [colRank, colFirst, colLast, colWtn, colUtr, colNat, colLocation].filter((idx) => idx !== -1);
      const minCells = requiredCols.length ? Math.max(...requiredCols) + 1 : 7;

      const rows = table.querySelectorAll('tbody tr');
      rows.forEach((row) => {
        const cells = row.querySelectorAll('td');
        if (cells.length < minCells) return;

        const rank = parseInt((cells[colRank].textContent || '').trim(), 10);
        const firstName = (cells[colFirst].textContent || '').trim();
        const lastName = (cells[colLast].textContent || '').trim();
        const fullName = `${firstName} ${lastName}`.trim();

        const wtnCell = cells[colWtn];
        const wtn = (wtnCell.textContent || '').trim();
        const ustaLink = wtnCell ? wtnCell.querySelector('a') : null;

        const utrCell = cells[colUtr];
        const utrLink = utrCell ? utrCell.querySelector('a') : null;
        const utrText = (utrLink ? utrLink.textContent : utrCell.textContent) || '';
        const utrVal = parseFloat(utrText.trim());
        const utr = Number.isFinite(utrVal) ? utrVal : NaN;
        const utrUrl = utrLink ? utrLink.href : null;

        const natCell = cells[colNat];
        const natLink = natCell ? natCell.querySelector('a') : null;
        const ustaUrl = (ustaLink && ustaLink.href) || (natLink && natLink.href) || null;
        const natVal = parseInt((natCell.textContent || '').trim(), 10);
        const natRank = Number.isFinite(natVal) ? natVal : NaN;

        const location = (cells[colLocation].textContent || '').trim();
        const isTarget = row.classList.contains('highlight-player');
        const teamNst =
          combinedColIdx !== -1 && cells[combinedColIdx] ? (cells[combinedColIdx].textContent || '').trim() : '';

        let partner = '';
        let partnerKey = '';
        if (hasPartner && cells[partnerColIdx]) {
          const partnerCell = cells[partnerColIdx];
          const partnerLink = partnerCell.querySelector('.partner-jump');
          partner = (partnerCell.textContent || '').trim();
          partnerKey = partnerLink ? (partnerLink.getAttribute('data-partner-key') || '').trim() : partnerKeyFromText(partner);
        }

        // Extract UAID from USTA URL if available
        let uaid = null;
        if (ustaUrl) {
          const uaidMatch = ustaUrl.match(/uaid=(\d+)/);
          if (uaidMatch) uaid = uaidMatch[1];
        }

	        const playerKey = (row.getAttribute('data-player-key') || '').trim() || makePlayerKey(firstName, lastName);
	        const groupPrefix = (() => {
	          const g = (groupLabel || '').trim();
	          if (!g) return '';
	          const m = g.match(/\b(10|12|14|16|18)\b/);
	          if (m) return m[1] + '-';
	          return g[0].toUpperCase() + '-';
	        })();
	        const id = groupPrefix + playerKey.replace(/[^A-Z0-9]+/g, '-');

        // Section ranks exist only for singles reports (hidden column).
        const sectionCell = sectionColIdx !== -1 ? cells[sectionColIdx] : null;
        const sectionRank = sectionCell ? parseInt((sectionCell.textContent || '').trim(), 10) || null : null;

        players.push({
          id,
          group: groupLabel || '',
          playerKey,
          partner,
          partnerKey,
          rank,
          firstName,
          lastName,
          fullName,
          wtn,
          utr,
          utrUrl,
          natRank,
          sectionRank,
          uaid,
          teamNst,
          location,
          isTarget
        });
      });

      return players;
    }

	    function parsePlayerData() {
	      isMixedEvent = detectMixedEvent();
	      mixedGroups = null;
	      multiGroups = null;
	
	      const tables = Array.from(document.querySelectorAll('.desktop-view table.players-table'));
	      if (!tables.length) return [];
	
	      if (isMixedEvent) {
        const girls = [];
        const boys = [];

        tables.forEach((table) => {
          const titleEl = table.previousElementSibling;
          const titleText = titleEl ? (titleEl.textContent || '').trim().toLowerCase() : '';
          const group = titleText.includes('boys') ? 'Boys' : titleText.includes('girls') ? 'Girls' : '';
          const parsed = parsePlayersFromTable(table, group);
          if (group === 'Boys') boys.push(...parsed);
          else girls.push(...parsed);
        });

	        mixedGroups = { girls, boys };
	        return [...girls, ...boys];
	      }

	      if (tables.length > 1) {
	        // Multiple singles tables (e.g., U12 + U14 on one page).
	        const groups = [];
	        tables.forEach((table, idx) => {
	          const titleEl = table.previousElementSibling;
	          const titleText = titleEl ? (titleEl.textContent || '').trim() : '';
	          const group = titleText || `Event ${idx + 1}`;
	          const parsed = parsePlayersFromTable(table, group);
	          groups.push({ label: group, players: parsed });
	        });
	        multiGroups = groups;
	        return groups.flatMap((g) => g.players);
	      }
	
	      // Singles: only one table.
	      return parsePlayersFromTable(tables[0], '');
	    }

    function parseKeyStats() {
      const stats = {
        drawSize: 32,
        closes: '',
        registered: 0,
        // Legacy/optional (Alexis-focused reports).
        seed: null,
        percentAbove: null
      };
      
      const keyStats = document.querySelectorAll('.desktop-view .key-stat');
      keyStats.forEach(stat => {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) return;
        
        const labelText = label.textContent.trim();
        const valueText = value.textContent.trim();
        
        if (labelText === 'Draw') {
          const parsed = parseInt(valueText, 10);
          if (Number.isFinite(parsed)) stats.drawSize = parsed;
        } else if (labelText === 'Closes') {
          stats.closes = valueText;
        } else if (labelText === 'Registered') {
          const parsed = parseInt(valueText, 10);
          if (Number.isFinite(parsed)) stats.registered = parsed;
        } else if (labelText === 'Alexis Seed') {
          const parts = valueText.split('/');
          if (parts.length === 2) {
            const seedParsed = parseInt(parts[0].trim(), 10);
            const regParsed = parseInt(parts[1].trim(), 10);
            if (Number.isFinite(seedParsed)) stats.seed = seedParsed;
            if (Number.isFinite(regParsed)) stats.registered = regParsed;
          }
        } else if (labelText === '% Above Alexis (UTR)') {
          const parsed = parseInt(valueText, 10);
          if (Number.isFinite(parsed)) stats.percentAbove = parsed;
        }
      });
      
      return stats;
    }

    function parseTournamentInfo() {
      const info = {
        title: '',
        dates: '',
        location: '',
        format: {},
        venues: [],
        contact: {}
      };
      
      // Parse header info
      const h1 = document.querySelector('.desktop-view h1');
      if (h1) info.title = h1.textContent.trim();
      
      const datesEl = document.querySelector('.desktop-view .tournament-dates');
      if (datesEl) info.dates = datesEl.textContent.trim();
      
      const tournamentInfo = document.querySelector('.desktop-view .tournament-info');
      if (tournamentInfo) {
        const text = tournamentInfo.textContent.trim();
        const lines = text.split('\n').map(l => l.trim()).filter(l => l);
        if (lines.length > 1) {
          const fullLocation = lines[1].replace(/•.*$/, '').trim();
          // Extract just "City, State" from full venue addresses
          // Example: "Willow Glen MS/HS & Piedmont Hills HS, San Jose, CA" -> "San Jose, CA"
          const cityStateMatch = fullLocation.match(/([^,]+,\s*[A-Z]{2})$/);
          info.location = cityStateMatch ? cityStateMatch[1].trim() : fullLocation;
        }
      }
      
      // Parse tournament details
      const detailsPage = document.querySelector('.desktop-view .tournament-details-page');
      if (detailsPage) {
        const detailRows = detailsPage.querySelectorAll('.detail-row');
        detailRows.forEach(row => {
          const label = row.querySelector('.detail-label');
          const value = row.querySelector('.detail-value');
          if (!label || !value) return;
          
          const labelText = label.textContent.trim().replace(':', '');
          const valueText = value.textContent.trim();
          
          // Format & Scoring
          if (labelText === 'Match Format') info.format.matchFormat = valueText;
          if (labelText === 'Tiebreaks') info.format.tiebreaks = valueText;
          if (labelText === 'Set Tiebreak') info.format.setTiebreak = valueText;
          if (labelText === 'Match Tiebreak') info.format.matchTiebreak = valueText;
          
          // Venues
          if (labelText.startsWith('Site')) {
            const link = value.querySelector('a');
            info.venues.push({
              name: valueText.split(',')[0].trim(),
              url: link ? link.href : null
            });
          }
          
          // Contact
          if (labelText === 'Tournament Director') info.contact.director = valueText;
          if (labelText === 'Email') {
            const link = value.querySelector('a');
            info.contact.email = link ? link.href.replace('mailto:', '') : valueText;
          }
          if (labelText === 'Phone') {
            const link = value.querySelector('a');
            info.contact.phone = link ? link.textContent.trim() : valueText;
            info.contact.phoneUrl = link ? link.href : null;
          }
        });
      }
      
      return info;
    }

    // ========================================
    // RENDERING FUNCTIONS
    // ========================================

    function buildAlexisCard(player) {
      if (!player) return '';
      
      const initials = `${player.firstName[0]}${player.lastName[0]}`;
      const sectionRank = 54; // Alexis's sectional rank from MEMORY_BANK.md
      
      return `
        <div class="mobile-alexis-header">
          <div class="mobile-alexis-avatar">${initials}</div>
          <div class="mobile-alexis-name">
            <h3>${player.fullName}</h3>
            <span>${player.location}</span>
          </div>
          <div class="mobile-alexis-seed">#${player.rank} Seed</div>
        </div>
        <div class="mobile-alexis-stats">
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${player.wtn}</div>
            <div class="mobile-alexis-stat-label">WTN</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${formatUtrValue(player.utr)}</div>
            <div class="mobile-alexis-stat-label">UTR</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${formatNatRankValue(player.natRank)}</div>
            <div class="mobile-alexis-stat-label">Nat Rank</div>
          </div>
          <div class="mobile-alexis-stat">
            <div class="mobile-alexis-stat-value">${sectionRank}</div>
            <div class="mobile-alexis-stat-label">Section</div>
          </div>
        </div>
      `;
    }

    function buildPositionGauge(players, targetPlayer) {
      if (!targetPlayer || players.length === 0) return '';
      
      const targetIndex = players.findIndex(p => p.isTarget);
      const percentage = ((targetIndex / (players.length - 1)) * 100).toFixed(0);
      const percentAbove = Math.round((targetIndex / players.length) * 100);
      const firstPlayer = players[0];
      const lastPlayer = players[players.length - 1];
      const stats = parseKeyStats();
      const cushion = stats.drawSize - targetPlayer.rank;
      
      return `
        <div class="mobile-gauge-header">
          <span class="mobile-gauge-title">Position in Draw</span>
          <span class="mobile-gauge-value">${percentAbove}% above her</span>
        </div>
        <div class="mobile-gauge-bar">
          <div class="mobile-gauge-fill" id="gauge-fill" style="width: 0%;" data-width="${percentage}%">
            <div class="mobile-gauge-marker"></div>
          </div>
        </div>
        <div class="mobile-gauge-labels">
          <span>#1 ${firstPlayer.firstName} ${firstPlayer.lastName[0]}.</span>
          <span>#${targetPlayer.rank} ${targetPlayer.firstName}</span>
          <span>#${players.length}</span>
        </div>
        ${cushion > 0 ? `
        <div class="mobile-gauge-note">
          <span>✓</span>
          ${cushion}-player cushion above cutoff — safe entry
        </div>
        ` : ''}
      `;
    }

    function buildUtrHistogramMobile() {
      // Find existing histogram data from desktop view
      const desktopHistogram = document.querySelector('.desktop-view .utr-histogram-chart');
      if (!desktopHistogram) return '';
      
      const bins = desktopHistogram.querySelectorAll('.utr-bin');
      if (bins.length === 0) return '';
      
      let maxCount = 0;
      const binData = [];
      
      bins.forEach(bin => {
        const countEl = bin.querySelector('.utr-bin-count');
        const count = parseInt(countEl.textContent.trim());
        const isHighlight = bin.classList.contains('is-highlight');
        binData.push({ count, isHighlight });
        maxCount = Math.max(maxCount, count);
      });
      
      // Build histogram bars
      const bars = binData.map((bin, i) => {
        const height = (bin.count / maxCount) * 100;
        const className = bin.isHighlight ? 'mobile-histogram-bar alexis-range' : 'mobile-histogram-bar';
        return `<div class="${className}" style="height: ${height}%;"></div>`;
      }).join('');
      
      return `
        <div class="mobile-histogram">
          ${bars}
        </div>
        <div class="mobile-histogram-labels">
          <span>2.0</span>
          <span>3.0</span>
          <span>4.0</span>
          <span>5.0</span>
          <span>6.0</span>
        </div>
        <div class="mobile-chart-legend">
          <div class="mobile-legend-item">
            <div class="mobile-legend-dot blue"></div>
            <span>Other players</span>
          </div>
          <div class="mobile-legend-item">
            <div class="mobile-legend-dot orange"></div>
            <span>Alexis's range</span>
          </div>
        </div>
      `;
    }

    function formatUtrValue(value) {
      if (Number.isFinite(value)) return value.toFixed(2);
      return 'N/A';
    }

    function formatNatRankValue(value) {
      if (Number.isFinite(value)) return String(value);
      return 'N/A';
    }

    function isProbablyEmail(value) {
      const email = (value || '').trim();
      if (!email) return false;
      if (email.toUpperCase() === 'N/A') return false;
      return /.+@.+\..+/.test(email);
    }

    function sortPlayers(players, sortBy) {
      const sorted = [...players];
      
      if (sortBy === 'rank') {
        sorted.sort((a, b) => a.rank - b.rank);
      } else if (sortBy === 'utr') {
        sorted.sort((a, b) => {
          const aVal = Number.isFinite(a.utr) ? a.utr : -1e9;
          const bVal = Number.isFinite(b.utr) ? b.utr : -1e9;
          return bVal - aVal; // Descending (higher is better)
        });
      } else if (sortBy === 'natRank') {
        sorted.sort((a, b) => {
          const aVal = Number.isFinite(a.natRank) ? a.natRank : 1e9;
          const bVal = Number.isFinite(b.natRank) ? b.natRank : 1e9;
          return aVal - bVal; // Ascending (lower is better)
        });
      } else if (sortBy === 'wtn') {
        sorted.sort((a, b) => {
          const aWtn = parseFloat(a.wtn) || 999;
          const bWtn = parseFloat(b.wtn) || 999;
          return aWtn - bWtn; // Ascending (lower is better)
        });
      }
      
      return sorted;
    }

    function buildPlayerCards(players, sortBy, limit = null) {
      const sorted = sortPlayers(players, sortBy);
      const displayPlayers = limit ? sorted.slice(0, limit) : sorted;
      const stats = parseKeyStats();
      const showCutoff = sortBy === 'rank'; // Only show cutoff when sorted by seed
      
      let html = '';
      let cutoffAdded = false;
      
      displayPlayers.forEach((player, index) => {
        // Add cutoff divider after player #32 (only in seed order)
        if (showCutoff && !cutoffAdded && player.rank === stats.drawSize && index < displayPlayers.length - 1) {
          html += '<div class="mobile-cutoff-divider">✂️ Draw cutoff after player #' + stats.drawSize + '</div>';
          cutoffAdded = true;
        }
        
        const isTopSeed = player.rank <= 8;
        const cardClass = ['mobile-player-card'];
        if (isTopSeed) cardClass.push('top-seed');
        if (player.isTarget) cardClass.push('target-player');
        
        html += `
          <div class="${cardClass.join(' ')}" data-player-id="${player.id}">
            <div class="mobile-player-rank">${player.rank}</div>
            <div class="mobile-player-info">
              <div class="mobile-player-name">${player.fullName}</div>
              <div class="mobile-player-location">${player.location}</div>
            </div>
            <div class="mobile-player-ratings">
              ${player.utrUrl ? `
                <a href="${player.utrUrl}" target="_blank" rel="noopener noreferrer" class="mobile-rating-badge utr" onclick="event.stopPropagation()">
                  <div class="mobile-rating-value">${formatUtrValue(player.utr)}</div>
                  <div class="mobile-rating-label">UTR</div>
                </a>
              ` : `
                <div class="mobile-rating-badge utr">
                  <div class="mobile-rating-value">${formatUtrValue(player.utr)}</div>
                  <div class="mobile-rating-label">UTR</div>
                </div>
              `}
              ${player.uaid ? `
                <a href="https://www.usta.com/en/home/play/player-search/profile.html#?uaid=${player.uaid}" target="_blank" rel="noopener noreferrer" class="mobile-rating-badge nat" onclick="event.stopPropagation()">
                  <div class="mobile-rating-value">${formatNatRankValue(player.natRank)}</div>
                  <div class="mobile-rating-label">Nat</div>
                </a>
              ` : `
                <div class="mobile-rating-badge nat">
                  <div class="mobile-rating-value">${formatNatRankValue(player.natRank)}</div>
                  <div class="mobile-rating-label">Nat</div>
                </div>
              `}
            </div>
            <div class="mobile-player-expand-icon">▼</div>
          </div>
          <div class="mobile-player-details" data-player-id="${player.id}">
            <div class="mobile-player-details-grid">
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">WTN</div>
                <div class="mobile-detail-value">${player.wtn}</div>
              </div>
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Sec Rank</div>
                <div class="mobile-detail-value">${player.sectionRank || 'N/A'}</div>
              </div>
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Seed</div>
                <div class="mobile-detail-value">#${player.rank}</div>
              </div>
              ${player.partner ? `
              <div class="mobile-detail-item">
                <div class="mobile-detail-label">Partner</div>
                <div class="mobile-detail-value">
                  ${player.partnerKey ? `
                    <button class="mobile-partner-jump" data-partner-key="${player.partnerKey}" onclick="event.stopPropagation()">${player.partner}</button>
                  ` : player.partner}
                </div>
              </div>
              ` : ''}
            </div>
          </div>
        `;
      });
      
      return html;
    }

    function buildInfoCards(info) {
      let html = '';

      const cleanText = (value) => (value || '').replace(/\s+/g, ' ').trim();
      const isLongValue = (value) => cleanText(value).length > 80;
      const renderRow = (label, value) => {
        const v = cleanText(value);
        if (!v) return '';
        const rowClass = isLongValue(v) ? 'mobile-info-row is-stacked' : 'mobile-info-row';
        return `
          <div class="${rowClass}">
            <span class="mobile-info-label">${label}</span>
            <span class="mobile-info-value">${v}</span>
          </div>
        `;
      };
      
      // Format & Scoring Card
      if (info.format.matchFormat || info.format.tiebreaks || info.format.setTiebreak || info.format.matchTiebreak) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">🎾</span>
              Format & Scoring
            </div>
            ${renderRow('Match Format', info.format.matchFormat)}
            ${renderRow('Tiebreaks', info.format.tiebreaks)}
            ${renderRow('Set Tiebreak', info.format.setTiebreak)}
            ${renderRow('3rd Set', info.format.matchTiebreak)}
          </div>
        `;
      }
      
      // Venues Card
      if (info.venues.length > 0) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">📍</span>
              Venues
            </div>
        `;
        info.venues.forEach((venue, i) => {
          html += `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Site ${i + 1}</span>
              <span class="mobile-info-value">
                ${venue.url ? `<a href="${venue.url}" target="_blank" rel="noopener noreferrer">${venue.name} →</a>` : venue.name}
              </span>
            </div>
          `;
        });
        html += '</div>';
      }
      
      // Contact Card
      if (info.contact.director || info.contact.email || info.contact.phone) {
        html += `
          <div class="mobile-info-card">
            <div class="mobile-info-card-header">
              <span class="icon">📞</span>
              Contact
            </div>
            ${info.contact.director ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Director</span>
              <span class="mobile-info-value">${info.contact.director}</span>
            </div>` : ''}
            ${info.contact.email ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Email</span>
              <span class="mobile-info-value">
                ${isProbablyEmail(info.contact.email) ? `<a href="mailto:${info.contact.email}">${info.contact.email}</a>` : info.contact.email}
              </span>
            </div>` : ''}
            ${info.contact.phone ? `
            <div class="mobile-info-row">
              <span class="mobile-info-label">Phone</span>
              <span class="mobile-info-value">
                ${info.contact.phoneUrl ? `<a href="${info.contact.phoneUrl}">${info.contact.phone}</a>` : info.contact.phone}
              </span>
            </div>` : ''}
          </div>
        `;
      }
      
      return html;
    }

    // ========================================
    // MAIN RENDER FUNCTION
    // ========================================

    function renderMobileView() {
      // Parse all data
      allPlayers = parsePlayerData();
      playerByKey = {};
      allPlayers.forEach(p => {
        if (p && p.playerKey) playerByKey[p.playerKey] = p;
      });
      targetPlayer = allPlayers.find(p => p.isTarget);
      const stats = parseKeyStats();
      const info = parseTournamentInfo();

      // Keep the mobile tournament link aligned with the desktop header.
      const desktopTournamentLink = document.querySelector('.desktop-view .tournament-info a');
      const mobileTournamentLink = document.querySelector('a.mobile-tournament-link');
      if (desktopTournamentLink && mobileTournamentLink) {
        if (desktopTournamentLink.href) mobileTournamentLink.href = desktopTournamentLink.href;
        const title = (desktopTournamentLink.textContent || '').trim();
        if (title) mobileTournamentLink.textContent = title;
      }
      
      // Render header
      // Use title as-is (already contains "Open Level 5 Championship Singles - Girls' 12 Singles")
      const titleText = info.title || "Open Level 5 Championship — Fair Oaks (G12/G14 Singles)";
      document.getElementById('mobile-title').textContent = titleText;
      
      // Format: "Jan 10-18, 2026 • San Jose, CA"
      const metaEl = document.getElementById('mobile-meta');
      if (metaEl) {
        const datesText = (info.dates || '').trim();
        const locText = (info.location || '').trim();
        const sep = datesText && locText ? ' • ' : '';
        const mapUrl = info?.venues?.[0]?.url || '';

        metaEl.textContent = '';
        metaEl.append(document.createTextNode(datesText + sep));
        if (mapUrl && locText) {
          const a = document.createElement('a');
          a.href = mapUrl;
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.textContent = locText;
          metaEl.append(a);
        } else {
          metaEl.append(document.createTextNode(locText));
        }
      }
      
      // Render hero stats
      document.getElementById('mobile-draw-size').textContent = Number.isFinite(stats.drawSize) ? stats.drawSize : '';
      document.getElementById('mobile-seed').textContent =
        (stats.closes || '').trim() || (Number.isFinite(stats.seed) ? String(stats.seed) : '');
      document.getElementById('mobile-registered').textContent = Number.isFinite(stats.registered) ? stats.registered : '';
      
      // Render Alexis card
      if (targetPlayer) {
        document.getElementById('mobile-alexis-card').innerHTML = buildAlexisCard(targetPlayer);
      }
      
      // Render position gauge
      if (targetPlayer && allPlayers.length > 0) {
        document.getElementById('mobile-position-gauge').innerHTML = buildPositionGauge(allPlayers, targetPlayer);
        // Animate gauge after render
        setTimeout(() => {
          const fill = document.getElementById('gauge-fill');
          if (fill) {
            fill.style.width = fill.getAttribute('data-width');
          }
        }, 100);
      }
      
      // Render UTR histogram
      document.getElementById('mobile-histogram').innerHTML = buildUtrHistogramMobile();
      
      // Render player count
      document.getElementById('mobile-player-count').textContent = allPlayers.length;
      
      // Render player list (initially show top 8)
      renderPlayerList(currentSort, 8);
      
      // Render tournament info
      document.getElementById('mobile-info-section').innerHTML = buildInfoCards(info);
    }

	    function renderPlayerList(sortBy, limit = null) {
	      if (isMixedEvent && mixedGroups) {
	        const groupLimit = limit === null ? null : 8;
	        const girlsHtml = buildPlayerCards(mixedGroups.girls, sortBy, groupLimit);
	        const boysHtml = buildPlayerCards(mixedGroups.boys, sortBy, groupLimit);
	        const html = `
	          <div class="mobile-group-header">Girls</div>
	          ${girlsHtml}
	          <div class="mobile-group-header">Boys</div>
	          ${boysHtml}
	        `;
	        document.getElementById('mobile-player-list').innerHTML = html;
	      } else if (multiGroups && Array.isArray(multiGroups) && multiGroups.length > 0) {
	        const groupLimit = limit === null ? null : 8;
	        const html = multiGroups.map((group) => {
	          const label = group && group.label ? group.label : 'Players';
	          const players = group && Array.isArray(group.players) ? group.players : [];
	          const cards = buildPlayerCards(players, sortBy, groupLimit);
	          return `
	            <div class="mobile-group-header">${label}</div>
	            ${cards}
	          `;
	        }).join('');
	        document.getElementById('mobile-player-list').innerHTML = html;
	      } else {
	        const html = buildPlayerCards(allPlayers, sortBy, limit);
	        document.getElementById('mobile-player-list').innerHTML = html;
	      }
      
      // Update show more button
      const showMoreBtn = document.getElementById('mobile-show-more');
      if (limit && limit < allPlayers.length) {
        showMoreBtn.style.display = 'block';
        showMoreBtn.textContent = `Show all ${allPlayers.length} players ↓`;
        isExpanded = false;
      } else if (limit === null) {
        showMoreBtn.style.display = 'block';
        showMoreBtn.textContent = `Show less ↑`;
        isExpanded = true;
      } else {
        showMoreBtn.style.display = 'none';
      }
    }

    // ========================================
    // EVENT HANDLERS
    // ========================================

    function handleSort(sortBy) {
      currentSort = sortBy;
      
      // Update active button
      document.querySelectorAll('.mobile-sort-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-sort') === sortBy) {
          btn.classList.add('active');
        }
      });
      
      // Re-render with current expansion state
      const limit = isExpanded ? null : 8;
      renderPlayerList(sortBy, limit);
    }

    function handleShowMore() {
      if (isExpanded) {
        renderPlayerList(currentSort, 8);
      } else {
        renderPlayerList(currentSort, null);
      }
    }

    // ========================================
    // VIEW TOGGLE
    // ========================================

    function getUserViewPreference() {
      return localStorage.getItem('tennisReportViewPref');
    }

    function setUserViewPreference(view) {
      localStorage.setItem('tennisReportViewPref', view);
    }

    function detectMobileDevice() {
      return window.innerWidth <= 600;
    }

    function isMobileViewActive() {
      if (document.body.classList.contains('force-mobile')) return true;
      if (document.body.classList.contains('force-desktop')) return false;
      return detectMobileDevice();
    }

    function placeH2HBlock() {
      const wrapper = document.getElementById('alexis-roster-h2h-wrapper');
      if (!wrapper) return;
      const target = isMobileViewActive()
        ? document.getElementById('alexis-h2h-slot-mobile')
        : document.getElementById('alexis-h2h-slot-desktop');
      if (!target) return;
      if (wrapper.parentElement === target) return;
      target.appendChild(wrapper);
    }

    function toggleView(targetView) {
      setUserViewPreference(targetView);
      
      if (targetView === 'mobile') {
        document.body.classList.add('force-mobile');
        document.body.classList.remove('force-desktop');
      } else {
        document.body.classList.add('force-desktop');
        document.body.classList.remove('force-mobile');
      }
      placeH2HBlock();
    }

    function applyViewPreference() {
      const pref = getUserViewPreference();
      const isMobile = detectMobileDevice();
      
      // On desktop (>600px), always show desktop regardless of preference
      if (!isMobile) {
        document.body.classList.remove('force-mobile', 'force-desktop');
        placeH2HBlock();
        return;
      }
      
      // On mobile (≤600px), apply preference if set
      if (pref === 'desktop') {
        document.body.classList.add('force-desktop');
        document.body.classList.remove('force-mobile');
      } else if (pref === 'mobile') {
        document.body.classList.add('force-mobile');
        document.body.classList.remove('force-desktop');
      }
      // If no preference, let CSS media query handle it
      placeH2HBlock();
    }

    // ========================================
    // PLAYER CARD INTERACTION
    // ========================================

    function togglePlayerDetails(playerId) {
      const card = document.querySelector(`.mobile-player-card[data-player-id="${playerId}"]`);
      const details = document.querySelector(`.mobile-player-details[data-player-id="${playerId}"]`);
      
      if (!card || !details) return;
      
      const isExpanded = card.classList.contains('expanded');
      
      // Close all other expanded cards
      document.querySelectorAll('.mobile-player-card.expanded').forEach(c => {
        c.classList.remove('expanded');
      });
      document.querySelectorAll('.mobile-player-details.expanded').forEach(d => {
        d.classList.remove('expanded');
      });
      
      // Toggle current card
      if (!isExpanded) {
        card.classList.add('expanded');
        details.classList.add('expanded');
      }
    }

    // ========================================
    // INITIALIZATION
    // ========================================

    function initMobileView() {
      // Apply view preference
      applyViewPreference();
      
      // Render mobile view
      renderMobileView();
      
      // Setup event listeners
      
      // Player card click handlers
      document.addEventListener('click', (e) => {
        const partnerBtn = e.target.closest('.mobile-partner-jump');
        if (partnerBtn) {
          e.preventDefault();
          e.stopPropagation();
          const key = (partnerBtn.getAttribute('data-partner-key') || '').trim();
          if (!key) return;
          const partner = playerByKey[key];
          if (!partner) return;
          const card = document.querySelector(`.mobile-player-card[data-player-id="${partner.id}"]`);
          if (card) {
            card.scrollIntoView({ behavior: 'smooth', block: 'center' });
            togglePlayerDetails(partner.id);
          }
          return;
        }

        const card = e.target.closest('.mobile-player-card');
        if (card) {
          const playerId = card.getAttribute('data-player-id');
          if (playerId) {
            togglePlayerDetails(playerId);
          }
        }
      });
      
      // Sort buttons
      document.querySelectorAll('.mobile-sort-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          handleSort(btn.getAttribute('data-sort'));
        });
      });
      
      // Show more/less button
      document.getElementById('mobile-show-more').addEventListener('click', handleShowMore);
      
      // View toggle links
      document.getElementById('mobile-toggle-desktop').addEventListener('click', (e) => {
        e.preventDefault();
        toggleView('desktop');
      });
      
      document.getElementById('desktop-toggle-mobile').addEventListener('click', (e) => {
        e.preventDefault();
        toggleView('mobile');
      });
      
      // Handle window resize
      window.addEventListener('resize', () => {
        applyViewPreference();
      });
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initMobileView);
    } else {
      initMobileView();
    }
  </script>

  <!-- Share Button -->
  <script>
    // Player profile links keyed by "FIRST|LAST" (uppercase)
    // Made global so mobile view can access it
    window.playerProfileUrlByName = {
      "EMMA|HOSKINS": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019094846",
      "ISABELLA|YI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019298468",
      "ADISON|BURGER": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2017287559",
      "SARAH|WATANABE": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019209088",
      "SIMONE|DE VALENCIA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2020079645",
      "LEOLA|SMITH": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661704",
      "MISHA|KATARIA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019420835",
      "ALEXIS|MALAKHOVA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018710796",
      "ELLINOR|CHOI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019003273",
      "ANGELA|CHEN": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018617048",
      "LUJIA|YAN": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018557493",
      "ELOISE|COULOMBE": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018790528",
      "OLIVIA|SYME": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019085203",
      "SERENA|GUO": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019277087",
      "CIENNA|ANGUS": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018649966",
      "YSABEL|TONG": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018668533",
      "RIYA|DIVEKAR": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018612405",
      "EVIE|DOUGHERTY": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019278717",
      "CAMILLE|KUNKEL": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018867069",
      "ASHNA|SAXENA": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018597670",
      "GISELE|SMITH": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018661703",
      "LEAH|HAREL": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019581512",
      "ALEXA|OSEN": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2019108120",
      "NELL|INKABI": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018822004",
      "GABRIELLA|MOURET-LAFAGE": "https://www.usta.com/en/home/play/player-search/profile.html#?uaid=2018746611",
    };

	    function decorateMetricCellWithProfileLink(cell, url) {
	      if (!cell || !url) return;
	      if (cell.querySelector('a')) return;
	      const text = cell.textContent.trim();
	      const a = document.createElement('a');
	      a.href = url;
	      a.target = '_blank';
	      a.rel = 'noopener noreferrer';
	      a.textContent = text;
	      a.title = 'Open player profile';
	      cell.textContent = '';
	      cell.appendChild(a);
	    }
	
	    function decoratePlayerLinks() {
	      const tables = Array.from(document.querySelectorAll('.desktop-view table.players-table'));
	      if (!tables.length) return;
	
	      tables.forEach((table) => {
	        const tbody = table.querySelector('tbody');
	        if (!tbody) return;
	        const headers = Array.from(table.querySelectorAll('thead th')).map((th) =>
	          (th.textContent || '').trim().toLowerCase()
	        );
	        const wtnIdx = headers.findIndex((h) => h === 'wtn');
	        const natIdx = headers.findIndex((h) => h === 'nat rank' || h === 'national rank' || h === 'nat');
	
	        const rows = Array.from(tbody.querySelectorAll('tr'));
	        rows.forEach((row) => {
	          const cells = row.querySelectorAll('td');
	          if (cells.length < 3) return;
	          const first = (cells[1]?.textContent || '').trim().toUpperCase();
	          const last = (cells[2]?.textContent || '').trim().toUpperCase();
	          if (!first && !last) return;
	          const key = `${first}|${last}`;
	          const url = window.playerProfileUrlByName[key];
	          if (!url) return;
	
	          const wtnCell = cells[wtnIdx !== -1 ? wtnIdx : 3];
	          const natCell = cells[natIdx !== -1 ? natIdx : 5];
	          decorateMetricCellWithProfileLink(wtnCell, url);
	          decorateMetricCellWithProfileLink(natCell, url);
	        });
	      });
	    }

    function toTitleCase(value) {
      return value
        .toLowerCase()
        .replace(/\b\w/g, letter => letter.toUpperCase());
    }

	    function normalizeLastNames() {
	      const tables = Array.from(document.querySelectorAll('.desktop-view table.players-table'));
	      if (!tables.length) return;
	      tables.forEach((table) => {
	        const tbody = table.querySelector('tbody');
	        if (!tbody) return;
	        const rows = Array.from(tbody.querySelectorAll('tr'));
	        rows.forEach((row) => {
	          const cells = row.querySelectorAll('td');
	          if (cells.length < 3) return;
	          const lastCell = cells[2];
	          const text = (lastCell.textContent || '').trim();
	          if (!text) return;
	          lastCell.textContent = toTitleCase(text);
	        });
	      });
	    }
	
	    function normalizeLocations() {
	      const tables = Array.from(document.querySelectorAll('.desktop-view table.players-table'));
	      if (!tables.length) return;
	      tables.forEach((table) => {
	        const tbody = table.querySelector('tbody');
	        if (!tbody) return;
	        const headers = Array.from(table.querySelectorAll('thead th')).map((th) =>
	          (th.textContent || '').trim().toLowerCase()
	        );
	        const locationIdx = headers.findIndex((h) => h === 'location');
	
	        const rows = Array.from(tbody.querySelectorAll('tr'));
	        rows.forEach((row) => {
	          const cells = row.querySelectorAll('td');
	          const idx = locationIdx !== -1 ? locationIdx : 6;
	          if (cells.length <= idx) return;
	          const locationCell = cells[idx];
	          const text = (locationCell.textContent || '').trim();
	          if (!text) return;
	          if (text.includes(',')) return;
	          const parts = text.split(/\s+/);
	          if (parts.length < 2) return;
	          const state = parts.pop();
	          const city = parts.join(' ');
	          locationCell.textContent = `${city}, ${state}`;
	        });
	      });
	    }

    function formatUtrRangeLabel(start, binSize) {
      const end = start + binSize - 0.01;
      return `${start.toFixed(1)}-${end.toFixed(2)}`;
    }

    function getDrawSizeFromKeyStats() {
      const stats = Array.from(document.querySelectorAll('.key-stat'));
      for (const stat of stats) {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase() === 'draw') {
          const size = parseInt(value.textContent.trim(), 10);
          if (Number.isFinite(size)) return size;
        }
      }
      return null;
    }

	    function buildUtrHistogram() {
	      function isMixedEventPage() {
	        try {
	          return typeof detectMixedEvent === 'function' && detectMixedEvent();
	        } catch (err) {
	          return false;
	        }
	      }

	      function findTableForChart(chartEl) {
	        if (!chartEl) return null;

	        const tableSelector = (chartEl.getAttribute('data-utr-table') || '').trim();
	        if (tableSelector) {
	          const explicit = document.querySelector(tableSelector);
	          if (explicit && explicit.tagName === 'TABLE') return explicit;
	        }

	        // Walk up the DOM tree looking for a previous sibling table.
	        let el = chartEl;
	        while (el && el !== document.body) {
	          let sib = el.previousElementSibling;
	          while (sib) {
	            if (sib.tagName === 'TABLE') return sib;
	            const inner = sib.querySelector ? sib.querySelector('table') : null;
	            if (inner) return inner;
	            sib = sib.previousElementSibling;
	          }
	          el = el.parentElement;
	        }

	        return (
	          document.querySelector('.desktop-view .primary-table') ||
	          document.querySelector('.desktop-view table.players-table') ||
	          null
	        );
	      }

	      function findTablesForChart(chartEl) {
	        const tableSelector = (chartEl?.getAttribute('data-utr-table') || '').trim();
	        if (tableSelector) {
	          const explicit = document.querySelector(tableSelector);
	          return explicit && explicit.tagName === 'TABLE' ? [explicit] : [];
	        }

	        if (isMixedEventPage()) {
	          const tables = Array.from(document.querySelectorAll('.desktop-view table.players-table')).filter(
	            (table) => table.querySelectorAll('tbody tr').length > 0
	          );
	          if (tables.length) return tables;
	        }

	        const single = findTableForChart(chartEl);
	        return single ? [single] : [];
	      }

	      function headerIndex(table, want) {
	        if (!table) return -1;
	        const headers = Array.from(table.querySelectorAll('thead th')).map((th) =>
	          (th.textContent || '').trim().toLowerCase()
	        );
	        const wantNorm = (want || '').trim().toLowerCase();
	        if (!wantNorm) return -1;
	        return headers.findIndex((h) => h === wantNorm);
	      }

	      function cellText(cell) {
	        if (!cell) return '';
	        const a = cell.querySelector && cell.querySelector('a');
	        return (a ? a.textContent : cell.textContent || '').trim();
	      }

	      function playersFromTable(table) {
	        if (!table) return [];
	        const utrIdx = (() => {
	          const idx = headerIndex(table, 'utr');
	          return idx !== -1 ? idx : 4;
	        })();
	        const natIdx = (() => {
	          const idx = headerIndex(table, 'nat rank');
	          return idx !== -1 ? idx : 5;
	        })();

	        return Array.from(table.querySelectorAll('tbody tr'))
	          .map((row) => {
	            const cells = row.querySelectorAll('td');
	            const maxIdx = Math.max(utrIdx, natIdx);
	            if (!cells || cells.length <= maxIdx) return null;
	            const utr = parseFloat(cellText(cells[utrIdx]));
	            const natRaw = cellText(cells[natIdx]);
	            const natRank = parseInt(natRaw, 10);
	            return {
	              utr: Number.isFinite(utr) ? utr : null,
	              natRank: Number.isFinite(natRank) ? natRank : Number.POSITIVE_INFINITY,
	              highlight: row.classList.contains('highlight-player'),
	            };
	          })
	          .filter(Boolean);
	      }

	      function selectMixedDrawPlayers(playersByTable, drawSize) {
	        const sortedByTable = playersByTable.map((group) =>
	          group.slice().sort((a, b) => a.natRank - b.natRank)
	        );
	        const allPlayers = sortedByTable.flat();
	        if (!allPlayers.length) return [];

	        if (!Number.isFinite(drawSize) || drawSize <= 0 || drawSize >= allPlayers.length) {
	          return allPlayers;
	        }

	        const tableCount = sortedByTable.length;
	        const baseSlots = Math.floor(drawSize / tableCount);
	        let remainder = drawSize % tableCount;
	        const selected = [];

	        sortedByTable.forEach((group) => {
	          const slots = baseSlots + (remainder > 0 ? 1 : 0);
	          if (remainder > 0) remainder -= 1;
	          if (slots > 0) selected.push(...group.slice(0, slots));
	        });

	        if (selected.length < drawSize) {
	          const leftovers = sortedByTable
	            .flat()
	            .filter((player) => !selected.includes(player))
	            .sort((a, b) => a.natRank - b.natRank);
	          selected.push(...leftovers.slice(0, drawSize - selected.length));
	        }

	        return selected.slice(0, drawSize);
	      }

	      function chartDrawOverride(chartEl) {
	        if (!chartEl) return null;
	        const raw = (chartEl.getAttribute('data-utr-draw') || '').trim();
	        const parsed = parseInt(raw, 10);
	        return Number.isFinite(parsed) && parsed > 0 ? parsed : null;
	      }

	      const charts = Array.from(document.querySelectorAll('.desktop-view .utr-histogram-chart'));
	      if (!charts.length) return;

	      charts.forEach((container, chartIndex) => {
	        if (!container) return;
	        const tables = findTablesForChart(container);
	        if (!tables.length) return;

	        const playersByTable = tables.map(playersFromTable).filter((group) => group.length > 0);
	        if (!playersByTable.length) return;

	        const allPlayers = playersByTable.flat();
	        if (!allPlayers.length) return;

	        const drawSize = getDrawSizeFromKeyStats() || allPlayers.length;
	        const mixedPage = isMixedEventPage() && playersByTable.length > 1;
	        let drawPlayers;
	        if (mixedPage) {
	          drawPlayers = selectMixedDrawPlayers(playersByTable, drawSize);
	        } else {
	          const explicitDraw = chartDrawOverride(container);
	          const drawLimit = explicitDraw || drawSize;
	          drawPlayers = allPlayers
	            .slice()
	            .sort((a, b) => a.natRank - b.natRank)
	            .slice(0, drawLimit);
	        }

	        const values = drawPlayers.map((p) => p.utr).filter((v) => Number.isFinite(v));
	        container.innerHTML = '';

	        const captionEl =
	          container.closest('.utr-histogram')?.querySelector('.utr-histogram-caption') ||
	          document.getElementById('utr-histogram-caption');

	        if (!values.length) {
	          if (captionEl) {
	            captionEl.textContent = 'No UTR ratings found for this table.';
	          }
	          return;
	        }

	        const highlightPlayer = drawPlayers.find((p) => p.highlight && Number.isFinite(p.utr));
	        const highlightUtr = highlightPlayer ? highlightPlayer.utr : null;

	        const binSize = 0.5;
	        const min = Math.min(...values);
	        const max = Math.max(...values);
	        const startBin = Math.floor(min / binSize) * binSize;
	        const endBin = Math.floor(max / binSize) * binSize;
	        const binCount = Math.round((endBin - startBin) / binSize) + 1;
	        const bins = new Array(binCount).fill(0);

	        values.forEach((value) => {
	          const idx = Math.floor((value - startBin) / binSize);
	          if (idx >= 0 && idx < bins.length) bins[idx] += 1;
	        });

	        const maxCount = Math.max(...bins, 1);
	        const highlightIndex =
	          highlightUtr !== null ? Math.floor((highlightUtr - startBin) / binSize) : null;

	        bins.forEach((count, index) => {
	          if (count === 0) return;
	          const start = startBin + index * binSize;
	          const row = document.createElement('div');
	          row.className = 'utr-bin';

	          if (highlightIndex !== null && highlightIndex === index) {
	            row.classList.add('is-highlight');
	          }

	          const label = document.createElement('div');
	          label.className = 'utr-bin-label';
	          label.textContent = formatUtrRangeLabel(start, binSize);

	          const barWrap = document.createElement('div');
	          barWrap.className = 'utr-bin-bar-wrap';

	          const bar = document.createElement('div');
	          bar.className = 'utr-bin-bar';
	          bar.style.width = `${(count / maxCount) * 100}%`;
	          barWrap.appendChild(bar);

	          const countEl = document.createElement('div');
	          countEl.className = 'utr-bin-count';
	          countEl.textContent = String(count);

	          row.appendChild(label);
	          row.appendChild(barWrap);
	          row.appendChild(countEl);
	          container.appendChild(row);
	        });

	        if (captionEl) {
	          let caption = `Based on ${values.length} of ${drawPlayers.length} draw players with UTR ratings.`;
	          if (highlightUtr !== null) caption += ' Alexis bin highlighted.';
	          captionEl.textContent = caption;
	        }
	      });
	    }

    // Sorting: support 1+ tables (e.g., mixed doubles has Girls + Boys tables).
    function initSortableTable(table) {
      const headers = Array.from(table.querySelectorAll('th'));
      const tbody = table.querySelector('tbody');
      if (!tbody || headers.length < 7) return;

      const sortableColumns = new Set([1, 2, 3, 4, 5, 6, 7]);
      const numericColumns = new Set();
      headers.forEach((header, idx) => {
        const label = (header.textContent || '').trim().toLowerCase();
        if (['wtn', 'utr', 'nat rank', 'combined nst', 'team nst'].includes(label)) {
          numericColumns.add(idx);
        }
      });
      const sortableHeaders = headers.filter((header, columnIndex) =>
        sortableColumns.has(columnIndex) && header.classList.contains('sortable')
      );

      function updateRowNumbers() {
        const rows = tbody.querySelectorAll('tr');
        rows.forEach((row, index) => {
          if (row.cells && row.cells[0]) row.cells[0].textContent = index + 1;
        });
      }

      function applySort(columnIndex, direction, activeHeader, updateHeaderStyle) {
        const rows = Array.from(tbody.querySelectorAll('tr'));

        rows.sort((a, b) => {
          const aText = a.cells[columnIndex]?.textContent.trim() || '';
          const bText = b.cells[columnIndex]?.textContent.trim() || '';
          const isNumeric = numericColumns.has(columnIndex);
          if (isNumeric) {
            const aVal = parseFloat(aText);
            const bVal = parseFloat(bText);
            if (Number.isNaN(aVal) && Number.isNaN(bVal)) return 0;
            if (Number.isNaN(aVal)) return 1;
            if (Number.isNaN(bVal)) return -1;
            return direction === 'asc' ? aVal - bVal : bVal - aVal;
          }
          const cmp = aText.localeCompare(bText, undefined, { sensitivity: 'base' });
          return direction === 'asc' ? cmp : -cmp;
        });

        tbody.innerHTML = '';
        rows.forEach(row => tbody.appendChild(row));
        updateRowNumbers();

        if (updateHeaderStyle) {
          headers.forEach(h => (h.style.backgroundColor = '#4472C4'));
          if (activeHeader) activeHeader.style.backgroundColor = '#2c5aa0';
        }
      }

      sortableHeaders.forEach(header => {
        if (!header.dataset.sort) header.dataset.sort = 'none';
        if (!header.title) header.title = 'Click to sort';
      });

      const natIdx = headers.findIndex(h => h.classList.contains('col-national'));
      const defaultIdx = natIdx >= 0 ? natIdx : 5;
      const defaultHeader = headers[defaultIdx];
      if (defaultHeader && sortableHeaders.includes(defaultHeader)) {
        sortableHeaders.forEach(h => {
          if (h !== defaultHeader) h.dataset.sort = 'none';
        });
        defaultHeader.dataset.sort = 'asc';
        applySort(defaultIdx, 'asc', defaultHeader, true);
      } else {
        updateRowNumbers();
      }

      headers.forEach((header, columnIndex) => {
        if (!sortableHeaders.includes(header)) return;
        header.addEventListener('click', () => {
          const currentSort = header.dataset.sort || 'none';
          const newSort = currentSort === 'asc' ? 'desc' : 'asc';
          sortableHeaders.forEach(h => {
            if (h !== header) h.dataset.sort = 'none';
          });
          header.dataset.sort = newSort;
          applySort(columnIndex, newSort, header, true);
        });
      });
    }

    document.querySelectorAll('.desktop-view table.players-table').forEach(initSortableTable);

    // Partner jump (mixed doubles): click partner name to scroll to their row.
    document.addEventListener('click', (e) => {
      const link = e.target.closest('.partner-jump');
      if (!link) return;
      e.preventDefault();
      const partnerKey = (link.getAttribute('data-partner-key') || '').trim();
      if (!partnerKey) return;
      const esc = (s) =>
        window.CSS && CSS.escape ? CSS.escape(s) : s.replace(/[^a-zA-Z0-9_-]/g, '\\\\$&');
      const row = document.querySelector(`.desktop-view tr[data-player-key="${esc(partnerKey)}"]`);
      if (!row) return;
      row.scrollIntoView({ behavior: 'smooth', block: 'center' });
      row.classList.add('partner-highlight');
      window.setTimeout(() => row.classList.remove('partner-highlight'), 1600);
    });
    decoratePlayerLinks();
    normalizeLastNames();
    normalizeLocations();
    buildUtrHistogram();
    updateRegistrationCountdown();
    setInterval(updateRegistrationCountdown, 60 * 1000);

    function getRegistrationCloseText() {
      const keyStats = document.querySelectorAll('.desktop-view .key-stat');
      for (const stat of keyStats) {
        const label = stat.querySelector('.key-label');
        const value = stat.querySelector('.key-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase() === 'closes') {
          return value.textContent.trim();
        }
      }

      const detailRows = document.querySelectorAll('.desktop-view .detail-row');
      for (const row of detailRows) {
        const label = row.querySelector('.detail-label');
        const value = row.querySelector('.detail-value');
        if (!label || !value) continue;
        if (label.textContent.trim().toLowerCase().startsWith('registration closes')) {
          return value.textContent.trim();
        }
      }

      return null;
    }

    function parseCloseDate(text) {
      if (!text) return null;
      const match = text.match(/([A-Za-z]+)\s+(\d{1,2}),\s*(\d{4})\s+at\s+(\d{1,2}):(\d{2})\s+([AP]M)\s+([A-Z]{2,4})/);
      if (!match) return null;

      const monthName = match[1];
      const day = parseInt(match[2], 10);
      const year = parseInt(match[3], 10);
      let hour = parseInt(match[4], 10);
      const minute = parseInt(match[5], 10);
      const ampm = match[6];
      const tz = match[7];

      const months = {
        January: 0, February: 1, March: 2, April: 3, May: 4, June: 5,
        July: 6, August: 7, September: 8, October: 9, November: 10, December: 11
      };
      const month = months[monthName];
      if (month === undefined) return null;

      hour = hour % 12 + (ampm === 'PM' ? 12 : 0);

      const offsets = {
        PST: -8, PDT: -7, PT: -8,
        MST: -7, MDT: -6,
        CST: -6, CDT: -5,
        EST: -5, EDT: -4
      };
      const offset = offsets[tz] ?? 0;
      const utcHour = hour - offset;
      const utcMs = Date.UTC(year, month, day, utcHour, minute, 0);
      return new Date(utcMs);
    }

    function updateRegistrationCountdown() {
      const badge = document.getElementById('registration-deadline-badge');
      const countdownEl = document.getElementById('registration-countdown');
      const dateEl = document.getElementById('registration-deadline-date');
      const mobileBadge = document.getElementById('mobile-deadline-badge');
      const mobileCountdown = document.getElementById('mobile-registration-countdown');
      const mobileDate = document.getElementById('mobile-registration-date');

      const closeText = getRegistrationCloseText();
      if (!closeText) {
        if (badge) badge.style.display = 'none';
        if (mobileBadge) mobileBadge.style.display = 'none';
        return;
      }

      const closeDate = parseCloseDate(closeText);
      if (!closeDate) {
        if (badge) badge.style.display = 'none';
        if (mobileBadge) mobileBadge.style.display = 'none';
        return;
      }

      const diffMs = closeDate.getTime() - Date.now();
      const timeText =
        diffMs <= 0
          ? 'Registration closed'
          : (() => {
              const days = Math.floor(diffMs / (24 * 60 * 60 * 1000));
              const hours = Math.floor((diffMs % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
              return `Closes in ${days}d ${hours}h`;
            })();

      if (badge && countdownEl && dateEl) {
        countdownEl.textContent = timeText;
        dateEl.textContent = closeText;
      }

      if (mobileBadge && mobileCountdown && mobileDate) {
        mobileCountdown.textContent = timeText;
        mobileDate.textContent = closeText;
      }
    }

    // Share button functionality
    const shareButton = document.createElement('button');
    shareButton.className = 'share-button';
    shareButton.innerHTML = '↗';
    shareButton.title = 'Share this report';
    shareButton.setAttribute('aria-label', 'Share tournament report');

    shareButton.addEventListener('click', async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: "Open Level 5 Championship — Fair Oaks (G12/G14 Singles)",
            text: 'Tournament Report - February 14 - 16, 2026',
            url: window.location.href
          });
        } catch (err) {
          if (err.name !== 'AbortError') {
            console.error('Share failed:', err);
          }
        }
      } else {
        // Fallback: Copy link to clipboard
        navigator.clipboard.writeText(window.location.href).then(() => {
          shareButton.innerHTML = '✓';
          setTimeout(() => {
            shareButton.innerHTML = '↗';
          }, 2000);
        });
      }
    });

    document.body.appendChild(shareButton);
  </script>
</body>
</html>
